         TITLE '****  IKTAY8: VTIOC LOGOFF/TERMINATION RESOURCE MANAGEM*00001000
               ENT  ***'                                                00002000
IKTAY8   CSECT ,                                                01S0001 00003000
@MAINENT DS    0H                                               01S0001 00004000
         USING *,@15                                            01S0001 00005000
         B     @PROLOG                                          01S0001 00006000
         DC    AL2(@EP00001-@MAINENT)                                   00007000
         DC    AL1(16)                                          01S0001 00008000
         DC    C'IKTAY8    80.232'                              01S0001 00009000
IKTAY81  DS    0H                                               01S0001 00010000
         USING *,@15                                            01S0001 00011000
         B     @PROLOG                                          01S0001 00012000
         DC    AL2(@EP00083-IKTAY81)                                    00013000
         ENTRY IKTAY81                                                  00014000
IKTAY82  DS    0H                                               01S0001 00015000
         USING *,@15                                            01S0001 00016000
         B     @PROLOG                                          01S0001 00017000
         DC    AL2(@EP00138-IKTAY82)                                    00018000
         ENTRY IKTAY82                                                  00019000
IKTAY83  DS    0H                                               01S0001 00020000
         USING *,@15                                            01S0001 00021000
         B     @PROLOG                                          01S0001 00022000
         DC    AL2(@EP00263-IKTAY83)                                    00023000
         ENTRY IKTAY83                                                  00024000
         DROP  @15                                                      00025000
@PROLOG  BALR  @06,0                                            01S0001 00026000
@PSTART  DS    0H                                               01S0001 00027000
         USING @PSTART,@06                                      01S0001 00028000
         LR    @03,@15                                          01S0001 00029000
         L     @00,@SIZDATD                                     01S0001 00030000
         GETMAIN  R,LV=(0)                                              00031000
         LR    @05,@01                                          01S0001 00032000
         USING @DATD,@05                                        01S0001 00033000
         LR    @15,@03                                          01S0001 00034000
         AH    @15,4(,@15)                                      01S0001 00035000
         BR    @15                                              01S0001 00036000
@EP00001 DS    0H                                               01S0002 00037000
SPSRB    EQU   239                  /* SUB POOL FOR TSO/VTAM SRBS    */ 00038000
SPTCAST  EQU   231                  /* SUB POOL FOR TCAST TABLE      */ 00039000
SPTSB    EQU   231                  /* SUB POOL FOR TSB, TSBX        */ 00040000
SPLBUF   EQU   231                  /* SUB POOL FOR LOGON BUFFER     */ 00041000
SPTVCS   EQU   231                  /* SUB POOL FOR TVCS             */ 00042000
KEYTCAS  EQU   6                    /* TSO/VTAM STORAGE KEY          */ 00043000
OFF12    EQU   12                   /* OFFSET IN SAVE AREA           */ 00044000
         EJECT                                                          00045000
*                                                               01S0083 00046000
*   /*****************************************************************/ 00047000
*   /*                                                               */ 00048000
*   /* IKTAY81: TCAS ADDRESS SPACE IS TERMINATING IF TSO/VTAM USERS  */ 00049000
*   /* ARE STILL ACTIVE, THE REQUESTORS FOR ELEMENTS ON THE CROSS    */ 00050000
*   /* MEMORY WORK ELEMENT CHAIN ARE POSTED AND THE CHAIN IS FREED.  */ 00051000
*   /* IF NO TSO/VTAM USERS ARE ACTIVE, THE WORK ELEMENT CHAIN, THE  */ 00052000
*   /* TIM/TOM LIST, AND THE TCAST TABLE ARE FREED                   */ 00053000
*   /*                                                               */ 00054000
*   /*****************************************************************/ 00055000
*                                                               01S0083 00056000
*IKTAY81:                                                       01S0083 00057000
*   ENTRY;                                                      01S0083 00058000
@EP00083 DS    0H                                               01S0084 00059000
*                                                               02S0084 00060000
*/********************************************************************/ 00061000
*/*                                                                  */ 00062000
*/* SEGMENT-                                                         */ 00063000
*/*      EPTLINK                                                     */ 00064000
*/*                                                                  */ 00065000
*/* FUNCTION-                                                        */ 00066000
*/*      ENTRY POINT LINKAGE                                         */ 00067000
*/*                                                          @ZM21130*/ 00068000
*/********************************************************************/ 00069000
*                                                               02S0084 00070000
*   DO;                             /* ENTRY LINKAGE         @ZM31130*/ 00071000
*     RFY                                                       02S0085 00072000
*      (REG0,                                                   02S0085 00073000
*       REG15) RSTD;                /* FOR STM               @ZM31130*/ 00074000
*     GEN(USING @PSTART,@06)        /* FOR STM               @ZM31130*/ 00075000
*     (USING @DATD,@05)             /* FOR STM               @ZM31130*/ 00076000
*     (L     @00,@SIZDATD)          /* FOR EXIT LINKAGE      @ZM31130*/ 00077000
*     (LR    @01,@05);              /* FOR EXIT LINKAGE      @ZM31130*/ 00078000
         USING @PSTART,@06                                              00079000
         USING @DATD,@05                                                00080000
         L     @00,@SIZDATD                                             00081000
         LR    @01,@05                                                  00082000
*     STM(REG0,REG15,SAVEREGS);     /* SAVE ENTRY REGISTERS  @ZM21130*/ 00083000
         STM   REG0,REG15,SAVEREGS                              02S0087 00084000
*     RFY                                                       02S0088 00085000
*      (REG0,                                                   02S0088 00086000
*       REG15) UNRSTD;              /* FOR STM               @ZM31130*/ 00087000
*     GEN SETS(RBASE,RDATA,RSAVE);                              02S0089 00088000
*                                   /* COMMON BASE REGISTERS @ZM31130*/ 00089000
         LR    RBASE,@06            /* ESTABLISH BASE        @ZM31130*/ 00090000
         LR    RDATA,@05            /* ADDRESS AUTODATA AREA @ZM31130*/ 00091000
         LR    RSAVE,@05            /* ADDRESS AUTODATA AREA @ZM31130*/ 00092000
         DROP  @05,@06              /* ENTRY CODE BASE       @ZM31130*/ 00093000
         USING @PSTART,RBASE        /* BASE ADDRESSABILITY   @ZM31130*/ 00094000
         USING @DATD,RDATA          /* SAVE AREA ADDRESSABILITY         00095000
*                                                            @ZM31130*/ 00096000
*   END;                            /* END OF SEGMENT        @ZM31130*/ 00097000
*   TCASTPTR=REG4;                  /* GET ADDRESS OF TCAS POINTER      00098000
*                                                            @ZM21005*/ 00099000
         ST    REG4,TCASTPTR                                    01S0091 00100000
*   RFY                                                         01S0092 00101000
*     REG4 UNRSTD;                  /*                       @ZM21005*/ 00102000
*   RFY                                                         01S0093 00103000
*     REG15 RSTD;                                               01S0093 00104000
*   GEN CODE REFS(PSALITA,FLC,RSAVE) SETS(REG0,REG1,REG14,REG15);       00105000
*                                   /*                       @ZM21005*/ 00106000
         SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,REGS=USE,               *00107000
               RELATED=(IKTAY81)    /*                       @ZM21005*/ 00108000
         SETLOCK OBTAIN,TYPE=CMS,MODE=UNCOND,REGS=USE,                 *00109000
               RELATED=(IKTAY81)    /*                       @ZM21005*/ 00110000
*   RFY                                                         01S0095 00111000
*     REG15 UNRSTD;                                             01S0095 00112000
*   TCASNACT='1'B;                  /* SET TCAS INACTIVE             */ 00113000
*   TCASABND='1'B;                  /* SET TCAS ABENDED              */ 00114000
*                                                               01S0097 00115000
         L     @15,TCASTPTR                                     01S0097 00116000
         OI    TCASNACT(@15),B'00101000'                        01S0097 00117000
*   /*****************************************************************/ 00118000
*   /*                                                               */ 00119000
*   /* IF NO MORE USERS ARE AROUND, THE TCAS WORK ELEMENT QUEUE IS   */ 00120000
*   /* FREED, THE TCAS TABLE IS FREED AND THE TCAS POINTER CVTTCASP  */ 00121000
*   /* IS ZEROED, AND THE TIM/TOM LIST IS FREED.                     */ 00122000
*   /*                                                               */ 00123000
*   /*****************************************************************/ 00124000
*                                                               01S0098 00125000
*   IF TCASUSEC=0 THEN                                          01S0098 00126000
         SLR   @04,@04                                          01S0098 00127000
         CH    @04,TCASUSEC(,@15)                               01S0098 00128000
         BNE   @RF00098                                         01S0098 00129000
*     DO;                           /* USER COUNT IS ZERO            */ 00130000
*       IF TCASTTQH>0 THEN          /* SEE IF WRK-ELEM QUEUE EXISTS  */ 00131000
         L     @15,TCASTTQH(,@15)                               01S0100 00132000
         CR    @15,@04                                          01S0100 00133000
         BNH   @RF00100                                         01S0100 00134000
*         DO;                       /* SET COMPLIMENT OF TCASTTQH TO    00135000
*                                      PREVENT ENQUEUE OF OTHER WORK    00136000
*                                      ELEMENTS AND FREE QUEUE       */ 00137000
*           RFY                                                 01S0102 00138000
*            (RWORKV,                                           01S0102 00139000
*             RWORKW) RSTD;                                     01S0102 00140000
*           RWORKV=TCASTTQH;        /* GET ADDR OF TCASTTQH          */ 00141000
         LR    RWORKV,@15                                       01S0103 00142000
*CSLOOP6:                                                       01S0104 00143000
*           RWORKW=RWORKV;          /* GET CURRENT QUEUE ADDRESS     */ 00144000
CSLOOP6  LR    RWORKW,RWORKV                                    01S0104 00145000
*           GEN(LCR RWORKW,RWORKW)                              01S0105 00146000
*           REFS(RWORKW);           /* GET COMPLIMENT OF ADDRESS     */ 00147000
         LCR RWORKW,RWORKW                                              00148000
*           CS(RWORKV,RWORKW,TCASTTQH);/* STORE IN TCASTTQH          */ 00149000
         L     @15,TCASTPTR                                     01S0106 00150000
         CS    RWORKV,@05,TCASTTQH(@15)                         01S0106 00151000
*           BC(NE,CSLOOP6);         /* LOOP TIL DONE                 */ 00152000
         BC    7,CSLOOP6                                        01S0107 00153000
*           RFY                                                 01S0108 00154000
*            (RWORKV,                                           01S0108 00155000
*             RWORKW) UNRSTD;                                   01S0108 00156000
*           CALL FRWESTD;           /* FREE WORK ELEMENT QUEUE       */ 00157000
         BAL   @14,FRWESTD                                      01S0109 00158000
*         END;                                                  01S0110 00159000
*       ELSE                                                    01S0111 00160000
*         ;                                                     01S0111 00161000
@RF00100 DS    0H                                               01S0112 00162000
*       IF TCASTTL^=0 THEN          /* SEE IF TIM/TOM LIST EXISTS    */ 00163000
         L     @15,TCASTPTR                                     01S0112 00164000
         L     @15,TCASTTL(,@15)                                01S0112 00165000
         LTR   @15,@15                                          01S0112 00166000
         BZ    @RF00112                                         01S0112 00167000
*         CALL FRTTLIST;            /* FREE THE TIM/TOM LIST         */ 00168000
         BAL   @14,FRTTLIST                                     01S0113 00169000
*       ELSE                                                    01S0114 00170000
*         ;                                                     01S0114 00171000
@RF00112 DS    0H                                               01S0115 00172000
*       CALL FRTCAST;               /* FREE TCAS TABLE AND ZERO 01S0115 00173000
*                                      CVTTCASP                      */ 00174000
         BAL   @14,FRTCAST                                      01S0115 00175000
*     END;                                                      01S0116 00176000
*   ELSE                                                        01S0117 00177000
*                                                               01S0117 00178000
*     /***************************************************************/ 00179000
*     /*                                                             */ 00180000
*     /* IF USERS ARE STILL UP, THEY ARE ALLOWED TO CONTINUE. THE    */ 00181000
*     /* ECBS FOR WORK ELEMENTS ON THE QUEUE ARE POSTED AND THE      */ 00182000
*     /* ELEMENTS ARE FREED.                                         */ 00183000
*     /*                                                             */ 00184000
*     /***************************************************************/ 00185000
*                                                               01S0117 00186000
*     IF TCASTTQH>0 THEN            /* SEE IF WRK-ELEM QUEUE EXISTS  */ 00187000
         B     @RC00098                                         01S0117 00188000
@RF00098 L     @15,TCASTPTR                                     01S0117 00189000
         L     @15,TCASTTQH(,@15)                               01S0117 00190000
         LTR   @15,@15                                          01S0117 00191000
         BNP   @RF00117                                         01S0117 00192000
*       DO;                         /* SET COMPLIMENT OF TCASTTQH TO    00193000
*                                      PREVENT ENQUEUE OF OTHER WORK    00194000
*                                      ELEMENTS, POST THE REQUESTORS,   00195000
*                                      FREE QUEUE                    */ 00196000
*         RFY                                                   01S0119 00197000
*          (RWORKV,                                             01S0119 00198000
*           RWORKW) RSTD;                                       01S0119 00199000
*         RWORKV=TCASTTQH;          /* GET ADDR OF TCASTTQH          */ 00200000
         LR    RWORKV,@15                                       01S0120 00201000
*CSLOOP7:                                                       01S0121 00202000
*         RWORKW=RWORKV;            /* GET CURRENT QUEUE ADDRESS     */ 00203000
CSLOOP7  LR    RWORKW,RWORKV                                    01S0121 00204000
*         GEN(LCR RWORKW,RWORKW)                                01S0122 00205000
*         REFS(RWORKW);             /* GET COMPLIMENT OF ADDRESS     */ 00206000
         LCR RWORKW,RWORKW                                              00207000
*         CS(RWORKV,RWORKW,TCASTTQH);/* STORE IN TCASTTQH            */ 00208000
         L     @15,TCASTPTR                                     01S0123 00209000
         CS    RWORKV,@05,TCASTTQH(@15)                         01S0123 00210000
*         BC(NE,CSLOOP7);           /* LOOP TIL DONE                 */ 00211000
         BC    7,CSLOOP7                                        01S0124 00212000
*         RFY                                                   01S0125 00213000
*          (RWORKV,                                             01S0125 00214000
*           RWORKW) UNRSTD;                                     01S0125 00215000
*         CALL POSTWECB;            /* POST REQUESTORS' ECBS         */ 00216000
         BAL   @14,POSTWECB                                     01S0126 00217000
*         CALL FRWESTD;             /* FREE WORK ELEMENT QUEUE       */ 00218000
         BAL   @14,FRWESTD                                      01S0127 00219000
*       END;                                                    01S0128 00220000
*     ELSE                                                      01S0129 00221000
*       ;                                                       01S0129 00222000
*                                                               01S0129 00223000
@RF00117 DS    0H                                               01S0130 00224000
*   /*****************************************************************/ 00225000
*   /*                                                               */ 00226000
*   /* RELEASE LOCKS, AND RETURN TO RTM2                             */ 00227000
*   /*                                                               */ 00228000
*   /*****************************************************************/ 00229000
*                                                               01S0130 00230000
*   RFY                                                         01S0130 00231000
*    (REG0,                                                     01S0130 00232000
*     REG1) RSTD;                   /*                       @ZM31130*/ 00233000
@RC00098 DS    0H                                               01S0131 00234000
*   GEN CODE REFS(RSAVE,PSALITA,FLC) SETS(REG0,REG1,REG14,REG15);       00235000
*                                   /*                       @ZM21005*/ 00236000
         SETLOCK RELEASE,TYPE=CMS,REGS=USE,RELATED=(IKTAY81)            00237000
         SETLOCK RELEASE,TYPE=LOCAL,REGS=USE,RELATED=(IKTAY81)          00238000
*   RFY                                                         01S0132 00239000
*    (REG0,                                                     01S0132 00240000
*     REG1) UNRSTD;                 /*                       @ZM31130*/ 00241000
*                                                               02S0133 00242000
*/********************************************************************/ 00243000
*/*                                                                  */ 00244000
*/* SEGMENT-                                                         */ 00245000
*/*      XITLINK                                                     */ 00246000
*/*                                                                  */ 00247000
*/* FUNCTION-                                                        */ 00248000
*/*      RETURN LINKAGE                                              */ 00249000
*/*                                                          @ZM21130*/ 00250000
*/********************************************************************/ 00251000
*                                                               02S0133 00252000
*   DO;                             /* RETURN LINKAGE        @ZM31130*/ 00253000
*     RFY                                                       02S0134 00254000
*      (REG0,                                                   02S0134 00255000
*       REG15) RSTD;                /* FOR LM                @ZM31130*/ 00256000
*     LM(REG0,REG15,SAVEREGS);      /* RESTORE REGISTERS     @ZM31130*/ 00257000
         LM    REG0,REG15,SAVEREGS                              02S0135 00258000
*     GEN EXIT;                                                 02S0136 00259000
*                                   /* RETURN LINKAGE        @ZM31130*/ 00260000
         FREEMAIN R,LV=(0),A=(1)    /* RELEASE AUTODATA AREA @ZM31130*/ 00261000
         LM    @14,@12,12(13)       /* RESTORE REGISTERS     @ZM21274*/ 00262000
         SR    @15,@15              /* SET RETURN CODE 0     @ZM31130*/ 00263000
         BR    @14                  /* AND RETURN            @ZM31130*/ 00264000
         DROP  RBASE,RDATA          /* COMMON BASE REGISTERS @ZM31130*/ 00265000
*   END;                            /* END OF SEGMENT        @ZM31130*/ 00266000
         EJECT                                                          00267000
*                                                               01S0138 00268000
*   /*****************************************************************/ 00269000
*   /*                                                               */ 00270000
*   /* IKTAY82: TSO/VTAM USER IS TERMINATING THE TSB IS REMOVED FROM */ 00271000
*   /* THE TSB CHAIN. THE TERMINAL IS RELEASED IF IT IS NOT YET OWNED*/ 00272000
*   /* BY THE TERMINATING SPACE CROSS MEMORY TPUTS TO AND FROM THE   */ 00273000
*   /* TERMINATING ADDRESS SPACE ARE IDENTIFIED AND RESOLVED. TIM AND*/ 00274000
*   /* TOM SRBS, TSB AND TSBX, AND THE LOGON BUFFER (IF IT IS STILL  */ 00275000
*   /* AROUND) ARE FREED. IF THE LAST USER IS GOING DOWN AND TCAS HAS*/ 00276000
*   /* ABENDED, THE WORK ELEMENT CHAIN, THE TIM/TOM LIST AND THE     */ 00277000
*   /* TCAST TABLE ARE FREED. IF THE LAST USER IS GOING DOWN AND TCAS*/ 00278000
*   /* HAS BEEN STOPPED, TCAS IS POSTED TO CONTINUE ITS TERMINATION. */ 00279000
*   /* IF THE LAST USER IS GOING DOWN AND TCAS IS STILL ACTIVE, TCAS */ 00280000
*   /* CONTROL BLOCKS ARE LEFT IN TACT TO HANDLE FUTURE USERS.       */ 00281000
*   /*                                                               */ 00282000
*   /*****************************************************************/ 00283000
*                                                               01S0138 00284000
*IKTAY82:                                                       01S0138 00285000
*   ENTRY;                                                      01S0138 00286000
@EP00138 DS    0H                                               01S0139 00287000
*                                                               02S0139 00288000
*/********************************************************************/ 00289000
*/*                                                                  */ 00290000
*/* SEGMENT-                                                         */ 00291000
*/*      EPTLINK                                                     */ 00292000
*/*                                                                  */ 00293000
*/* FUNCTION-                                                        */ 00294000
*/*      ENTRY POINT LINKAGE                                         */ 00295000
*/*                                                          @ZM21130*/ 00296000
*/********************************************************************/ 00297000
*                                                               02S0139 00298000
*   DO;                             /* ENTRY LINKAGE         @ZM31130*/ 00299000
*     RFY                                                       02S0140 00300000
*      (REG0,                                                   02S0140 00301000
*       REG15) RSTD;                /* FOR STM               @ZM31130*/ 00302000
*     GEN(USING @PSTART,@06)        /* FOR STM               @ZM31130*/ 00303000
*     (USING @DATD,@05)             /* FOR STM               @ZM31130*/ 00304000
*     (L     @00,@SIZDATD)          /* FOR EXIT LINKAGE      @ZM31130*/ 00305000
*     (LR    @01,@05);              /* FOR EXIT LINKAGE      @ZM31130*/ 00306000
         USING @PSTART,@06                                              00307000
         USING @DATD,@05                                                00308000
         L     @00,@SIZDATD                                             00309000
         LR    @01,@05                                                  00310000
*     STM(REG0,REG15,SAVEREGS);     /* SAVE ENTRY REGISTERS  @ZM21130*/ 00311000
         STM   REG0,REG15,SAVEREGS                              02S0142 00312000
*     RFY                                                       02S0143 00313000
*      (REG0,                                                   02S0143 00314000
*       REG15) UNRSTD;              /* FOR STM               @ZM31130*/ 00315000
*     GEN SETS(RBASE,RDATA,RSAVE);                              02S0144 00316000
*                                   /* COMMON BASE REGISTERS @ZM31130*/ 00317000
         LR    RBASE,@06            /* ESTABLISH BASE        @ZM31130*/ 00318000
         LR    RDATA,@05            /* ADDRESS AUTODATA AREA @ZM31130*/ 00319000
         LR    RSAVE,@05            /* ADDRESS AUTODATA AREA @ZM31130*/ 00320000
         DROP  @05,@06              /* ENTRY CODE BASE       @ZM31130*/ 00321000
         USING @PSTART,RBASE        /* BASE ADDRESSABILITY   @ZM31130*/ 00322000
         USING @DATD,RDATA          /* SAVE AREA ADDRESSABILITY         00323000
*                                                            @ZM31130*/ 00324000
*   END;                            /* END OF SEGMENT        @ZM31130*/ 00325000
*   RFY                                                         01S0146 00326000
*     REG4 RSTD;                    /*                       @ZM21005*/ 00327000
*   TCASTPTR=REG4;                  /* GET ADDRESS OF TCAS POINTER      00328000
*                                                            @ZM21005*/ 00329000
         ST    REG4,TCASTPTR                                    01S0147 00330000
*   RFY                                                         01S0148 00331000
*     REG4 UNRSTD;                  /*                       @ZM21005*/ 00332000
*   RFY                                                         01S0149 00333000
*     REG15 RSTD;                                               01S0149 00334000
*   GEN CODE REFS(PSALITA,FLC,RSAVE) SETS(REG0,REG1,REG14,REG15);       00335000
*                                   /*                       @ZM21005*/ 00336000
         SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,REGS=USE,               *00337000
               RELATED=(IKTAY82)    /*                       @ZM21005*/ 00338000
         SETLOCK OBTAIN,TYPE=CMS,MODE=UNCOND,REGS=USE,                 *00339000
               RELATED=(IKTAY82)    /*                       @ZM21005*/ 00340000
*   RFY                                                         01S0151 00341000
*     REG15 UNRSTD;                                             01S0151 00342000
*                                                               01S0151 00343000
*   /*****************************************************************/ 00344000
*   /*                                                               */ 00345000
*   /* UNCHAIN THE TSB. THE TSO/VTAM TSBS ARE CHAINED OFF OF THE     */ 00346000
*   /* TCAST TABLE WITH THE ADDRESS OF THE FIRST TSB IN TCASTSB.     */ 00347000
*   /*                                                               */ 00348000
*   /*****************************************************************/ 00349000
*                                                               01S0152 00350000
*   TSBDISC='1'B;                   /* MARK USER AS DISCONNECTED     */ 00351000
         OI    TSBDISC(TSBPTR),B'00000100'                      01S0152 00352000
*   TSBHUNG='1'B;                                               01S0153 00353000
*   TSBCANC='1'B;                                               01S0154 00354000
         OI    TSBHUNG(TSBPTR),B'00010100'                      01S0154 00355000
*   IF TSBXFWD=0 THEN                                           01S0155 00356000
         SLR   @15,@15                                          01S0155 00357000
         L     @04,TSBEXTNT(,TSBPTR)                            01S0155 00358000
         C     @15,TSBXFWD(,@04)                                01S0155 00359000
         BNE   @RF00155                                         01S0155 00360000
*     IF TSBXBCK=0 THEN             /* THIS ONLY TSB ON CHAIN        */ 00361000
         C     @15,TSBXBCK(,@04)                                01S0156 00362000
         BNE   @RF00156                                         01S0156 00363000
*       TCASTSB=0;                                              01S0157 00364000
         L     @04,TCASTPTR                                     01S0157 00365000
         ST    @15,TCASTSB(,@04)                                01S0157 00366000
*     ELSE                          /* THIS IS LAST TSB ON CHAIN     */ 00367000
*       TSBXBCK->TSBEXTNT->TSBXFWD=0;                           01S0158 00368000
         B     @RC00156                                         01S0158 00369000
@RF00156 L     @15,TSBEXTNT(,TSBPTR)                            01S0158 00370000
         L     @15,TSBXBCK(,@15)                                01S0158 00371000
         L     @15,TSBEXTNT(,@15)                               01S0158 00372000
         SLR   @04,@04                                          01S0158 00373000
         ST    @04,TSBXFWD(,@15)                                01S0158 00374000
*   ELSE                                                        01S0159 00375000
*     IF TSBXBCK^=0 THEN            /* THIS IS A MIDDLE TSB          */ 00376000
         B     @RC00155                                         01S0159 00377000
@RF00155 L     @15,TSBEXTNT(,TSBPTR)                            01S0159 00378000
         L     @04,TSBXBCK(,@15)                                01S0159 00379000
         LTR   @04,@04                                          01S0159 00380000
         BZ    @RF00159                                         01S0159 00381000
*       DO;                                                     01S0160 00382000
*         TSBXBCK->TSBEXTNT->TSBXFWD=TSBXFWD;                   01S0161 00383000
         L     @01,TSBEXTNT(,@04)                               01S0161 00384000
         L     @15,TSBXFWD(,@15)                                01S0161 00385000
         ST    @15,TSBXFWD(,@01)                                01S0161 00386000
*         TSBXFWD->TSBEXTNT->TSBXBCK=TSBXBCK;                   01S0162 00387000
         L     @15,TSBEXTNT(,@15)                               01S0162 00388000
         ST    @04,TSBXBCK(,@15)                                01S0162 00389000
*       END;                                                    01S0163 00390000
*     ELSE                          /* THIS IS FIRST TSB ON CHAIN    */ 00391000
*       DO;                                                     01S0164 00392000
         B     @RC00159                                         01S0164 00393000
@RF00159 DS    0H                                               01S0165 00394000
*         TSBXFWD->TSBEXTNT->TSBXBCK=0;                         01S0165 00395000
         L     @15,TSBEXTNT(,TSBPTR)                            01S0165 00396000
         L     @15,TSBXFWD(,@15)                                01S0165 00397000
         L     @04,TSBEXTNT(,@15)                               01S0165 00398000
         SLR   @03,@03                                          01S0165 00399000
         ST    @03,TSBXBCK(,@04)                                01S0165 00400000
*         TCASTSB=TSBXFWD;                                      01S0166 00401000
         L     @04,TCASTPTR                                     01S0166 00402000
         ST    @15,TCASTSB(,@04)                                01S0166 00403000
*       END;                                                    01S0167 00404000
*                                                               01S0167 00405000
*   /*****************************************************************/ 00406000
*   /*                                                               */ 00407000
*   /* REQUEST TCAS TO RELEASE TERMINALS NOT YET OWNED BY THE        */ 00408000
*   /* TERMINATING ADDRESS SPACE.                                    */ 00409000
*   /*                                                               */ 00410000
*   /*****************************************************************/ 00411000
*                                                               01S0168 00412000
*   IF(TSBXACTV='0'B)&              /* IF TERMINAL IS NOT OWNED BY   */ 00413000
*       (TCASNACT='0'B)&            /* ADDRESS SPACE AND TCAS IS     */ 00414000
*       (TCASABND='0'B)&            /* ACTIVE AND RELEASE HAS NOT    */ 00415000
*       (TSBXLBUF^=0) THEN          /* BEEN REQUESTED (LBUF ^= 0)    */ 00416000
@RC00159 DS    0H                                               01S0168 00417000
@RC00155 L     @15,TSBEXTNT(,TSBPTR)                            01S0168 00418000
         TM    TSBXACTV(@15),B'01000000'                        01S0168 00419000
         BNZ   @RF00168                                         01S0168 00420000
         L     @04,TCASTPTR                                     01S0168 00421000
         TM    TCASNACT(@04),B'00101000'                        01S0168 00422000
         BNZ   @RF00168                                         01S0168 00423000
         L     @15,TSBXLBUF(,@15)                               01S0168 00424000
         LTR   @15,@15                                          01S0168 00425000
         BZ    @RF00168                                         01S0168 00426000
*     CALL REQREL;                  /* THEN- REQUEST RELEASE OF 01S0169 00427000
*                                      TERMINAL BY TCAS              */ 00428000
         BAL   @14,REQREL                                       01S0169 00429000
*   ELSE                            /* TERMINAL IS OWNED BY ADDRESS     00430000
*                                      SPACE                         */ 00431000
*                                                               01S0170 00432000
*     /***************************************************************/ 00433000
*     /*                                                             */ 00434000
*     /* LOOK FOR AN ASID TPUT TO TERMINATING ADDRESS SPACE          */ 00435000
*     /*                                                             */ 00436000
*     /***************************************************************/ 00437000
*                                                               01S0170 00438000
*     DO;                           /* TVCS PROCESSING               */ 00439000
         B     @RC00168                                         01S0170 00440000
@RF00168 DS    0H                                               01S0171 00441000
*       IF TSBXCSAP^=0 THEN         /* SEE IF THERE IS AN ASID TPUT     00442000
*                                      TO THE TERMINATING ADDRESS       00443000
*                                      SPACE                         */ 00444000
         L     @15,TSBEXTNT(,TSBPTR)                            01S0171 00445000
         L     @15,TSBXCSAP(,@15)                               01S0171 00446000
         LTR   @15,@15                                          01S0171 00447000
         BZ    @RF00171                                         01S0171 00448000
*         DO;                                                   01S0172 00449000
*           RFY                                                 01S0173 00450000
*            (RWORKV,                                           01S0173 00451000
*             RWORKW,                                           01S0173 00452000
*             RWORKX) RSTD;                                     01S0173 00453000
*           RWORKV=TVCSINDS;        /* GET TVCS INDICATORS           */ 00454000
         L     RWORKV,TVCSINDS(,@15)                            01S0174 00455000
*CSLOOP1:                                                       01S0175 00456000
*           WRKINDS=RWORKV;         /* RWORKV IS SET WHEN CS FAILS   */ 00457000
CSLOOP1  ST    RWORKV,WRKINDS                                   01S0175 00458000
*           IF WRKSRCRC='1'B THEN   /* SOURCE HAS RELENQUISHED CNTL  */ 00459000
*                                                               01S0176 00460000
         TM    WRKSRCRC,B'10000000'                             01S0176 00461000
         BNO   @RF00176                                         01S0176 00462000
*             /*******************************************************/ 00463000
*             /*                                                     */ 00464000
*             /* IF THE SOURCE ADDR SPACE HAS RELINQUISHED CNTL OF   */ 00465000
*             /* CSA AREA, FREE THE SRB AND TVCS                     */ 00466000
*             /*                                                     */ 00467000
*             /*******************************************************/ 00468000
*                                                               01S0177 00469000
*             DO;                                               01S0177 00470000
*               RFY                                             01S0178 00471000
*                 REG1 RSTD;        /* SET UP PARAMETER TO FREESRB   */ 00472000
*               REG1=TVCSSRBA;      /* GET ADDR OF SRB               */ 00473000
         L     @15,TSBEXTNT(,TSBPTR)                            01S0179 00474000
         L     @15,TSBXCSAP(,@15)                               01S0179 00475000
         L     REG1,TVCSSRBA-1(,@15)                            01S0179 00476000
         LA    REG1,0(,REG1)                                    01S0179 00477000
*               CALL FREESRB;       /* FREE SRB                      */ 00478000
         BAL   @14,FREESRB                                      01S0180 00479000
*               REG1=TSBPTR;        /* GET ADDRESS OF TSB            */ 00480000
         LR    REG1,TSBPTR                                      01S0181 00481000
*               CALL FREETVCS;      /* FREE TVCS                     */ 00482000
         BAL   @14,FREETVCS                                     01S0182 00483000
*               RFY                                             01S0183 00484000
*                 REG1 UNRSTD;                                  01S0183 00485000
*             END;                                              01S0184 00486000
*           ELSE                    /* SOURCE HAS NOT RELENQUISHED      00487000
*                                      CONTROL                       */ 00488000
*                                                               01S0185 00489000
*             /*******************************************************/ 00490000
*             /*                                                     */ 00491000
*             /* SET INDICATOR IN TVCS THAT THE TARGET (THE          */ 00492000
*             /* TERMINATING ADDRESS SPACE) RELINQUISHES CNTL OF THE */ 00493000
*             /* CSA AREA AND COMPARE AND SWAP TO UPDATE THE         */ 00494000
*             /* INDICATORS IN THE TVCS.                             */ 00495000
*             /*                                                     */ 00496000
*             /*******************************************************/ 00497000
*                                                               01S0185 00498000
*             DO;                                               01S0185 00499000
         B     @RC00176                                         01S0185 00500000
@RF00176 DS    0H                                               01S0186 00501000
*               WRKTGRC='1'B;       /* SET TARGET RELENQUISHES CNTL  */ 00502000
         OI    WRKTGRC,B'01000000'                              01S0186 00503000
*               RWORKW=WRKINDS;     /* SET UPDATE REGISTER           */ 00504000
         L     RWORKW,WRKINDS                                   01S0187 00505000
*               CS(RWORKV,RWORKW,TVCSINDS);                     01S0188 00506000
         L     @15,TSBEXTNT(,TSBPTR)                            01S0188 00507000
         L     @15,TSBXCSAP(,@15)                               01S0188 00508000
         CS    RWORKV,@05,TVCSINDS(@15)                         01S0188 00509000
*               BC(NE,CSLOOP1);     /* REPEAT IF CS FAILED           */ 00510000
*                                                               01S0189 00511000
         BC    7,CSLOOP1                                        01S0189 00512000
*               /*****************************************************/ 00513000
*               /*                                                   */ 00514000
*               /* POST THE TVCS ECB THAT THE ASID TPUT IS COMPLETE, */ 00515000
*               /* WITH CONDITION CODE '14'X TO INFORM THE SOURCE    */ 00516000
*               /* THAT THE TARGET HAS TERMINATED.                   */ 00517000
*               /*                                                   */ 00518000
*               /*****************************************************/ 00519000
*                                                               01S0190 00520000
*               RFY                                             01S0190 00521000
*                 RWORKY RSTD;                                  01S0190 00522000
*               RWORKV=REG10;       /* SAVE REGS 10-13 IN WORK REGS  */ 00523000
         LR    RWORKV,REG10                                     01S0191 00524000
*               RWORKW=REG11;       /* SINCE THEY ARE DESTROYED BY   */ 00525000
         LR    RWORKW,REG11                                     01S0192 00526000
*               RWORKX=REG12;       /* POST                          */ 00527000
         LR    RWORKX,REG12                                     01S0193 00528000
*               RWORKY=REG13;                                   01S0194 00529000
*                                                               01S0194 00530000
         LR    RWORKY,REG13                                     01S0194 00531000
*               /*****************************************************/ 00532000
*               /*                                                   */ 00533000
*               /* POST IS INVOKED VIA A BRANCH ENTRY WITH THE       */ 00534000
*               /* FOLLOWING INTERFACE REG10 = COMPLETION CODE REG11 */ 00535000
*               /* = ECB ADDRESS-'80'X IN BYTE 0 FOR CROSS MEMORY    */ 00536000
*               /* POST REG12 = ERRET ADDRESS REG13 = ASCB ADDRESS   */ 00537000
*               /* REG14 = RETURN ADDRESS REG15 = POST EPA (CVT0PT01)*/ 00538000
*               /* UPON RETURN REGS 0-9,14 ARE UNCHANGED THE LOCAL   */ 00539000
*               /* LOCK ONLY IS HELD FOR THE BRANCH TO CONFORM WITH  */ 00540000
*               /* DOCUMENTATION. THEREFORE THE CMS LOCK IS RELEASED */ 00541000
*               /* BEFORE AND OBTAINED AFTER THE POST                */ 00542000
*               /*                                                   */ 00543000
*               /*****************************************************/ 00544000
*                                                               01S0195 00545000
*               REG10='14'X;        /* SET CONDITION CODE            */ 00546000
         LA    REG10,20                                         01S0195 00547000
*               REG11=ADDR(TVCSECB);/* ADDR OF ECB                   */ 00548000
         L     @15,TSBEXTNT(,TSBPTR)                            01S0196 00549000
         L     REG11,TSBXCSAP(,@15)                             01S0196 00550000
         LA    REG11,TVCSECB(,REG11)                            01S0196 00551000
*               REG11=REG11|'80000000'X;/* SET XMPOST        @YM03223*/ 00552000
         O     REG11,@CF01639                                   01S0197 00553000
*               REG12=ADDR(CVTBRET);/* ADDR OF ERRET                 */ 00554000
         L     REG12,CVTPTR                                     01S0198 00555000
         LA    REG12,CVTBRET(,REG12)                            01S0198 00556000
*               GEN CODE REFS(REG13,PSALITA,FLC) SETS(REG0,REG1,REG14,  00557000
*                   REG15);                                     01S0199 00558000
*                                   /*                       @ZM21005*/ 00559000
         SETLOCK RELEASE,TYPE=CMS,REGS=USE,RELATED=('POST TVCS')  /*    00560000
*                                                            @ZM21005*/ 00561000
*               RFY                                             01S0200 00562000
*                (REG14,                                        01S0200 00563000
*                 REG15) RSTD;                                  01S0200 00564000
*               REG13=TVCSASCB;     /* ADDR OF ASCB                  */ 00565000
         L     @01,TSBEXTNT(,TSBPTR)                            01S0201 00566000
         L     @01,TSBXCSAP(,@01)                               01S0201 00567000
         L     REG13,TVCSASCB(,@01)                             01S0201 00568000
*               REG15=CVT0PT01;     /* ADDR OF POST ENTRY            */ 00569000
         L     @01,CVTPTR                                       01S0202 00570000
         L     REG15,CVT0PT01(,@01)                             01S0202 00571000
*               GEN(BALR REG14,REG15)                           01S0203 00572000
*               REFS(REG15) SETS(REG14);/* CALL POST                 */ 00573000
         BALR REG14,REG15                                               00574000
*               REG13=RWORKY;       /* RESTORE SAVE AREA ADDR FOR       00575000
*                                      SETLOCK                       */ 00576000
         LR    REG13,RWORKY                                     01S0204 00577000
*               GEN CODE REFS(REG13,PSALITA,FLC) SETS(REG0,REG1,REG14,  00578000
*                   REG15);                                     01S0205 00579000
*                                   /*                       @ZM21005*/ 00580000
         SETLOCK OBTAIN,TYPE=CMS,MODE=UNCOND,REGS=USE,                 *00581000
               RELATED=('POST TCAS')  /*                     @ZM21005*/ 00582000
*               REG10=RWORKV;       /* RESTORE REGS 10-12 FROM       */ 00583000
         LR    REG10,RWORKV                                     01S0206 00584000
*               REG11=RWORKW;       /* SAVE REGS                     */ 00585000
         LR    REG11,RWORKW                                     01S0207 00586000
*               REG12=RWORKX;                                   01S0208 00587000
         LR    REG12,RWORKX                                     01S0208 00588000
*               RFY                                             01S0209 00589000
*                (RWORKV,                                       01S0209 00590000
*                 RWORKW,                                       01S0209 00591000
*                 RWORKX,                                       01S0209 00592000
*                 RWORKY,                                       01S0209 00593000
*                 REG14,                                        01S0209 00594000
*                 REG15) UNRSTD;                                01S0209 00595000
*             END;                                              01S0210 00596000
*         END;                                                  01S0211 00597000
*       ELSE                                                    01S0212 00598000
*         ;                         /* END OF TVCS PROCESSING        */ 00599000
*                                                               01S0212 00600000
@RF00171 DS    0H                                               01S0213 00601000
*       /*************************************************************/ 00602000
*       /*                                                           */ 00603000
*       /* CLEAN UP ASID TPUTS FROM TERMINATING ADDRESS SPACE BY     */ 00604000
*       /* SEARCHING BOTH THE TCAM TSB CHAIN AND THE VTAM TSB CHAIN. */ 00605000
*       /* FIRST THE TCAM TSB CHAIN IS SEARCHED, THEN VTAM TSBS.     */ 00606000
*       /*                                                           */ 00607000
*       /*************************************************************/ 00608000
*                                                               01S0213 00609000
*       CALL SRCHTCAM;                                          01S0213 00610000
@RC00171 BAL   @14,SRCHTCAM                                     01S0213 00611000
*       CALL SRCHVTAM;                                          01S0214 00612000
*                                                               01S0214 00613000
         BAL   @14,SRCHVTAM                                     01S0214 00614000
*       /*************************************************************/ 00615000
*       /*                                                           */ 00616000
*       /* FREE THE TIM AND TOM SRBS IF NECESSARY                    */ 00617000
*       /*                                                           */ 00618000
*       /*************************************************************/ 00619000
*                                                               01S0215 00620000
*       IF TSBXSRB^=0 THEN          /* LOOK FOR TOM SRB              */ 00621000
         L     @04,TSBEXTNT(,TSBPTR)                            01S0215 00622000
         L     @04,TSBXSRB(,@04)                                01S0215 00623000
         LTR   @04,@04                                          01S0215 00624000
         BZ    @RF00215                                         01S0215 00625000
*         DO;                                                   01S0216 00626000
*           RFY                                                 01S0217 00627000
*             REG1 RSTD;                                        01S0217 00628000
*           REG1=TSBXSRB;           /* REG1 POINTS TO TOM SRB        */ 00629000
         LR    REG1,@04                                         01S0218 00630000
*           CALL FREESRB;           /* FREE TOM SRB                  */ 00631000
         BAL   @14,FREESRB                                      01S0219 00632000
*         END;                                                  01S0220 00633000
*       ELSE                                                    01S0221 00634000
*         ;                                                     01S0221 00635000
@RF00215 DS    0H                                               01S0222 00636000
*       IF TSBXSRBI^=0 THEN         /* LOOK FOR TIM SRB              */ 00637000
         L     @04,TSBEXTNT(,TSBPTR)                            01S0222 00638000
         L     @04,TSBXSRBI(,@04)                               01S0222 00639000
         LTR   @04,@04                                          01S0222 00640000
         BZ    @RF00222                                         01S0222 00641000
*         DO;                                                   01S0223 00642000
*           REG1=TSBXSRBI;          /* REG1 POINTS TO TIM SRB        */ 00643000
         LR    REG1,@04                                         01S0224 00644000
*           CALL FREESRB;           /* FREE TIM SRB                  */ 00645000
         BAL   @14,FREESRB                                      01S0225 00646000
*           RFY                                                 01S0226 00647000
*             REG1 UNRSTD;                                      01S0226 00648000
*         END;                                                  01S0227 00649000
*       ELSE                                                    01S0228 00650000
*         ;                                                     01S0228 00651000
@RF00222 DS    0H                                               01S0229 00652000
*       IF TSBXLBUF^=0 THEN         /* LOOK FOR LOGON BUFFER         */ 00653000
         L     @04,TSBEXTNT(,TSBPTR)                            01S0229 00654000
         L     @04,TSBXLBUF(,@04)                               01S0229 00655000
         LTR   @04,@04                                          01S0229 00656000
         BZ    @RF00229                                         01S0229 00657000
*         CALL FREELBUF;            /* FREE LOGON BUFFER             */ 00658000
         BAL   @14,FREELBUF                                     01S0230 00659000
*       ELSE                                                    01S0231 00660000
*         ;                                                     01S0231 00661000
@RF00229 DS    0H                                               01S0232 00662000
*     END;                          /* END OF PROCESSING FOR TERMINAL   00663000
*                                      OWNED BY ADDRESS SPACE        */ 00664000
*                                                               01S0232 00665000
*   /*****************************************************************/ 00666000
*   /*                                                               */ 00667000
*   /* FREE TSB AND TSBX                                             */ 00668000
*   /*                                                               */ 00669000
*   /*****************************************************************/ 00670000
*                                                               01S0233 00671000
*   CALL FREETSB;                   /* FREE TSB                      */ 00672000
@RC00168 BAL   @14,FREETSB                                      01S0233 00673000
*                                                               01S0234 00674000
*   /*****************************************************************/ 00675000
*   /*                                                               */ 00676000
*   /* PERFORM TCAS TABLE MAINTENANCE. DECREMENT USER COUNT. IF THIS */ 00677000
*   /* WAS THE LAST TSO/VTAM USER GOING DOWN (USER COUNT IS ZERO)    */ 00678000
*   /* POST TCAS IF A 'STOP TSO' WAS ISSUED. IF 'STOP TSO' WAS NOT   */ 00679000
*   /* ISSUED (TCAS HAS ABENDED) THEN FREE THE TCAS TABLE AND ANY    */ 00680000
*   /* WORK ELEMENTS CHAINED TO IT.                                  */ 00681000
*   /*                                                               */ 00682000
*   /*****************************************************************/ 00683000
*                                                               01S0234 00684000
*   RFY                                                         01S0234 00685000
*    (RWORKV,                                                   01S0234 00686000
*     RWORKW) RSTD;                 /* RESTRICT REGISERS FOR THE        00687000
*                                      COMPARE AND SWAP LOOP USED TO    00688000
*                                      UPDATE TCASUSEC               */ 00689000
*   RWORKV=TCASUSER;                /* GET WORD CONTAINING USER COUNT*/ 00690000
         L     @01,TCASTPTR                                     01S0235 00691000
         L     RWORKV,TCASUSER(,@01)                            01S0235 00692000
*CSLOOP2:                                                       01S0236 00693000
*   WRKUSER=RWORKV;                 /* MOVE WORD TO WORK AREA        */ 00694000
CSLOOP2  ST    RWORKV,WRKUSER                                   01S0236 00695000
*   WRKUSEC=WRKUSEC-1;              /* DECREMENT USER COUNT IN WORK     00696000
*                                      AREA                          */ 00697000
         LH    @15,WRKUSEC                                      01S0237 00698000
         BCTR  @15,0                                            01S0237 00699000
         STH   @15,WRKUSEC                                      01S0237 00700000
*   RWORKW=WRKUSER;                 /* PUT UPDATED WORD INTO REG     */ 00701000
         L     RWORKW,WRKUSER                                   01S0238 00702000
*   CS(RWORKV,RWORKW,TCASUSER);     /* COMPARE AND SWAP ON TCAS USER    00703000
*                                      COUNT                         */ 00704000
         L     @01,TCASTPTR                                     01S0239 00705000
         CS    RWORKV,@05,TCASUSER(@01)                         01S0239 00706000
*   BC(NE,CSLOOP2);                 /* REPEAT LOOP UNTIL USER COUNT     00707000
*                                      IS UPDATED                    */ 00708000
         BC    7,CSLOOP2                                        01S0240 00709000
*   RFY                                                         01S0241 00710000
*    (RWORKV,                                                   01S0241 00711000
*     RWORKW) UNRSTD;                                           01S0241 00712000
*                                                               01S0241 00713000
*   /*****************************************************************/ 00714000
*   /*                                                               */ 00715000
*   /* SEE IF LAST USER IS GOING DOWN                        @YM03223*/ 00716000
*   /*                                                               */ 00717000
*   /*****************************************************************/ 00718000
*                                                               01S0242 00719000
*   IF TCASUSEC=0 THEN              /* SEE IF THIS WAS LAST USER     */ 00720000
*                                                               01S0242 00721000
         SLR   @04,@04                                          01S0242 00722000
         L     @15,TCASTPTR                                     01S0242 00723000
         CH    @04,TCASUSEC(,@15)                               01S0242 00724000
         BNE   @RF00242                                         01S0242 00725000
*     /***************************************************************/ 00726000
*     /*                                                             */ 00727000
*     /* WHEN LAST USER IS GOING DOWN AND TCAS HAS ABENDED THE WORK  */ 00728000
*     /* ELEMENTS, AND TIM/TOM LIST ARE FREED                        */ 00729000
*     /*                                                             */ 00730000
*     /***************************************************************/ 00731000
*                                                               01S0243 00732000
*     IF TCASABND='1'B THEN         /* SEE IF TCAS ABENDED           */ 00733000
         TM    TCASABND(@15),B'00100000'                        01S0243 00734000
         BNO   @RF00243                                         01S0243 00735000
*       DO;                                                     01S0244 00736000
*         IF TCASTTQH>0 THEN        /* IF WORK ELEMENT QUEUE EXISTS     00737000
*                                      FREE THE ELEMENTS             */ 00738000
         C     @04,TCASTTQH(,@15)                               01S0245 00739000
         BNL   @RF00245                                         01S0245 00740000
*           CALL FRWESTD;           /* FREE WORK ELEMENT CHAIN       */ 00741000
         BAL   @14,FRWESTD                                      01S0246 00742000
*         ELSE                                                  01S0247 00743000
*           ;                                                   01S0247 00744000
@RF00245 DS    0H                                               01S0248 00745000
*         IF TCASTTL^=0 THEN        /* SEE IF TIM/TOM LIST EXISTS    */ 00746000
         L     @04,TCASTPTR                                     01S0248 00747000
         L     @04,TCASTTL(,@04)                                01S0248 00748000
         LTR   @04,@04                                          01S0248 00749000
         BZ    @RF00248                                         01S0248 00750000
*           CALL FRTTLIST;          /* FREE THE TIM/TOM LIST         */ 00751000
         BAL   @14,FRTTLIST                                     01S0249 00752000
*         ELSE                                                  01S0250 00753000
*           ;                                                   01S0250 00754000
@RF00248 DS    0H                                               01S0251 00755000
*         CALL FRTCAST;             /* FREE THE TCAS TABLE           */ 00756000
         BAL   @14,FRTCAST                                      01S0251 00757000
*       END;                                                    01S0252 00758000
*     ELSE                                                      01S0253 00759000
*       ;                           /* TCAS STILL ALIVE - LEAVE IT      00760000
*                                      ALONE                         */ 00761000
@RF00243 DS    0H                                               01S0254 00762000
*   ELSE                                                        01S0254 00763000
*     ;                             /* USERS STILL AROUND LEAVE TCAS    00764000
*                                      TABLE THERE                   */ 00765000
*                                                               01S0254 00766000
@RF00242 DS    0H                                               01S0255 00767000
*   /*****************************************************************/ 00768000
*   /*                                                               */ 00769000
*   /* RELEASE LOCKS, AND RETURN TO RTM2                             */ 00770000
*   /*                                                               */ 00771000
*   /*****************************************************************/ 00772000
*                                                               01S0255 00773000
*   RFY                                                         01S0255 00774000
*    (REG0,                                                     01S0255 00775000
*     REG1) RSTD;                   /*                       @ZM31130*/ 00776000
*   GEN CODE REFS(RSAVE,PSALITA,FLC) SETS(REG0,REG1,REG14,REG15);       00777000
*                                   /*                       @ZM21005*/ 00778000
         SETLOCK RELEASE,TYPE=CMS,REGS=USE,RELATED=(IKTAY82) /*         00779000
*                                                            @ZM21005*/ 00780000
         SETLOCK RELEASE,TYPE=LOCAL,REGS=USE,RELATED=(IKTAY82) /*       00781000
*                                                            @ZM21005*/ 00782000
*   RFY                                                         01S0257 00783000
*    (REG0,                                                     01S0257 00784000
*     REG1) UNRSTD;                 /*                       @ZM31130*/ 00785000
*                                                               02S0258 00786000
*/********************************************************************/ 00787000
*/*                                                                  */ 00788000
*/* SEGMENT-                                                         */ 00789000
*/*      XITLINK                                                     */ 00790000
*/*                                                                  */ 00791000
*/* FUNCTION-                                                        */ 00792000
*/*      RETURN LINKAGE                                              */ 00793000
*/*                                                          @ZM21130*/ 00794000
*/********************************************************************/ 00795000
*                                                               02S0258 00796000
*   DO;                             /* RETURN LINKAGE        @ZM31130*/ 00797000
*     RFY                                                       02S0259 00798000
*      (REG0,                                                   02S0259 00799000
*       REG15) RSTD;                /* FOR LM                @ZM31130*/ 00800000
*     LM(REG0,REG15,SAVEREGS);      /* RESTORE REGISTERS     @ZM31130*/ 00801000
         LM    REG0,REG15,SAVEREGS                              02S0260 00802000
*     GEN EXIT;                                                 02S0261 00803000
*                                   /* RETURN LINKAGE        @ZM31130*/ 00804000
         FREEMAIN R,LV=(0),A=(1)    /* RELEASE AUTODATA AREA @ZM31130*/ 00805000
         LM    @14,@12,12(13)       /* RESTORE REGISTERS     @ZM21274*/ 00806000
         SR    @15,@15              /* SET RETURN CODE 0     @ZM31130*/ 00807000
         BR    @14                  /* AND RETURN            @ZM31130*/ 00808000
         DROP  RBASE,RDATA          /* COMMON BASE REGISTERS @ZM31130*/ 00809000
*   END;                            /* END OF SEGMENT        @ZM31130*/ 00810000
         EJECT                                                          00811000
*                                                               01S0263 00812000
*   /*****************************************************************/ 00813000
*   /*                                                               */ 00814000
*   /* IKTAY83: TSO/VTAM QTIP 29 EQUIVALENT SEARCH TSO/VTAM TSB CHAIN*/ 00815000
*   /* FOR ASID TPUT FROM THE TERMINATING TCAM ADDRESS SPACE.        */ 00816000
*   /*                                                               */ 00817000
*   /*****************************************************************/ 00818000
*                                                               01S0263 00819000
*IKTAY83:                                                       01S0263 00820000
*   ENTRY;                                                      01S0263 00821000
@EP00263 DS    0H                                               01S0264 00822000
*                                                               02S0264 00823000
*/********************************************************************/ 00824000
*/*                                                                  */ 00825000
*/* SEGMENT-                                                         */ 00826000
*/*      EPTLINK                                                     */ 00827000
*/*                                                                  */ 00828000
*/* FUNCTION-                                                        */ 00829000
*/*      ENTRY POINT LINKAGE                                         */ 00830000
*/*                                                          @ZM21130*/ 00831000
*/********************************************************************/ 00832000
*                                                               02S0264 00833000
*   DO;                             /* ENTRY LINKAGE         @ZM31130*/ 00834000
*     RFY                                                       02S0265 00835000
*      (REG0,                                                   02S0265 00836000
*       REG15) RSTD;                /* FOR STM               @ZM31130*/ 00837000
*     GEN(USING @PSTART,@06)        /* FOR STM               @ZM31130*/ 00838000
*     (USING @DATD,@05)             /* FOR STM               @ZM31130*/ 00839000
*     (L     @00,@SIZDATD)          /* FOR EXIT LINKAGE      @ZM31130*/ 00840000
*     (LR    @01,@05);              /* FOR EXIT LINKAGE      @ZM31130*/ 00841000
         USING @PSTART,@06                                              00842000
         USING @DATD,@05                                                00843000
         L     @00,@SIZDATD                                             00844000
         LR    @01,@05                                                  00845000
*     STM(REG0,REG15,SAVEREGS);     /* SAVE ENTRY REGISTERS  @ZM21130*/ 00846000
         STM   REG0,REG15,SAVEREGS                              02S0267 00847000
*     RFY                                                       02S0268 00848000
*      (REG0,                                                   02S0268 00849000
*       REG15) UNRSTD;              /* FOR STM               @ZM31130*/ 00850000
*     GEN SETS(RBASE,RDATA,RSAVE);                              02S0269 00851000
*                                   /* COMMON BASE REGISTERS @ZM31130*/ 00852000
         LR    RBASE,@06            /* ESTABLISH BASE        @ZM31130*/ 00853000
         LR    RDATA,@05            /* ADDRESS AUTODATA AREA @ZM31130*/ 00854000
         LR    RSAVE,@05            /* ADDRESS AUTODATA AREA @ZM31130*/ 00855000
         DROP  @05,@06              /* ENTRY CODE BASE       @ZM31130*/ 00856000
         USING @PSTART,RBASE        /* BASE ADDRESSABILITY   @ZM31130*/ 00857000
         USING @DATD,RDATA          /* SAVE AREA ADDRESSABILITY         00858000
*                                                            @ZM31130*/ 00859000
*   END;                            /* END OF SEGMENT        @ZM31130*/ 00860000
*   RFY                                                         01S0271 00861000
*     REG4 RSTD;                    /*                       @ZM21005*/ 00862000
*   TCASTPTR=REG4;                  /* GET ADDRESS OF TCAS POINTER      00863000
*                                                            @ZM21005*/ 00864000
         ST    REG4,TCASTPTR                                    01S0272 00865000
*   RFY                                                         01S0273 00866000
*     REG4 UNRSTD;                  /*                       @ZM21005*/ 00867000
*   RFY                                                         01S0274 00868000
*     REG15 RSTD;                                               01S0274 00869000
*   GEN CODE REFS(PSALITA,FLC,RSAVE) SETS(REG0,REG1,REG14,REG15);       00870000
*                                   /*                       @ZM21005*/ 00871000
         SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,REGS=USE,               *00872000
               RELATED=(IKTAY83)    /*                       @ZM21005*/ 00873000
         SETLOCK OBTAIN,TYPE=CMS,MODE=UNCOND,REGS=USE,                 *00874000
               RELATED=(IKTAY83)    /*                       @ZM21005*/ 00875000
*   RFY                                                         01S0276 00876000
*     REG15 UNRSTD;                                             01S0276 00877000
*   CALL SRCHVTAM;                  /* SEARCH VTAM TSBS FOR ASID TPUT   00878000
*                                      FROM TERMINATING MEMORY       */ 00879000
*                                                               01S0277 00880000
         BAL   @14,SRCHVTAM                                     01S0277 00881000
*   /*****************************************************************/ 00882000
*   /*                                                               */ 00883000
*   /* RELEASE LOCKS, RESTORE REGS, AND RETURN TO IEDAY8             */ 00884000
*   /*                                                               */ 00885000
*   /*****************************************************************/ 00886000
*                                                               01S0278 00887000
*   RFY                                                         01S0278 00888000
*    (REG0,                                                     01S0278 00889000
*     REG1) RSTD;                   /*                       @ZM31130*/ 00890000
*   GEN CODE REFS(PSALITA,FLC,RSAVE) SETS(REG0,REG1,REG14,REG15);       00891000
*                                   /*                       @ZM21005*/ 00892000
         SETLOCK RELEASE,TYPE=CMS,REGS=USE,RELATED=(IKTAY83) /*         00893000
*                                                            @ZM21005*/ 00894000
         SETLOCK RELEASE,TYPE=LOCAL,REGS=USE,RELATED=(IKTAY83) /*       00895000
*                                                            @ZM21005*/ 00896000
*   RFY                                                         01S0280 00897000
*    (REG0,                                                     01S0280 00898000
*     REG1) UNRSTD;                 /*                       @ZM31130*/ 00899000
*   DO;                             /* RETURN LINKAGE        @ZM21274*/ 00900000
*     RFY                                                       01S0282 00901000
*      (REG0,                                                   01S0282 00902000
*       REG15) RSTD;                /* FOR LM                @ZM21274*/ 00903000
*     LM(REG0,REG15,SAVEREGS);      /* RESTORE REGISTERS     @ZM21274*/ 00904000
         LM    REG0,REG15,SAVEREGS                              01S0283 00905000
*     GEN EXIT;                                                 01S0284 00906000
*                                /* RETURN LINKAGE           @ZM21274*/ 00907000
         FREEMAIN R,LV=(0),A=(1)    /* RELEASE AUTODATA AREA @ZM21274*/ 00908000
         SR    @15,@15              /* SET RETURN CODE 0     @ZM21274*/ 00909000
         BR    @14                  /* AND RETURN            @ZM21274*/ 00910000
         DROP  RBASE,RDATA          /* COMMON BASE REGISTERS @ZM21274*/ 00911000
*   END;                            /* END OF LINKAGE        @ZM21274*/ 00912000
*   GEN REFS(RBASE,RDATA);                                      01S0286 00913000
*                                   /* COMMON BASE REGISTERS @ZM21274*/ 00914000
         USING @PSTART,RBASE        /* BASE ADDRESSABILITY   @ZM21274*/ 00915000
         USING @DATD,RDATA          /* SAVE AREA ADDRESSABILITY         00916000
*                                                            @ZM21274*/ 00917000
         EJECT                                                          00918000
*                                                               01S0287 00919000
*   /*****************************************************************/ 00920000
*   /*                                                               */ 00921000
*   /* POSTWECB POST WORK ELEMENT ECB TCASTTQH HAS THE ADDRESS OF THE*/ 00922000
*   /* WORK ELEMENT QUEUE IN COMPLIMENT FORM. THE COMPLIMENT IS TAKEN*/ 00923000
*   /* AGAIN TO GET THE CORRECT ADDRESS AND THE REQUESTOR OF EACH    */ 00924000
*   /* WORK ELEMENT IS POSTED                                        */ 00925000
*   /*                                                               */ 00926000
*   /*****************************************************************/ 00927000
*                                                               01S0287 00928000
*POSTWECB:                                                      01S0287 00929000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                       01S0287 00930000
         B     @PB00002                                         01S0287 00931000
POSTWECB DS    0H                                               01S0288 00932000
*   RFY                                                         01S0288 00933000
*    (RWORKU,                                                   01S0288 00934000
*     RLINK) RSTD;                  /* RWORKU IS USED TO ADDRESS THE    00935000
*                                      WORK ELEMENTS         @YM03223*/ 00936000
*   SAVE14A=RLINK;                  /* SAVE RETURN ADDR      @YM03223*/ 00937000
         ST    RLINK,SAVE14A                                    01S0289 00938000
*   RWORKU=TCASTTQH;                /* GET COMP OF ADDR FOR Q-ELEM   */ 00939000
         L     @04,TCASTPTR                                     01S0290 00940000
         L     RWORKU,TCASTTQH(,@04)                            01S0290 00941000
*   GEN(LCR RWORKU,RWORKU)                                      01S0291 00942000
*   REFS(RWORKU);                   /* TAKE COMP FOR CORRECT ADDR    */ 00943000
         LCR RWORKU,RWORKU                                              00944000
*   RFY                                                         01S0292 00945000
*     WESTD BASED(RWORKU);          /* ADDRESS THE WORK ELEMENT      */ 00946000
*                                                               01S0292 00947000
*   /*****************************************************************/ 00948000
*   /*                                                               */ 00949000
*   /* THE FOLLOWING CODE STEPS THROUGH THE CHAIN OF WORK ELEMENTS   */ 00950000
*   /* AND POSTS THE REQUESTORS ECB IF AVAILABLE                     */ 00951000
*   /*                                                               */ 00952000
*   /*****************************************************************/ 00953000
*                                                               01S0293 00954000
*   RFY                                                         01S0293 00955000
*    (RWORKW,                                                   01S0293 00956000
*     RWORKX,                                                   01S0293 00957000
*     RWORKY,                                                   01S0293 00958000
*     RWORKV) RSTD;                                             01S0293 00959000
*   DO UNTIL(RWORKU=0);                                         01S0294 00960000
@DL00294 DS    0H                                               01S0295 00961000
*     IF WEECB^=0 THEN              /* SEE IF ECB AVAILABLE          */ 00962000
         L     @02,WEECB(,RWORKU)                               01S0295 00963000
         LTR   @02,@02                                          01S0295 00964000
         BZ    @RF00295                                         01S0295 00965000
*       DO;                         /* POST THE ECB                  */ 00966000
*         RWORKV=REG10;             /* SAVE REGS 10-13 IN WORK REGS  */ 00967000
         LR    RWORKV,REG10                                     01S0297 00968000
*         RWORKW=REG11;             /* SINCE THEY ARE DESTROYED BY   */ 00969000
         LR    RWORKW,REG11                                     01S0298 00970000
*         RWORKX=REG12;             /* POST                          */ 00971000
         LR    RWORKX,REG12                                     01S0299 00972000
*         RWORKY=REG13;                                         01S0300 00973000
*                                                               01S0300 00974000
         LR    RWORKY,REG13                                     01S0300 00975000
*         /***********************************************************/ 00976000
*         /*                                                         */ 00977000
*         /* POST IS INVOKED VIA A BRANCH ENTRY WITH THE FOLLOWING   */ 00978000
*         /* INTERFACE REG10 = COMPLETION CODE REG11 = ECB           */ 00979000
*         /* ADDRESS-'80'X IN BYTE 0 FOR CROSS MEMORY POST REG12 =   */ 00980000
*         /* ERRET ADDRESS REG13 = ASCB ADDRESS REG14 = RETURN       */ 00981000
*         /* ADDRESS REG15 = POST EPA (CVT0PT01) UPON RETURN REGS    */ 00982000
*         /* 0-9,14 ARE UNCHANGED THE LOCAL LOCK ONLY IS HELD FOR THE*/ 00983000
*         /* BRANCH TO CONFORM WITH DOCUMENTATION. THEREFORE THE CMS */ 00984000
*         /* LOCK IS RELEASED BEFORE AND OBTAINED AFTER THE POST     */ 00985000
*         /*                                                         */ 00986000
*         /***********************************************************/ 00987000
*                                                               01S0301 00988000
*         REG10=0;                  /* SET CONDITION CODE            */ 00989000
         SLR   REG10,REG10                                      01S0301 00990000
*         REG11=WEECB;              /* ADDR OF ECB                   */ 00991000
         LR    REG11,@02                                        01S0302 00992000
*         REG11=REG11|'80000000'X;  /* SET XMPOST            @YM03223*/ 00993000
         O     REG11,@CF01639                                   01S0303 00994000
*         REG12=ADDR(CVTBRET);      /* ADDR OF ERRET                 */ 00995000
         L     REG12,CVTPTR                                     01S0304 00996000
         LA    REG12,CVTBRET(,REG12)                            01S0304 00997000
*         GEN CODE REFS(REG13,PSALITA,FLC) SETS(REG0,REG1,REG14,REG15); 00998000
*                                   /*                       @ZM21005*/ 00999000
         SETLOCK RELEASE,TYPE=CMS,REGS=USE,RELATED=(POST)               01000000
*         RFY                                                   01S0306 01001000
*          (REG14,                                              01S0306 01002000
*           REG15) RSTD;                                        01S0306 01003000
*         REG13=WEASCB;             /* ADDR OF ASCB                  */ 01004000
         L     REG13,WEASCB(,RWORKU)                            01S0307 01005000
*         REG15=CVT0PT01;           /* ADDR OF ENTRY                 */ 01006000
         L     @02,CVTPTR                                       01S0308 01007000
         L     REG15,CVT0PT01(,@02)                             01S0308 01008000
*         GEN(BALR REG14,REG15)                                 01S0309 01009000
*         REFS(REG15) SETS(REG14);  /* CALL POST-WESTD               */ 01010000
         BALR REG14,REG15                                               01011000
*         REG13=RWORKY;             /* RESTORE SAVE AREA ADDR FOR       01012000
*                                      SETLOCK                       */ 01013000
         LR    REG13,RWORKY                                     01S0310 01014000
*         GEN CODE REFS(REG13,PSALITA,FLC) SETS(REG0,REG1,REG14,REG15); 01015000
*                                   /*                       @ZM21005*/ 01016000
         SETLOCK OBTAIN,TYPE=CMS,MODE=UNCOND,REGS=USE,                 *01017000
               RELATED=(POST)       /*                       @ZM21005*/ 01018000
*         REG10=RWORKV;             /* RESTORE REGS 10-12 FROM       */ 01019000
         LR    REG10,RWORKV                                     01S0312 01020000
*         REG11=RWORKW;             /* SAVE REGS                     */ 01021000
         LR    REG11,RWORKW                                     01S0313 01022000
*         REG12=RWORKX;                                         01S0314 01023000
         LR    REG12,RWORKX                                     01S0314 01024000
*       END;                                                    01S0315 01025000
*     ELSE                                                      01S0316 01026000
*       ;                                                       01S0316 01027000
@RF00295 DS    0H                                               01S0317 01028000
*     RWORKU=WENEXT;                /* POINT TO NEXT ELEMENT         */ 01029000
         L     RWORKU,WENEXT(,RWORKU)                           01S0317 01030000
*   END;                                                        01S0318 01031000
@DE00294 LTR   RWORKU,RWORKU                                    01S0318 01032000
         BNZ   @DL00294                                         01S0318 01033000
*   RFY                                                         01S0319 01034000
*    (RWORKW,                                                   01S0319 01035000
*     RWORKX,                                                   01S0319 01036000
*     RWORKY,                                                   01S0319 01037000
*     RWORKV,                                                   01S0319 01038000
*     REG14,                                                    01S0319 01039000
*     REG15) UNRSTD;                                            01S0319 01040000
*   RLINK=SAVE14A;                  /* RESTORE RETURN REG    @YM03223*/ 01041000
         L     RLINK,SAVE14A                                    01S0320 01042000
*   RFY                                                         01S0321 01043000
*    (RWORKU,                                                   01S0321 01044000
*     RLINK) UNRSTD;                /* RELEASE RWORKU,RLINK  @YM03223*/ 01045000
*   RETURN;                         /* RETURN TO CALLER              */ 01046000
@EL00002 DS    0H                                               01S0322 01047000
@EF00002 DS    0H                                               01S0322 01048000
@ER00002 BR    @14                                              01S0322 01049000
*   END POSTWECB;                                               01S0323 01050000
         EJECT                                                          01051000
*                                                               01S0324 01052000
*   /*****************************************************************/ 01053000
*   /*                                                               */ 01054000
*   /* FRWESTD: FREE THE WORK ELEMENT CHAIN THE ADDRESS OF THE WORK  */ 01055000
*   /* ELEMENT CHAIN IS EXPECTED IN COMPLIMENT FORM IN TCASTTQH. THE */ 01056000
*   /* ACTUAL ADDRESS IS COMPUTED, AND EACH ELEMENT ON THE CHAIN IS  */ 01057000
*   /* FREED                                                         */ 01058000
*   /*                                                               */ 01059000
*   /*****************************************************************/ 01060000
*                                                               01S0324 01061000
*FRWESTD:                                                       01S0324 01062000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                       01S0324 01063000
FRWESTD  DS    0H                                               01S0325 01064000
*   RFY                                                         01S0325 01065000
*     RLINK RSTD;                                               01S0325 01066000
*   SAVE14A=RLINK;                  /* SAVE RETURN ADDRESS           */ 01067000
         ST    RLINK,SAVE14A                                    01S0326 01068000
*   RFY                                                         01S0327 01069000
*    (REG4,                                                     01S0327 01070000
*     RWORKW,                                                   01S0327 01071000
*     RWORKX,                                                   01S0327 01072000
*     RWORKY,                                                   01S0327 01073000
*     REG7,                                                     01S0327 01074000
*     REG0,                                                     01S0327 01075000
*     REG1,                                                     01S0327 01076000
*     REG3,                                                     01S0327 01077000
*     REG15) RSTD;                  /*                       @YM03242*/ 01078000
*   RWORKW=TCASTTQH;                /* GET COMP OF QUEUE ADDRESS     */ 01079000
         L     @02,TCASTPTR                                     01S0328 01080000
         L     RWORKW,TCASTTQH(,@02)                            01S0328 01081000
*   GEN(LCR RWORKW,RWORKW)                                      01S0329 01082000
*   REFS(RWORKW);                   /* GET ACTUAL ADDRESS            */ 01083000
         LCR RWORKW,RWORKW                                              01084000
*   RFY                                                         01S0330 01085000
*     WESTD BASED(RWORKW);          /* ADDRESS THE Q-ELEMENT         */ 01086000
*                                                               01S0330 01087000
*   /*****************************************************************/ 01088000
*   /*                                                               */ 01089000
*   /* FREE EACH WORK ELEMENT IN THE CHAIN.                          */ 01090000
*   /*                                                               */ 01091000
*   /*****************************************************************/ 01092000
*                                                               01S0331 01093000
*   DO UNTIL(RWORKW=0);             /* STEP THROUGH CHAIN FREEING       01094000
*                                      EACH ELEMENT                  */ 01095000
@DL00331 DS    0H                                               01S0332 01096000
*     RWORKX=WENEXT;                /* SAVE ADDR OF NEXT ELEMENT     */ 01097000
         L     RWORKX,WENEXT(,RWORKW)                           01S0332 01098000
*     RWORKY=WELEN;                 /* GET LENGTH OF ELEMENT         */ 01099000
         LH    RWORKY,WELEN(,RWORKW)                            01S0333 01100000
*     REG4=PSATOLD;                 /* ADDR OF CURRENT TCB   @YM03242*/ 01101000
         L     REG4,PSATOLD                                     01S0334 01102000
*     REG7=PSAAOLD;                 /* ADDR OF CURRENT ASCB  @YM03242*/ 01103000
         L     REG7,PSAAOLD                                     01S0335 01104000
*     GEN CODE REFS(RWORKW,RWORKY,CVTPTR,CVTCRMN,CVTMAP) SETS(REG15,    01105000
*         REG0,REG1,RLINK,REG3);                                01S0336 01106000
*                                   /*                       @YM03242*/ 01107000
         FREEMAIN RC,LV=(RWORKY),A=(RWORKW),SP=SPTCAST,KEY=KEYTCAS,    *01108000
               BRANCH=YES,RELATED=(WESTD)  /*                @YM03232*/ 01109000
*     RWORKW=RWORKX;                /* POINT TO NEXT WORK ELEMENT    */ 01110000
         LR    RWORKW,RWORKX                                    01S0337 01111000
*   END;                                                        01S0338 01112000
@DE00331 LTR   RWORKW,RWORKW                                    01S0338 01113000
         BNZ   @DL00331                                         01S0338 01114000
*   RFY                                                         01S0339 01115000
*    (REG4,                                                     01S0339 01116000
*     RWORKW,                                                   01S0339 01117000
*     RWORKX,                                                   01S0339 01118000
*     RWORKY,                                                   01S0339 01119000
*     REG7,                                                     01S0339 01120000
*     REG0,                                                     01S0339 01121000
*     REG1,                                                     01S0339 01122000
*     REG3,                                                     01S0339 01123000
*     REG15) UNRSTD;                /*                       @YM03242*/ 01124000
*   RLINK=SAVE14A;                  /* RESTORE RETURN REGISTER       */ 01125000
         L     RLINK,SAVE14A                                    01S0340 01126000
*   RFY                                                         01S0341 01127000
*     RLINK UNRSTD;                                             01S0341 01128000
*   RETURN;                         /* RETURN TO CALLER              */ 01129000
@EL00003 DS    0H                                               01S0342 01130000
@EF00003 DS    0H                                               01S0342 01131000
@ER00003 BR    @14                                              01S0342 01132000
*   END FRWESTD;                                                01S0343 01133000
         EJECT                                                          01134000
*                                                               01S0344 01135000
*   /*****************************************************************/ 01136000
*   /*                                                               */ 01137000
*   /* REQREL: REQUEST TCAS TO RELEASE TERMINAL NOT YET OWNED BY THE */ 01138000
*   /* TERMINATING ADDRESS SPACE. THE LOGON BUFFER IS USED TO BUILD  */ 01139000
*   /* THE WORK ELEMENT WHICH IS INITIALIZED TO REQUEST RELEASE OF   */ 01140000
*   /* THE TERMINAL. COMPARE AND SWAP IS USED TO HANG THE WORK       */ 01141000
*   /* ELEMENT LIFO IN THE QUEUE, POINTED TO BY TCASTTQH.            */ 01142000
*   /*                                                               */ 01143000
*   /*****************************************************************/ 01144000
*                                                               01S0344 01145000
*REQREL:                                                        01S0344 01146000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                       01S0344 01147000
*                                                               01S0344 01148000
REQREL   DS    0H                                               01S0345 01149000
*   /*****************************************************************/ 01150000
*   /*                                                               */ 01151000
*   /* INITIALIZE THE WORK ELEMENT TO REQUEST RELEASE                */ 01152000
*   /*                                                               */ 01153000
*   /*****************************************************************/ 01154000
*                                                               01S0345 01155000
*   RFY                                                         01S0345 01156000
*     RLINK RSTD;                   /*                       @YM03223*/ 01157000
*   SAVE14A=RLINK;                  /*                       @YM03223*/ 01158000
         ST    RLINK,SAVE14A                                    01S0346 01159000
*   RFY                                                         01S0347 01160000
*     RWORKX RSTD;                                              01S0347 01161000
*   RWORKX=LBUFLEN;                 /* GET LENGTH OF LOGON BUFFER    */ 01162000
         L     @15,TSBEXTNT(,TSBPTR)                            01S0348 01163000
         L     @04,TSBXLBUF(,@15)                               01S0348 01164000
         LH    RWORKX,LBUFLEN(,@04)                             01S0348 01165000
*   RFY                                                         01S0349 01166000
*     WESTD BASED(TSBXLBUF);        /* USE LOGON BUFFER FOR WORK EL  */ 01167000
*   WECODEIT=TASKCD;                /* INITIALIZE WORK ELEM  @YM03223*/ 01168000
         MVI   WECODEIT(@04),X'02'                              01S0350 01169000
*   WECODEIF=RELCODE;               /* TO REQ RELEASE OF TERMINAL    */ 01170000
         MVI   WECODEIF(@04),X'22'                              01S0351 01171000
*   WECODE2=0;                                                  01S0352 01172000
         SLR   @07,@07                                          01S0352 01173000
         STH   @07,WECODE2(,@04)                                01S0352 01174000
*   WELEN=RWORKX;                   /* GET LENGTH OF WORK ELEMENT    */ 01175000
         STH   RWORKX,WELEN(,@04)                               01S0353 01176000
*   WEASCB=0;                                                   01S0354 01177000
         ST    @07,WEASCB(,@04)                                 01S0354 01178000
*   WEECB=0;                                                    01S0355 01179000
         ST    @07,WEECB(,@04)                                  01S0355 01180000
*   WERPL=TSBXRPL;                  /* GET ADDR OF RPL IN TCAS       */ 01181000
         L     @15,TSBXRPL(,@15)                                01S0356 01182000
         ST    @15,WERPL(,@04)                                  01S0356 01183000
*   RFY                                                         01S0357 01184000
*     RWORKX UNRSTD;                                            01S0357 01185000
*                                                               01S0357 01186000
*   /*****************************************************************/ 01187000
*   /*                                                               */ 01188000
*   /* COMPARE AND SWAP TO HANG THE WORK ELEMENT ON THE TCAS WORK    */ 01189000
*   /* ELEMENT QUEUE                                                 */ 01190000
*   /*                                                               */ 01191000
*   /*****************************************************************/ 01192000
*                                                               01S0358 01193000
*   RFY                                                         01S0358 01194000
*    (REG4,                                                     01S0358 01195000
*     RWORKW) RSTD;                                             01S0358 01196000
*   REG4=TCASTTQH;                  /* GET ADDR OF FIRST Q-ELEMENT   */ 01197000
         ST    @04,@TF00001                                     01S0359 01198000
         L     @15,TCASTPTR                                     01S0359 01199000
         L     REG4,TCASTTQH(,@15)                              01S0359 01200000
*   RWORKW=ADDR(WESTD);             /* GET ADDR OF NEW Q-ELEMENT     */ 01201000
         L     RWORKW,@TF00001                                  01S0360 01202000
*CSLOOP3:                                                       01S0361 01203000
*   IF REG4>=0 THEN                                             01S0361 01204000
CSLOOP3  LTR   REG4,REG4                                        01S0361 01205000
         BM    @RF00361                                         01S0361 01206000
*     DO;                                                       01S0362 01207000
*       WENEXT=REG4;                /* POINT NEW ELEM TO NEXT (OR TO    01208000
*                                      TCASTTQH WHEN CS FAILED       */ 01209000
         L     @15,TSBEXTNT(,TSBPTR)                            01S0363 01210000
         L     @15,TSBXLBUF(,@15)                               01S0363 01211000
         ST    REG4,WENEXT(,@15)                                01S0363 01212000
*       CS(REG4,RWORKW,TCASTTQH);   /* COMPARE AND SWAP TO PUT NEW      01213000
*                                      ELEM ON QUEUE                 */ 01214000
         L     @15,TCASTPTR                                     01S0364 01215000
         CS    REG4,@05,TCASTTQH(@15)                           01S0364 01216000
*       BC(NE,CSLOOP3);             /* LOOP UNTIL DONE               */ 01217000
         BC    7,CSLOOP3                                        01S0365 01218000
*       RFY                                                     01S0366 01219000
*         WESTD BASED;              /* DROP WESTD ADDRESSABILITY     */ 01220000
*       TSBXLBUF=0;                 /* CLEAR BUFFER POINTER          */ 01221000
*                                                               01S0367 01222000
         L     @15,TSBEXTNT(,TSBPTR)                            01S0367 01223000
         SLR   @07,@07                                          01S0367 01224000
         ST    @07,TSBXLBUF(,@15)                               01S0367 01225000
*       /*************************************************************/ 01226000
*       /*                                                           */ 01227000
*       /* POST TCAS THAT A WORK ELEMENT HAS BEEN PLACED ON THE QUEUE*/ 01228000
*       /*                                                           */ 01229000
*       /*************************************************************/ 01230000
*                                                               01S0368 01231000
*       RFY                                                     01S0368 01232000
*        (RWORKX,                                               01S0368 01233000
*         RWORKY) RSTD;                                         01S0368 01234000
*       REG4=REG10;                 /* SAVE REGS 10-13 IN WORK REGS  */ 01235000
         LR    REG4,REG10                                       01S0369 01236000
*       RWORKW=REG11;               /* SINCE THEY ARE DESTROYED BY   */ 01237000
         LR    RWORKW,REG11                                     01S0370 01238000
*       RWORKX=REG12;               /* POST                          */ 01239000
         LR    RWORKX,REG12                                     01S0371 01240000
*       RWORKY=REG13;                                           01S0372 01241000
*                                                               01S0372 01242000
         LR    RWORKY,REG13                                     01S0372 01243000
*       /*************************************************************/ 01244000
*       /*                                                           */ 01245000
*       /* POST IS INVOKED VIA A BRANCH ENTRY WITH THE FOLLOWING     */ 01246000
*       /* INTERFACE REG10 = COMPLETION CODE REG11 = ECB             */ 01247000
*       /* ADDRESS-'80'X IN BYTE 0 FOR CROSS MEMORY POST REG12 =     */ 01248000
*       /* ERRET ADDRESS REG13 = ASCB ADDRESS REG14 = RETURN ADDRESS */ 01249000
*       /* REG15 = POST EPA (CVT0PT01) UPON RETURN REGS 0-9,14 ARE   */ 01250000
*       /* UNCHANGED THE LOCAL LOCK ONLY IS HELD FOR THE BRANCH TO   */ 01251000
*       /* CONFORM WITH DOCUMENTATION. THEREFORE THE CMS LOCK IS     */ 01252000
*       /* RELEASED BEFORE AND OBTAINED AFTER THE POST               */ 01253000
*       /*                                                           */ 01254000
*       /*************************************************************/ 01255000
*                                                               01S0373 01256000
*       REG11=TCASXECB;             /* ADDR OF ECB ----- NOTE THAT      01257000
*                                      SINCE R10 IS BASE FOR @DATD      01258000
*                                      (TCASPTR IS THERE) R11 IS SET    01259000
*                                      BEFORE R10            @YM03223*/ 01260000
         L     @15,TCASTPTR                                     01S0373 01261000
         L     REG11,TCASXECB(,@15)                             01S0373 01262000
*       REG10=0;                    /* SET CONDITION CODE    @YM03223*/ 01263000
         SLR   REG10,REG10                                      01S0374 01264000
*       REG11=REG11|'80000000'X;    /* SET XMPOST            @YM03223*/ 01265000
         O     REG11,@CF01639                                   01S0375 01266000
*       REG12=ADDR(CVTBRET);        /* ADDR OF ERRET                 */ 01267000
         L     REG12,CVTPTR                                     01S0376 01268000
         LA    REG12,CVTBRET(,REG12)                            01S0376 01269000
*       GEN CODE REFS(REG13,PSALITA,FLC) SETS(REG0,REG1,REG14,REG15);   01270000
*                                   /*                       @ZM21005*/ 01271000
         SETLOCK RELEASE,TYPE=CMS,REGS=USE,RELATED=(POST) /* @ZM21005*/ 01272000
         DROP  RDATA                /*                       @ZA12000*/ 01273000
         USING @DATD,REG4           /* USE REG4,R10 IS GONE  @YM03232*/ 01274000
*       RFY                                                     01S0378 01275000
*         REG15 RSTD;               /*                       @YM03223*/ 01276000
*       REG13=TCASASCB;             /* ADDR OF ASCB          @ZA12000*/ 01277000
         L     @07,TCASTPTR                                     01S0379 01278000
         L     REG13,TCASASCB(,@07)                             01S0379 01279000
*       REG15=CVT0PT01;             /* ADDR OF ENTRY                 */ 01280000
         L     @07,CVTPTR                                       01S0380 01281000
         L     REG15,CVT0PT01(,@07)                             01S0380 01282000
*       GEN(BALR REG14,REG15)                                   01S0381 01283000
*       REFS(REG15) SETS(REG14);    /* CALL POST-TERMINAL RELEASE    */ 01284000
         BALR REG14,REG15                                               01285000
*       REG13=RWORKY;               /* RESTORE SAVE AREA ADDR FOR       01286000
*                                      SETLOCK                       */ 01287000
         LR    REG13,RWORKY                                     01S0382 01288000
*       GEN CODE REFS(REG13,PSALITA,FLC) SETS(REG0,REG1,REG14,REG15);   01289000
*                                   /*                       @ZM21005*/ 01290000
         SETLOCK OBTAIN,TYPE=CMS,MODE=UNCOND,REGS=USE,                 *01291000
               RELATED=(POST)       /*                       @ZM21005*/ 01292000
*       REG10=REG4;                 /* RESTORE REGS 10-12 FROM       */ 01293000
         LR    REG10,REG4                                       01S0384 01294000
*       REG11=RWORKW;               /* SAVE REGS                     */ 01295000
         LR    REG11,RWORKW                                     01S0385 01296000
*       REG12=RWORKX;                                           01S0386 01297000
         LR    REG12,RWORKX                                     01S0386 01298000
*       GEN(DROP REG4);             /* DROP TEMP ADDRESSING  @ZA12000*/ 01299000
         DROP REG4                                                      01300000
*       GEN(USING @DATD,RDATA)                                  01S0388 01301000
*       REFS(RDATA);                /* RESTORE AUTOAREA         01S0388 01302000
*                                      ADDRESSABILITY        @YM03232*/ 01303000
         USING @DATD,RDATA                                              01304000
*     END;                                                      01S0389 01305000
*   ELSE                                                        01S0390 01306000
*     ;                             /* TCAS NOT ACTIVE               */ 01307000
@RF00361 DS    0H                                               01S0391 01308000
*   RFY                                                         01S0391 01309000
*    (REG4,                                                     01S0391 01310000
*     RWORKW,                                                   01S0391 01311000
*     RWORKX,                                                   01S0391 01312000
*     RWORKY,                                                   01S0391 01313000
*     REG15) UNRSTD;                /*                       @YM03223*/ 01314000
*   RLINK=SAVE14A;                  /* RESTORE RETURN REG    @YM03223*/ 01315000
         L     RLINK,SAVE14A                                    01S0392 01316000
*   RFY                                                         01S0393 01317000
*     RLINK UNRSTD;                 /*                       @YM03223*/ 01318000
*   RETURN;                         /* RETURN TO CALLER              */ 01319000
@EL00004 DS    0H                                               01S0394 01320000
@EF00004 DS    0H                                               01S0394 01321000
@ER00004 BR    @14                                              01S0394 01322000
*   END REQREL;                                                 01S0395 01323000
         EJECT                                                          01324000
*                                                               01S0396 01325000
*   /*****************************************************************/ 01326000
*   /*                                                               */ 01327000
*   /* FREETVCS FREE THE TVCS AREA IN CSA THE TVCS WHOSE ADDRESS IS  */ 01328000
*   /* IN TSBXCSAP IS FREED, AND TSBXCSAP AND RELATED TSB FIELDS ARE */ 01329000
*   /* CLEARED. ADDRESSABILITY FOR TSB AND THEREFORE TSBX AND TVCS IS*/ 01330000
*   /* PROVIDED IN REG 1 (ADDRESS OF TSB IS PASSED THERE             */ 01331000
*   /*                                                               */ 01332000
*   /*****************************************************************/ 01333000
*                                                               01S0396 01334000
*FREETVCS:                                                      01S0396 01335000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                       01S0396 01336000
FREETVCS DS    0H                                               01S0397 01337000
*   RFY                                                         01S0397 01338000
*    (RLINK,                                                    01S0397 01339000
*     REG4) RSTD;                                               01S0397 01340000
*   SAVE14B=RLINK;                  /* SAVE RETURN ADDRESS           */ 01341000
         ST    RLINK,SAVE14B                                    01S0398 01342000
*   SAVE04A=REG4;                   /* SAVE REG4 DESTROYED BY BRANCH    01343000
*                                      ENTERED FREEMAIN-NEEDED BY       01344000
*                                      SRCHVTAM                      */ 01345000
         ST    REG4,SAVE04A                                     01S0399 01346000
*   RFY                                                         01S0400 01347000
*    (RWORKX,                                                   01S0400 01348000
*     RWORKW,                                                   01S0400 01349000
*     REG0,                                                     01S0400 01350000
*     REG1,                                                     01S0400 01351000
*     REG3,                                                     01S0400 01352000
*     REG15,                                                    01S0400 01353000
*     REG7) RSTD;                   /*                       @YM03242*/ 01354000
*   RFY                                                         01S0401 01355000
*     RWORKY RSTD;                                              01S0401 01356000
*   RWORKY=REG1;                    /* GET ADDRESS OF TSB            */ 01357000
         LR    RWORKY,REG1                                      01S0402 01358000
*   RFY                                                         01S0403 01359000
*     TSB BASED(RWORKY);            /* ADDRESS THE TSB,TSBX          */ 01360000
*   RWORKW=TSBXCSAP;                /* GET ADDR OF TVCS              */ 01361000
         L     @02,TSBEXTNT(,RWORKY)                            01S0404 01362000
         L     RWORKW,TSBXCSAP(,@02)                            01S0404 01363000
*   RFY                                                         01S0405 01364000
*     TVCS BASED(RWORKW);                                       01S0405 01365000
*   RWORKX=TVCSGMSZ;                /* GET LENGTH OF TVCS            */ 01366000
         LH    RWORKX,TVCSGMSZ(,RWORKW)                         01S0406 01367000
*   REG4=PSATOLD;                   /* ADDR OF CURRENT TCB   @YM03242*/ 01368000
         L     REG4,PSATOLD                                     01S0407 01369000
*   REG7=PSAAOLD;                   /* ADDR OF CURRENT ASCB  @YM03242*/ 01370000
*                                                               01S0408 01371000
         L     REG7,PSAAOLD                                     01S0408 01372000
*   /*****************************************************************/ 01373000
*   /*                                                               */ 01374000
*   /* ISSUE FREEMAIN TO FREE TVCS                                   */ 01375000
*   /*                                                               */ 01376000
*   /*****************************************************************/ 01377000
*                                                               01S0409 01378000
*   GEN CODE SETS(REG3,REG15,REG0,REG1,RLINK) REFS(RSAVE,PSALITA,FLC,   01379000
*       RWORKX,RWORKW,CVTPTR,CVTMAP,CVTCRMN);                   01S0409 01380000
*                                   /*                       @YM03242*/ 01381000
         FREEMAIN RC,LV=(RWORKX),A=(RWORKW),SP=SPTVCS,KEY=KEYTCAS,     *01382000
               BRANCH=YES,RELATED=(TVCS)  /*                 @YM03232*/ 01383000
*   RFY                                                         01S0410 01384000
*    (RWORKX,                                                   01S0410 01385000
*     RWORKW,                                                   01S0410 01386000
*     REG0,                                                     01S0410 01387000
*     REG1,                                                     01S0410 01388000
*     REG3,                                                     01S0410 01389000
*     REG15,                                                    01S0410 01390000
*     REG7) UNRSTD;                 /*                       @YM03242*/ 01391000
*   RFY                                                         01S0411 01392000
*     TVCS BASED(TSBXCSAP);         /* RESTORE TVCS REGULAR BASE     */ 01393000
*   TSBXCSAP=0;                     /* ZERO POINTER TO TVCS AREA     */ 01394000
         SLR   @15,@15                                          01S0412 01395000
         L     @07,TSBEXTNT(,RWORKY)                            01S0412 01396000
         ST    @15,TSBXCSAP(,@07)                               01S0412 01397000
*   TSBWTJID=0;                     /* ZERO ASID AREA IN TSB         */ 01398000
         STH   @15,TSBWTJID(,RWORKY)                            01S0413 01399000
*   TSBWTCB=0;                      /* ZERO TCB ADDRESS IN TSB       */ 01400000
         STCM  @15,7,TSBWTCB(RWORKY)                            01S0414 01401000
*   RFY                                                         01S0415 01402000
*     RWORKY UNRSTD;                                            01S0415 01403000
*   RFY                                                         01S0416 01404000
*     TSB BASED(TSBPTR);            /* RESTORE TSB REGULAR BASE      */ 01405000
*   REG4=SAVE04A;                   /* RESTORE REG4 FOR SRCHVTAM     */ 01406000
         L     REG4,SAVE04A                                     01S0417 01407000
*   RLINK=SAVE14B;                  /* RESTORE RETURN ADDRESS        */ 01408000
         L     RLINK,SAVE14B                                    01S0418 01409000
*   RFY                                                         01S0419 01410000
*    (RLINK,                                                    01S0419 01411000
*     REG4) UNRSTD;                                             01S0419 01412000
*   RETURN;                         /* RETURN TO CALLER              */ 01413000
@EL00005 DS    0H                                               01S0420 01414000
@EF00005 DS    0H                                               01S0420 01415000
@ER00005 BR    @14                                              01S0420 01416000
*   END FREETVCS;                                               01S0421 01417000
         EJECT                                                          01418000
*                                                               01S0422 01419000
*   /*****************************************************************/ 01420000
*   /*                                                               */ 01421000
*   /* FRTCAST: FREE THE TCAST TABLE THE TCAST TABLE WHOSE ADDRESS IS*/ 01422000
*   /* IN TCASTPTR AND CVTTCASP, IS FREED AND THE CVTTCASP POINTER IS*/ 01423000
*   /* CLEARED.                                                      */ 01424000
*   /*                                                               */ 01425000
*   /*****************************************************************/ 01426000
*                                                               01S0422 01427000
*FRTCAST:                                                       01S0422 01428000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                       01S0422 01429000
FRTCAST  DS    0H                                               01S0423 01430000
*   RFY                                                         01S0423 01431000
*     RLINK RSTD;                                               01S0423 01432000
*   SAVE14A=RLINK;                  /* SAVE RETURN ADDRESS           */ 01433000
         ST    RLINK,SAVE14A                                    01S0424 01434000
*   RFY                                                         01S0425 01435000
*    (REG4,                                                     01S0425 01436000
*     RWORKW,                                                   01S0425 01437000
*     RWORKV,                                                   01S0425 01438000
*     REG0,                                                     01S0425 01439000
*     REG1,                                                     01S0425 01440000
*     REG3,                                                     01S0425 01441000
*     REG15,                                                    01S0425 01442000
*     REG7) RSTD;                   /*                       @YM03242*/ 01443000
*   RWORKW=LENGTH(TCAST);           /* GET LENGTH OF TCAST TABLE     */ 01444000
         LA    RWORKW,148                                       01S0426 01445000
*   RWORKV=TCASTPTR;                /* GET ADDRESS OF TCAST TABLE    */ 01446000
         L     RWORKV,TCASTPTR                                  01S0427 01447000
*   REG4=PSATOLD;                   /* ADDR OF CURRENT TCB   @YM03242*/ 01448000
         L     REG4,PSATOLD                                     01S0428 01449000
*   REG7=PSAAOLD;                   /* ADDR OF CURRENT ASCB  @YM03242*/ 01450000
*                                                               01S0429 01451000
         L     REG7,PSAAOLD                                     01S0429 01452000
*   /*****************************************************************/ 01453000
*   /*                                                               */ 01454000
*   /* ISSUE FREEMAIN TO FREE TCAST TABLE                            */ 01455000
*   /*                                                               */ 01456000
*   /*****************************************************************/ 01457000
*                                                               01S0430 01458000
*   GEN CODE SETS(REG15,REG3,REG0,REG1,RLINK) REFS(RSAVE,PSALITA,FLC,   01459000
*       RWORKW,RWORKV,CVTPTR,CVTMAP,CVTCRMN);                   01S0430 01460000
*                                   /*                       @YM03242*/ 01461000
         FREEMAIN RC,LV=(RWORKW),A=(RWORKV),SP=SPTCAST,KEY=KEYTCAS,    *01462000
               BRANCH=YES,RELATED=(TCAST)  /*                @YM03232*/ 01463000
*   RFY                                                         01S0431 01464000
*    (REG4,                                                     01S0431 01465000
*     RWORKW,                                                   01S0431 01466000
*     RWORKV,                                                   01S0431 01467000
*     REG0,                                                     01S0431 01468000
*     REG1,                                                     01S0431 01469000
*     REG3,                                                     01S0431 01470000
*     REG15,                                                    01S0431 01471000
*     REG7) UNRSTD;                 /*                       @YM03242*/ 01472000
*   CVTTCASP=0;                     /* ZERO TCAST POINTER IN CVT     */ 01473000
         L     @15,CVTPTR                                       01S0432 01474000
         SLR   @07,@07                                          01S0432 01475000
         ST    @07,CVTTCASP(,@15)                               01S0432 01476000
*   RLINK=SAVE14A;                  /* RESTORE RETURN ADDRESS        */ 01477000
         L     RLINK,SAVE14A                                    01S0433 01478000
*   RFY                                                         01S0434 01479000
*     RLINK UNRSTD;                                             01S0434 01480000
*   RETURN;                         /* RETURN TO CALLER              */ 01481000
@EL00006 DS    0H                                               01S0435 01482000
@EF00006 DS    0H                                               01S0435 01483000
@ER00006 BR    @14                                              01S0435 01484000
*   END FRTCAST;                                                01S0436 01485000
         EJECT                                                          01486000
*                                                               01S0437 01487000
*   /*****************************************************************/ 01488000
*   /*                                                               */ 01489000
*   /* FRTTLIST FREE THE TIM/TOM LIST ADDRESSED BY TCASTTL. THE      */ 01490000
*   /* TIM/TOM LIST IS FREED AND THE POINTER TO IT, TCASTTL, IS      */ 01491000
*   /* CLEARED.                                                      */ 01492000
*   /*                                                               */ 01493000
*   /*****************************************************************/ 01494000
*                                                               01S0437 01495000
*FRTTLIST:                                                      01S0437 01496000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                       01S0437 01497000
FRTTLIST DS    0H                                               01S0438 01498000
*   RFY                                                         01S0438 01499000
*     RLINK RSTD;                                               01S0438 01500000
*   SAVE14A=RLINK;                  /* SAVE RETURN ADDRESS           */ 01501000
         ST    RLINK,SAVE14A                                    01S0439 01502000
*   RFY                                                         01S0440 01503000
*    (REG4,                                                     01S0440 01504000
*     RWORKW,                                                   01S0440 01505000
*     RWORKV,                                                   01S0440 01506000
*     REG0,                                                     01S0440 01507000
*     REG1,                                                     01S0440 01508000
*     REG3,                                                     01S0440 01509000
*     REG15,                                                    01S0440 01510000
*     REG7) RSTD;                   /*                       @YM03242*/ 01511000
*   RWORKW=TTLEN;                   /* GET LENGTH OF TIM/TOM LIST    */ 01512000
         L     @02,TCASTPTR                                     01S0441 01513000
         L     @02,TCASTTL(,@02)                                01S0441 01514000
         L     RWORKW,TTLEN(,@02)                               01S0441 01515000
*   RWORKV=TCASTTL;                 /* GET ADDRESS OF TIM/TOM LIST   */ 01516000
         LR    RWORKV,@02                                       01S0442 01517000
*   REG4=PSATOLD;                   /* ADDR OF CURRENT TCB   @YM03242*/ 01518000
         L     REG4,PSATOLD                                     01S0443 01519000
*   REG7=PSAAOLD;                   /* ADDR OF CURRENT ASCB  @YM03242*/ 01520000
*                                                               01S0444 01521000
         L     REG7,PSAAOLD                                     01S0444 01522000
*   /*****************************************************************/ 01523000
*   /*                                                               */ 01524000
*   /* ISSUE FREEMAIN TO FREE TIM/TOM LIST                           */ 01525000
*   /*                                                               */ 01526000
*   /*****************************************************************/ 01527000
*                                                               01S0445 01528000
*   GEN CODE SETS(REG15,REG3,REG0,REG1,RLINK) REFS(RSAVE,PSALITA,FLC,   01529000
*       RWORKW,RWORKV,CVTPTR,CVTMAP,CVTCRMN);                   01S0445 01530000
*                                   /*                       @YM03242*/ 01531000
         FREEMAIN RC,LV=(RWORKW),A=(RWORKV),SP=SPTCAST,KEY=KEYTCAS,    *01532000
               BRANCH=YES,RELATED=('TIM/TOM LIST')  /*       @YM03232*/ 01533000
*   RFY                                                         01S0446 01534000
*    (REG4,                                                     01S0446 01535000
*     RWORKW,                                                   01S0446 01536000
*     RWORKV,                                                   01S0446 01537000
*     REG0,                                                     01S0446 01538000
*     REG1,                                                     01S0446 01539000
*     REG3,                                                     01S0446 01540000
*     REG15,                                                    01S0446 01541000
*     REG7) UNRSTD;                 /*                       @YM03242*/ 01542000
*   TCASTTL=0;                      /* ZERO TCASTTL                  */ 01543000
         L     @15,TCASTPTR                                     01S0447 01544000
         SLR   @07,@07                                          01S0447 01545000
         ST    @07,TCASTTL(,@15)                                01S0447 01546000
*   RLINK=SAVE14A;                  /* RESTORE RETURN ADDRESS        */ 01547000
         L     RLINK,SAVE14A                                    01S0448 01548000
*   RFY                                                         01S0449 01549000
*     RLINK UNRSTD;                                             01S0449 01550000
*   RETURN;                         /* RETURN TO CALLER              */ 01551000
@EL00007 DS    0H                                               01S0450 01552000
@EF00007 DS    0H                                               01S0450 01553000
@ER00007 BR    @14                                              01S0450 01554000
*   END FRTTLIST;                                               01S0451 01555000
         EJECT                                                          01556000
*                                                               01S0452 01557000
*   /*****************************************************************/ 01558000
*   /*                                                               */ 01559000
*   /* FREELBUF: FREE THE LOGON BUFFER ADDRESSED BY TSBXLBUF. THE    */ 01560000
*   /* LOGON BUFFER IS FREED AND THE POINTER TO IT, TSBXLBUF,IS      */ 01561000
*   /* CLEARED.                                                      */ 01562000
*   /*                                                               */ 01563000
*   /*****************************************************************/ 01564000
*                                                               01S0452 01565000
*FREELBUF:                                                      01S0452 01566000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                       01S0452 01567000
FREELBUF DS    0H                                               01S0453 01568000
*   RFY                                                         01S0453 01569000
*     RLINK RSTD;                                               01S0453 01570000
*   SAVE14A=RLINK;                  /* SAVE RETURN ADDRESS           */ 01571000
         ST    RLINK,SAVE14A                                    01S0454 01572000
*   RFY                                                         01S0455 01573000
*    (REG4,                                                     01S0455 01574000
*     RWORKW,                                                   01S0455 01575000
*     RWORKV,                                                   01S0455 01576000
*     REG0,                                                     01S0455 01577000
*     REG1,                                                     01S0455 01578000
*     REG3,                                                     01S0455 01579000
*     REG15,                                                    01S0455 01580000
*     REG7) RSTD;                   /*                       @YM03242*/ 01581000
*   RWORKW=LBUFLEN;                 /* GET LENGTH OF LOGON BUFFER    */ 01582000
         L     @02,TSBEXTNT(,TSBPTR)                            01S0456 01583000
         L     @02,TSBXLBUF(,@02)                               01S0456 01584000
         LH    RWORKW,LBUFLEN(,@02)                             01S0456 01585000
*   RWORKV=TSBXLBUF;                /* GET ADDRESS OF LOGON BUFFER   */ 01586000
         LR    RWORKV,@02                                       01S0457 01587000
*   REG4=PSATOLD;                   /* ADDR OF CURRENT TCB   @YM03242*/ 01588000
         L     REG4,PSATOLD                                     01S0458 01589000
*   REG7=PSAAOLD;                   /* ADDR OF CURRENT ASCB  @YM03242*/ 01590000
*                                                               01S0459 01591000
         L     REG7,PSAAOLD                                     01S0459 01592000
*   /*****************************************************************/ 01593000
*   /*                                                               */ 01594000
*   /* ISSUE FREEMAIN TO FREE LOGON BUFFER                           */ 01595000
*   /*                                                               */ 01596000
*   /*****************************************************************/ 01597000
*                                                               01S0460 01598000
*   GEN CODE SETS(REG15,REG3,REG0,REG1,RLINK) REFS(RSAVE,PSALITA,FLC,   01599000
*       RWORKW,RWORKV,CVTPTR,CVTMAP,CVTCRMN);                   01S0460 01600000
*                                   /*                       @YM03232*/ 01601000
         FREEMAIN RC,LV=(RWORKW),A=(RWORKV),SP=SPLBUF,KEY=KEYTCAS,     *01602000
               BRANCH=YES,RELATED=('LOGON BUFFER')  /*       @YM03232*/ 01603000
*   RFY                                                         01S0461 01604000
*    (REG4,                                                     01S0461 01605000
*     RWORKW,                                                   01S0461 01606000
*     RWORKV,                                                   01S0461 01607000
*     REG0,                                                     01S0461 01608000
*     REG1,                                                     01S0461 01609000
*     REG3,                                                     01S0461 01610000
*     REG15,                                                    01S0461 01611000
*     REG7) UNRSTD;                 /*                       @YM03242*/ 01612000
*   TSBXLBUF=0;                     /* ZERO TSBXLBUF                 */ 01613000
         L     @15,TSBEXTNT(,TSBPTR)                            01S0462 01614000
         SLR   @07,@07                                          01S0462 01615000
         ST    @07,TSBXLBUF(,@15)                               01S0462 01616000
*   RLINK=SAVE14A;                  /* RESTORE RETURN ADDRESS        */ 01617000
         L     RLINK,SAVE14A                                    01S0463 01618000
*   RFY                                                         01S0464 01619000
*     RLINK UNRSTD;                                             01S0464 01620000
*   RETURN;                         /* RETURN TO CALLER              */ 01621000
@EL00008 DS    0H                                               01S0465 01622000
@EF00008 DS    0H                                               01S0465 01623000
@ER00008 BR    @14                                              01S0465 01624000
*   END FREELBUF;                                               01S0466 01625000
         EJECT                                                          01626000
*                                                               01S0467 01627000
*   /*****************************************************************/ 01628000
*   /*                                                               */ 01629000
*   /* FREETSB: FREE THE TSB AND TSBX THE TSB IS FREED AND THE       */ 01630000
*   /* POINTER IN THE ASCB, ASCBTSB IS CLEARED.                      */ 01631000
*   /*                                                               */ 01632000
*   /*****************************************************************/ 01633000
*                                                               01S0467 01634000
*FREETSB:                                                       01S0467 01635000
*   PROCEDURE OPTIONS(NOSAVE NOSAVEAREA);                       01S0467 01636000
FREETSB  DS    0H                                               01S0468 01637000
*   RFY                                                         01S0468 01638000
*     RLINK RSTD;                                               01S0468 01639000
*   SAVE14A=RLINK;                  /* SAVE RETURN ADDRESS           */ 01640000
         ST    RLINK,SAVE14A                                    01S0469 01641000
*   RFY                                                         01S0470 01642000
*    (REG4,                                                     01S0470 01643000
*     RWORKW,                                                   01S0470 01644000
*     REG0,                                                     01S0470 01645000
*     REG1,                                                     01S0470 01646000
*     REG3,                                                     01S0470 01647000
*     REG15,                                                    01S0470 01648000
*     REG7) RSTD;                   /*                       @YM03242*/ 01649000
*   RWORKW=EVAL(LENGTH(TSB)+LENGTH(TSBX));/* LENGTH TO FREE TSB AND     01650000
*                                      TSBX ARE LOCATED CONTIGUOUSLY    01651000
*                                      AND ARE FREED AT THE SAME        01652000
*                                      TIME. REG TSBPTR HAS THE 01S0471 01653000
*                                      ADDRESS OF THE TSB            */ 01654000
         LA    RWORKW,248                                       01S0471 01655000
*   REG4=PSATOLD;                   /* ADDR OF CURRENT TCB   @YM03242*/ 01656000
         L     REG4,PSATOLD                                     01S0472 01657000
*   REG7=PSAAOLD;                   /* ADDR OF CURRENT ASCB  @YM03242*/ 01658000
*                                                               01S0473 01659000
         L     REG7,PSAAOLD                                     01S0473 01660000
*   /*****************************************************************/ 01661000
*   /*                                                               */ 01662000
*   /* ISSUE FREEMAIN TO FREE TSB AND TSBX                           */ 01663000
*   /*                                                               */ 01664000
*   /*****************************************************************/ 01665000
*                                                               01S0474 01666000
*   GEN CODE SETS(REG0,REG1,REG3,REG15) REFS(RSAVE,TSBPTR,PSALITA,FLC,  01667000
*       RWORKW,CVTPTR,CVTMAP,CVTCRMN);                          01S0474 01668000
*                                   /*                       @YM03242*/ 01669000
         FREEMAIN RC,LV=(RWORKW),A=(TSBPTR),SP=SPTSB,KEY=KEYTCAS,      *01670000
               BRANCH=YES,RELATED=(TSB,TSBX)  /*             @YM03232*/ 01671000
*   RFY                                                         01S0475 01672000
*    (REG4,                                                     01S0475 01673000
*     RWORKW,                                                   01S0475 01674000
*     REG0,                                                     01S0475 01675000
*     REG1,                                                     01S0475 01676000
*     REG3,                                                     01S0475 01677000
*     REG15,                                                    01S0475 01678000
*     REG7) UNRSTD;                 /*                       @YM03242*/ 01679000
*   ASCBTSB=0;                      /* ZERO POINTER TO TSB           */ 01680000
         L     @15,PSAAOLD                                      01S0476 01681000
         SLR   @07,@07                                          01S0476 01682000
         ST    @07,ASCBTSB(,@15)                                01S0476 01683000
*   RLINK=SAVE14A;                  /* RESTORE RETURN ADDRESS        */ 01684000
         L     RLINK,SAVE14A                                    01S0477 01685000
*   RFY                                                         01S0478 01686000
*     RLINK UNRSTD;                                             01S0478 01687000
*   RETURN;                         /* RETURN TO CALLER              */ 01688000
@EL00009 DS    0H                                               01S0479 01689000
@EF00009 DS    0H                                               01S0479 01690000
@ER00009 BR    @14                                              01S0479 01691000
*   END FREETSB;                                                01S0480 01692000
         EJECT                                                          01693000
*                                                               01S0481 01694000
*   /*****************************************************************/ 01695000
*   /*                                                               */ 01696000
*   /* FREESRB: FREE SRB AT ADDRESS PASSED IN REGISTER 1 A PURGEDQ   */ 01697000
*   /* (WHICH REQUIRES THE RELEASE OF THE LOCAL AND CMS LOCKS) IS    */ 01698000
*   /* ISSUED TO MAKE SURE THAT THE DISPATCHER WILL NOT TRY TO       */ 01699000
*   /* ADDRESS AN SRB WHICH HAS BEEN FREED. THE SRB WHICH IS POINTED */ 01700000
*   /* TO BY REG 1 ON ENTRY TO THIS PROCEDURE IS THEN FREED.         */ 01701000
*   /*                                                               */ 01702000
*   /*****************************************************************/ 01703000
*                                                               01S0481 01704000
*FREESRB:                                                       01S0481 01705000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                       01S0481 01706000
FREESRB  DS    0H                                               01S0482 01707000
*   RFY                                                         01S0482 01708000
*    (RLINK,                                                    01S0482 01709000
*     REG4) RSTD;                                               01S0482 01710000
*   SAVE14B=RLINK;                  /* SAVE RETURN ADDRESS           */ 01711000
         ST    RLINK,SAVE14B                                    01S0483 01712000
*   SAVE04A=REG4;                   /* SAVE REG4 DESTROYED BY BRANCH    01713000
*                                      ENTERED FREEMAIN - NEEDED BY     01714000
*                                      SRCHVTAM                      */ 01715000
         ST    REG4,SAVE04A                                     01S0484 01716000
*   RFY                                                         01S0485 01717000
*     RLINK UNRSTD;                                             01S0485 01718000
*                                                               01S0485 01719000
*   /*****************************************************************/ 01720000
*   /*                                                               */ 01721000
*   /* UPON INPUT FREESRB REQUIRES THE ADDRESS OF THE SRB IN REG1    */ 01722000
*   /*                                                               */ 01723000
*   /*****************************************************************/ 01724000
*                                                               01S0486 01725000
*   RFY                                                         01S0486 01726000
*    (REG1,                                                     01S0486 01727000
*     RWORKY) RSTD;                                             01S0486 01728000
*   RWORKY=REG1;                    /* SAVE ADDRESS OF SRB           */ 01729000
*                                                               01S0487 01730000
         LR    RWORKY,REG1                                      01S0487 01731000
*   /*****************************************************************/ 01732000
*   /*                                                               */ 01733000
*   /* PERFORM A PURGEQ ON THE SRB TO ASSURE THAT THE SRB IS         */ 01734000
*   /* DEQUEUED. THE SRB IS ALLOWED TO RUN IF IT HAS BEEN DISPATCHED.*/ 01735000
*   /*                                                               */ 01736000
*   /*****************************************************************/ 01737000
*                                                               01S0488 01738000
*   RFY                                                         01S0488 01739000
*     SRBSECT BASED(RWORKY);                                    01S0488 01740000
*   PURGASID=SRBPASID;                                          01S0489 01741000
         MVC   PURGASID(2),SRBPASID(RWORKY)                     01S0489 01742000
*   PURGTCB=SRBPTCB;                                            01S0490 01743000
         L     @07,SRBPTCB(,RWORKY)                             01S0490 01744000
         ST    @07,PURGTCB                                      01S0490 01745000
*   RFY                                                         01S0491 01746000
*    (RWORKW,                                                   01S0491 01747000
*     RWORKX,                                                   01S0491 01748000
*     REG0,                                                     01S0491 01749000
*     REG3,                                                     01S0491 01750000
*     RLINK,                                                    01S0491 01751000
*     REG15) RSTD;                                              01S0491 01752000
*   RWORKW=SRBRMTR;                                             01S0492 01753000
         L     RWORKW,SRBRMTR(,RWORKY)                          01S0492 01754000
*   RWORKX=ADDR(PURGPARM);                                      01S0493 01755000
         LA    RWORKX,PURGPARM                                  01S0493 01756000
*   GEN CODE REFS(RSAVE,PSALITA,FLC,RWORKX,RWORKW) SETS(REG0,REG1,REG14 01757000
*       ,REG15);                                                01S0494 01758000
*                                                               01S0494 01759000
*                                   /*                       @ZM21005*/ 01760000
         SETLOCK RELEASE,TYPE=CMS,REGS=USE,RELATED=(PURGEDQ) /*         01761000
*                                                            @ZM21005*/ 01762000
         SETLOCK RELEASE,TYPE=LOCAL,REGS=USE,RELATED=(PURGEDQ)  /*      01763000
*                                                            @ZM21005*/ 01764000
         PURGEDQ RMTR=(RWORKW),ASIDTCB=(RWORKX),MF=(E,PURGEDQL)         01765000
         SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,REGS=USE,               *01766000
               RELATED=(PURGEDQ)    /*                       @ZM21005*/ 01767000
         SETLOCK OBTAIN,TYPE=CMS,MODE=UNCOND,REGS=USE,                 *01768000
               RELATED=(PURGEDQ)    /*                       @ZM21005*/ 01769000
*   /*****************************************************************/ 01770000
*   /*                                                               */ 01771000
*   /* FREE THE SRB USING FREEMAIN                                   */ 01772000
*   /*                                                               */ 01773000
*   /*****************************************************************/ 01774000
*                                                               01S0495 01775000
*   RWORKW=LENGTH(SRB);             /* GET LENGTH OF SRB - ADDRESS OF   01776000
*                                      SRB IS IN REG1                */ 01777000
         LA    RWORKW,44                                        01S0495 01778000
*   RFY                                                         01S0496 01779000
*     REG7 RSTD;                    /*                       @YM03242*/ 01780000
*   REG4=PSATOLD;                   /* ADDR OF CURRENT TCB   @YM03242*/ 01781000
         L     REG4,PSATOLD                                     01S0497 01782000
*   REG7=PSAAOLD;                   /* ADDR OF CURRENT ASCB  @YM03242*/ 01783000
         L     REG7,PSAAOLD                                     01S0498 01784000
*   GEN CODE SETS(REG3,REG0,REG15,RLINK) REFS(RWORKW,CVTPTR,CVTMAP,     01785000
*       CVTCRMN);                                               01S0499 01786000
*                                   /*                       @YM03242*/ 01787000
         FREEMAIN RC,LV=(RWORKW),A=(RWORKY),SP=SPSRB,                  *01788000
               BRANCH=YES,RELATED=(SRB)  /*                  @YM03232*/ 01789000
*   RFY                                                         01S0500 01790000
*    (REG7,                                                     01S0500 01791000
*     REG1,                                                     01S0500 01792000
*     RWORKW,                                                   01S0500 01793000
*     RWORKX,                                                   01S0500 01794000
*     REG0,                                                     01S0500 01795000
*     REG3,                                                     01S0500 01796000
*     REG15,                                                    01S0500 01797000
*     RWORKY) UNRSTD;               /*                       @YM03242*/ 01798000
*   REG4=SAVE04A;                   /* RESTORE REG4                  */ 01799000
         L     REG4,SAVE04A                                     01S0501 01800000
*   RLINK=SAVE14B;                  /* RESTORE RETURN ADDRESS        */ 01801000
         L     RLINK,SAVE14B                                    01S0502 01802000
*   RFY                                                         01S0503 01803000
*    (RLINK,                                                    01S0503 01804000
*     REG4) UNRSTD;                                             01S0503 01805000
*   RETURN;                                                     01S0504 01806000
@EL00010 DS    0H                                               01S0504 01807000
@EF00010 DS    0H                                               01S0504 01808000
@ER00010 BR    @14                                              01S0504 01809000
*   END FREESRB;                                                01S0505 01810000
         EJECT                                                          01811000
*                                                               01S0506 01812000
*   /*****************************************************************/ 01813000
*   /*                                                               */ 01814000
*   /* SRCHTCAM SEARCH TCAM TSB CHAIN FOR ASID TPUT FROM TERMINATING */ 01815000
*   /* ADDRESS SPACE. WHEN A TSB IS FOUND WHICH INDICATES AN ASID    */ 01816000
*   /* TPUT FROM THE TERMINATING ADDRESS SPACE, THE ASID TPUT BITS IN*/ 01817000
*   /* THE TSB ARE CLEARED. IEDAYTPQ IS INVOKED TO INFORM TCAM NOT TO*/ 01818000
*   /* EXPECT MORE OUTPUT. IN ADDITION THE STATUS ROUTINE IS INVOKED */ 01819000
*   /* TO TO MAKE ALL TASKS ASSOCIATED WITH THE TSB ACTIVE.          */ 01820000
*   /*                                                               */ 01821000
*   /*****************************************************************/ 01822000
*                                                               01S0506 01823000
*SRCHTCAM:                                                      01S0506 01824000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                       01S0506 01825000
SRCHTCAM DS    0H                                               01S0507 01826000
*   RFY                                                         01S0507 01827000
*     RLINK RSTD;                                               01S0507 01828000
*   SAVE14A=RLINK;                  /* SAVE RETURN ADDRESS           */ 01829000
         ST    RLINK,SAVE14A                                    01S0508 01830000
*   RFY                                                         01S0509 01831000
*     RLINK UNRSTD;                                             01S0509 01832000
*                                                               01S0509 01833000
*   /*****************************************************************/ 01834000
*   /*                                                               */ 01835000
*   /* SEE IF TSO/TCAM IS UP                                         */ 01836000
*   /*                                                               */ 01837000
*   /*****************************************************************/ 01838000
*                                                               01S0510 01839000
*   IF CVTAQAVT^=0&                 /* SEE IF TCAM IS UP             */ 01840000
*       TCXRPT^=0 THEN              /* AND TSO IS UP                 */ 01841000
*                                                               01S0510 01842000
         SLR   @07,@07                                          01S0510 01843000
         L     @04,CVTPTR                                       01S0510 01844000
         L     @04,CVTAQAVT(,@04)                               01S0510 01845000
         CR    @04,@07                                          01S0510 01846000
         BE    @RF00510                                         01S0510 01847000
         L     @04,TCXRPT(,@04)                                 01S0510 01848000
         CR    @04,@07                                          01S0510 01849000
         BE    @RF00510                                         01S0510 01850000
*     /***************************************************************/ 01851000
*     /*                                                             */ 01852000
*     /* IF TSO/TCAM IS UP SET UP FOR SEARCH OF TCAM TSB CHAIN       */ 01853000
*     /*                                                             */ 01854000
*     /***************************************************************/ 01855000
*                                                               01S0511 01856000
*     DO;                           /* START **TSO UP**              */ 01857000
*       RFY                                                     01S0512 01858000
*        (RWORKY,                                               01S0512 01859000
*         RWORKW,                                               01S0512 01860000
*         RWORKX) RSTD;                                         01S0512 01861000
*       RWORKY=TCXRPT;              /* GET ADDR OF TIOCRPT           */ 01862000
         LR    RWORKY,@04                                       01S0513 01863000
*       GEN(USING TIOCRPT,RWORKY)                               01S0514 01864000
*       REFS(RWORKY);                                           01S0514 01865000
         USING TIOCRPT,RWORKY                                           01866000
*       RWORKW=TIOCTSB;             /* GET ADDR OF FIRST TCAM TSB    */ 01867000
         L     RWORKW,TIOCTSB-1                                 01S0515 01868000
         LA    RWORKW,0(,RWORKW)                                01S0515 01869000
*       RWORKX=TIOCTSBS;            /* GET SIZE OF TSB               */ 01870000
         SLR   RWORKX,RWORKX                                    01S0516 01871000
         IC    RWORKX,TIOCTSBS                                  01S0516 01872000
*       RFY                                                     01S0517 01873000
*         TSB BASED(RWORKW);                                    01S0517 01874000
*                                                               01S0517 01875000
*       /*************************************************************/ 01876000
*       /*                                                           */ 01877000
*       /* FOR EACH TSB ON THE CHAIN, SEE IF THE TSB IS IN USE AND   */ 01878000
*       /* THE TSBWTJID IS THE ASID OF THE TERMINATING ADDRESS SPACE */ 01879000
*       /*                                                           */ 01880000
*       /*************************************************************/ 01881000
*                                                               01S0518 01882000
*       DO I=1 TO TIOCNTSB;         /* START **CHECK TSB/ASID** 01S0518 01883000
*                                      TIOCNTSB IS NUMBER OF TSBS    */ 01884000
         LA    I,1                                              01S0518 01885000
         B     @DE00518                                         01S0518 01886000
@DL00518 DS    0H                                               01S0519 01887000
*         IF TSBINUSE='1'B&         /* IF TSB IN USE                 */ 01888000
*             TSBWTJID=RMPLASID THEN/* AND ASIDS MATCH FOR XMTPUT    */ 01889000
*                                                               01S0519 01890000
         TM    TSBINUSE(RWORKW),B'10000000'                     01S0519 01891000
         BNO   @RF00519                                         01S0519 01892000
         LH    @04,RMPLASID(,RRMPL)                             01S0519 01893000
         N     @04,@CF01724                                     01S0519 01894000
         CH    @04,TSBWTJID(,RWORKW)                            01S0519 01895000
         BNE   @RF00519                                         01S0519 01896000
*           /*********************************************************/ 01897000
*           /*                                                       */ 01898000
*           /* IF ASID MATCH IS FOUND, ZERO THE HIGH ORDER BYTE OF   */ 01899000
*           /* TSBECB. IF THE TPUT IS IN PROGRESS, LOOK AT THE NEXT  */ 01900000
*           /* TSB                                                   */ 01901000
*           /*                                                       */ 01902000
*           /*********************************************************/ 01903000
*                                                               01S0520 01904000
*           DO;                     /* START **TSB MATCH FOUND**     */ 01905000
*             WKTSECB1=0;           /* TURN OFF POST AND WAIT BITS   */ 01906000
         MVI   WKTSECB1(RWORKW),X'00'                           01S0521 01907000
*             IF TSBTJIP='0'B THEN  /* IF TPUT IN PROGRESS (TJIP=1)     01908000
*                                      LOOK AT NEXT TSB ELSE CONTIN  */ 01909000
*                                                               01S0522 01910000
         TM    TSBTJIP(RWORKW),B'00000010'                      01S0522 01911000
         BNZ   @RF00522                                         01S0522 01912000
*               /*****************************************************/ 01913000
*               /*                                                   */ 01914000
*               /* CLEAR X-MEMORY TPUT INDICATORS IN THE TSB         */ 01915000
*               /*                                                   */ 01916000
*               /*****************************************************/ 01917000
*                                                               01S0523 01918000
*               DO;                 /* START **USE THIS TSB**        */ 01919000
*                 TSBOWIP='0'B;     /* CLEAR CROSS MEMORY TPUT       */ 01920000
*                 TSBTJIP='0'B;     /* RELATED TSB INDICATORS        */ 01921000
*                 TSBTJBF='0'B;                                 01S0526 01922000
*                 TSBTJOW='0'B;                                 01S0527 01923000
         NI    TSBOWIP(RWORKW),B'11011000'                      01S0527 01924000
*                 TSBNOBUF='0'B;                                01S0528 01925000
         NI    TSBNOBUF(RWORKW),B'11101111'                     01S0528 01926000
*                 IF CVTTCRDY='1'B& /* IF TCAM STILL UP              */ 01927000
*                     TSBCANC='0'B THEN/* AND USER STILL AROUND      */ 01928000
*                                                               01S0529 01929000
         L     @04,CVTPTR                                       01S0529 01930000
         TM    CVTTCRDY(@04),B'10000000'                        01S0529 01931000
         BNO   @RF00529                                         01S0529 01932000
         TM    TSBCANC(RWORKW),B'00000100'                      01S0529 01933000
         BNZ   @RF00529                                         01S0529 01934000
*                   /*************************************************/ 01935000
*                   /*                                               */ 01936000
*                   /* SET TSBF1M AND TSBF1V USING COMPARE AND SWAP  */ 01937000
*                   /* ON THE WORD CONTAINING THEM                   */ 01938000
*                   /*                                               */ 01939000
*                   /*************************************************/ 01940000
*                                                               01S0530 01941000
*                   DO;             /* START **TPOST**               */ 01942000
*                     RFY                                       01S0531 01943000
*                      (REG0,                                   01S0531 01944000
*                       REG15) RSTD;                            01S0531 01945000
*                     REG0=WKTSBF2M;/* GET WORD CONTAINING MASK AND     01946000
*                                      VALUE FOR QCBTSOF1            */ 01947000
         L     REG0,WKTSBF2M(,RWORKW)                           01S0532 01948000
*CSLOOP4:                           /* SET UP CS TO TURN OFF QCBPARTO   01949000
*                                      SO TCAM WONT EXPECT MORE 01S0533 01950000
*                                      OUTPUT                        */ 01951000
*                     REG15=REG0;   /* SAVE IN WORK REG              */ 01952000
CSLOOP4  LR    REG15,REG0                                       01S0533 01953000
*                     GEN(O REG15,TPSTMSK1)/* SET MASK               */ 01954000
*                     REFS(TPSTMSK1) SETS(REG15);               01S0534 01955000
         O REG15,TPSTMSK1                                               01956000
*                     GEN(N REG15,TPSTMSK2)/* SET VALUE              */ 01957000
*                     REFS(TPSTMSK2) SETS(REG15);               01S0535 01958000
         N REG15,TPSTMSK2                                               01959000
*                     CS(REG0,REG15,WKTSBF2M);                  01S0536 01960000
         CS    REG0,@15,WKTSBF2M(RWORKW)                        01S0536 01961000
*                     BC(NE,CSLOOP4);/* LOOP TIL UPDATE DONE         */ 01962000
*                                                               01S0537 01963000
         BC    7,CSLOOP4                                        01S0537 01964000
*                     /***********************************************/ 01965000
*                     /*                                             */ 01966000
*                     /* INVOKE IEDAYTPQ TO TPOST THE TSB TO IEDAYP  */ 01967000
*                     /* SO THAT TCAM WILL NOT EXPECT MORE OUTPUT.   */ 01968000
*                     /* THE REQUIRED INTERFACE IS: REG0 = RETURN    */ 01969000
*                     /* ADDRESS REG1 = 0 TO TPOST TSB TO IEDAYP REG2*/ 01970000
*                     /* = TSB ADDRESS REG13 = ADDRESS OF 6-WORD SAVE*/ 01971000
*                     /* AREA IN TIOCRPT REG15 = EPA OF IEDAYTPQ     */ 01972000
*                     /*                                             */ 01973000
*                     /***********************************************/ 01974000
*                                                               01S0538 01975000
*                     RFY                                       01S0538 01976000
*                      (REG1,                                   01S0538 01977000
*                       REG2,                                   01S0538 01978000
*                       REG3) RSTD;                             01S0538 01979000
*                                                               01S0538 01980000
*                     /***********************************************/ 01981000
*                     /*                                             */ 01982000
*                     /* THE ADDRESS OF IEDAYTPQ (TPOST) IS OBTAINED */ 01983000
*                     /* BY ISSUING THE LOAD MACRO. LOAD WILL RETURN */ 01984000
*                     /* THE ADDRESS OF THE ROUTINE IN REG 0. THE CMS*/ 01985000
*                     /* AND LOCAL LOCKS MUST BE RELEASED SINCE THERE*/ 01986000
*                     /* IS NOT A BRANCH ENTRY TO LOAD. THE LOCKS ARE*/ 01987000
*                     /* RE-OBTAINED AS SOON AS THE LOAD IS DONE.    */ 01988000
*                     /* IEDAYTPQ IS IN LPALIB                       */ 01989000
*                     /*                                             */ 01990000
*                     /***********************************************/ 01991000
*                                                               01S0539 01992000
*                     GEN CODE REFS(CVTPTR,CVTSPOST,CVTMAP,PSALITA,FLC, 01993000
*                         RSAVE,TPQBASE)/*                   @ZM21005*/ 01994000
*                         SETS(REG0,REG1,REG14,REG15,TPQBASE);  01S0539 01995000
         SETLOCK RELEASE,TYPE=CMS,REGS=USE,RELATED=(LOAD) /* @ZM21005*/ 01996000
         SETLOCK RELEASE,TYPE=LOCAL,REGS=USE,RELATED=(LOAD)  /*         01997000
*                                                            @ZM21005*/ 01998000
         LOAD  EP=IEDAYTPQ          /* GET ADDRESS OF TPOST          */ 01999000
         ST    REG0,TPQBASE         /* SAVE BASE OF TPOST    @ZM21005*/ 02000000
         SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,REGS=USE,               *02001000
               RELATED=(LOAD)       /*                       @ZM21005*/ 02002000
         SETLOCK OBTAIN,TYPE=CMS,MODE=UNCOND,REGS=USE,RELATED=(LOAD) /* 02003000
*                                                            @ZM21005*/ 02004000
*                     REG15=ADDR(IEDAYTPQ);/* GET ADDRESS OF ROUTINE    02005000
*                                      FOR TPOST             @ZM21005*/ 02006000
         L     REG15,TPQBASE                                    01S0540 02007000
*                     REG1=0;       /* SET REG1 TO ZERO              */ 02008000
         SLR   REG1,REG1                                        01S0541 02009000
*                     REG2=RWORKW;  /* ADDR TSB IN RWORKW            */ 02010000
         LR    REG2,RWORKW                                      01S0542 02011000
*                     REG3=RSAVE;   /* SAVE ADDR OF SAVEAREA         */ 02012000
         LR    REG3,RSAVE                                       01S0543 02013000
*                     GEN(LA RSAVE,TIOCSAVE+44)                 01S0544 02014000
*                     SETS(RSAVE) REFS(TIOCSAVE);/* ADDR OF LAST 6      02015000
*                                      WORDS IN TIOCSAVE             */ 02016000
         LA RSAVE,TIOCSAVE+44                                           02017000
*                     GEN(BALR REG0,REG15)/* INVOKE IEDAYTPQ         */ 02018000
*                     REFS(REG15) SETS(REG0);                   01S0545 02019000
         BALR REG0,REG15                                                02020000
*                     GEN(MODESET EXTKEY=SUPR);/* CONTROL RETURNS IN    02021000
*                                      KEY 6-GET SUPR AGAIN  @YM03226*/ 02022000
         MODESET EXTKEY=SUPR                                            02023000
*                     RSAVE=REG3;   /* RESTORE SAVE AREA ADD         */ 02024000
         LR    RSAVE,REG3                                       01S0547 02025000
*                     RFY                                       01S0548 02026000
*                      (REG0,                                   01S0548 02027000
*                       REG1,                                   01S0548 02028000
*                       REG2,                                   01S0548 02029000
*                       REG3,                                   01S0548 02030000
*                       REG15) UNRSTD;                          01S0548 02031000
*                   END;            /* END OF **TPOST**              */ 02032000
*                 ELSE                                          01S0550 02033000
*                   ;               /* TPOST NOT NEEDED              */ 02034000
*                                                               01S0550 02035000
@RF00529 DS    0H                                               01S0551 02036000
*                 /***************************************************/ 02037000
*                 /*                                                 */ 02038000
*                 /* CALL STATUS IF AN OWAIT IS IN PROGRESS AND TSO  */ 02039000
*                 /* HAS NOT OUT OF CORE ABENDED                     */ 02040000
*                 /*                                                 */ 02041000
*                 /***************************************************/ 02042000
*                                                               01S0551 02043000
*                 IF TSBWOWIP='1'B& /* IF OWAIT IN PROGRESS          */ 02044000
*                     TSBOCAB='0'B THEN/* AND NOT OUT-OF-CORE ABEND  */ 02045000
         TM    TSBWOWIP(RWORKW),B'00010000'                     01S0551 02046000
         BNO   @RF00551                                         01S0551 02047000
         TM    TSBOCAB(RWORKW),B'10000000'                      01S0551 02048000
         BNZ   @RF00551                                         01S0551 02049000
*                   DO;             /* START **STATUS**              */ 02050000
*                     TSBOWAIT='0'B;/* TURN OFF OWAIT BIT - THIS        02051000
*                                      INSTR IN TCAM IS NI      01S0553 02052000
*                                      TSBFLG4,TSBOWAIT - APPARENTLY    02053000
*                                      AN ERROR THAT FOR SOME REASON    02054000
*                                      DOES NO HARM. REPORTED TO SJ     02055000
*                                      FE 9-15-75                    */ 02056000
*                                                               01S0553 02057000
         NI    TSBOWAIT(RWORKW),B'11011111'                     01S0553 02058000
*                     /***********************************************/ 02059000
*                     /*                                             */ 02060000
*                     /* A NORMAL TPUT IS WAITING FOR THIS TSB MAKE  */ 02061000
*                     /* ALL TASKS ASSOCIATED WITH THIS TSB ACTIVE.  */ 02062000
*                     /* INTERFACE TO STATUS: REG0 = ASID IN BYTES   */ 02063000
*                     /* 0-1 STATUS ENTRY CODE(8) IN BYTES 2-3 REG1 =*/ 02064000
*                     /* '80000000'X RESET REG13 = TCB NON-DISPATCH  */ 02065000
*                     /* BIT MASK '0400'X REG14 = RETURN ADDRESS     */ 02066000
*                     /* REG15 = EPA TO STATUS                       */ 02067000
*                     /*                                             */ 02068000
*                     /***********************************************/ 02069000
*                                                               01S0554 02070000
*                     RFY                                       01S0554 02071000
*                      (REG0,                                   01S0554 02072000
*                       REG1,                                   01S0554 02073000
*                       REG3,                                   01S0554 02074000
*                       REG14,                                  01S0554 02075000
*                       REG15) RSTD;                            01S0554 02076000
*                     RFY                                       01S0555 02077000
*                       ASCB BASED(TSBASCBA);/*              @YM03242   02078000
*                                      GET TARGET ASCB               */ 02079000
*                     REG0=(ASCBASID*65536)|'0008'X;/* PUT ASID IN      02080000
*                                      BYTES 0-1 AND ENTRY CODE 01S0556 02081000
*                                      '0008'X IN BYTES 2-3.         */ 02082000
         L     @04,TSBASCBA(,RWORKW)                            01S0556 02083000
         LH    REG0,ASCBASID(,@04)                              01S0556 02084000
         N     REG0,@CF01724                                    01S0556 02085000
         SLA   REG0,16                                          01S0556 02086000
         O     REG0,@CF01697                                    01S0556 02087000
*                     RFY                                       01S0557 02088000
*                       ASCB BASED(PSAAOLD);/*               @YM03242*/ 02089000
*                     REG1='80000000'X;/* SHOW RESET REQUEST         */ 02090000
         L     REG1,@CF01639                                    01S0558 02091000
*                     REG3=RSAVE;   /* SAVE SAVEAREA ADDR            */ 02092000
         LR    REG3,RSAVE                                       01S0559 02093000
*                     RSAVE='0400'X;/* NON-DISPATCH MASK             */ 02094000
         LA    RSAVE,1024                                       01S0560 02095000
*                     CALL STATUS;  /* DISPATCH WAITING TASKS        */ 02096000
         L     @04,CVTPTR                                       01S0561 02097000
         L     @04,CVTABEND(,@04)                               01S0561 02098000
         L     @15,SCVTSTAT(,@04)                               01S0561 02099000
         BALR  @14,@15                                          01S0561 02100000
*                     RSAVE=REG3;   /* RESTORE SAVEAREA ADD          */ 02101000
         LR    RSAVE,REG3                                       01S0562 02102000
*                     RFY                                       01S0563 02103000
*                      (REG0,                                   01S0563 02104000
*                       REG1,                                   01S0563 02105000
*                       REG3,                                   01S0563 02106000
*                       REG14,                                  01S0563 02107000
*                       REG15) UNRSTD;                          01S0563 02108000
*                   END;            /* END OF **STATUS**             */ 02109000
*                 ELSE                                          01S0565 02110000
*                   ;               /* NO NEED FOR STATUS            */ 02111000
@RF00551 DS    0H                                               01S0566 02112000
*               END;                /* END OF **USE THIS TSB**       */ 02113000
*             ELSE                                              01S0567 02114000
*               ;                   /* ASID TPUT IN PROGRESS         */ 02115000
@RF00522 DS    0H                                               01S0568 02116000
*           END;                    /* END OF **TSB MATCH FOUND**    */ 02117000
*         ELSE                                                  01S0569 02118000
*           ;                       /* TSB NOT IN USE OR NO MATCH    */ 02119000
*                                                               01S0569 02120000
@RF00519 DS    0H                                               01S0570 02121000
*         /***********************************************************/ 02122000
*         /*                                                         */ 02123000
*         /* INCREMENT POINTER BY SIZE OF TSB                        */ 02124000
*         /*                                                         */ 02125000
*         /***********************************************************/ 02126000
*                                                               01S0570 02127000
*         RWORKW=RWORKW+RWORKX;     /* INCR TO NEXT TSB              */ 02128000
         ALR   RWORKW,RWORKX                                    01S0570 02129000
*       END;                        /* END OF **CHECK TSB/ASID **       02130000
*                                      LOOP TO SEARCH TSB CHAIN      */ 02131000
         AL    I,@CF00101                                       01S0571 02132000
@DE00518 CH    I,TIOCNTSB                                       01S0571 02133000
         BNH   @DL00518                                         01S0571 02134000
*       RFY                                                     01S0572 02135000
*        (RWORKY,                                               01S0572 02136000
*         RWORKW,                                               01S0572 02137000
*         RWORKX) UNRSTD;                                       01S0572 02138000
*       RFY                                                     01S0573 02139000
*         TSB BASED(TSBPTR);        /* RESET TSB BASE POINTER        */ 02140000
*     END;                          /* END OF **TSO UP**             */ 02141000
*   ELSE                                                        01S0575 02142000
*     ;                             /* TCAM/TSO NOT UP               */ 02143000
*                                                               01S0575 02144000
@RF00510 DS    0H                                               01S0576 02145000
*   /*****************************************************************/ 02146000
*   /*                                                               */ 02147000
*   /* RESTORE RETURN ADDRESS AND RETURN TO CALLER                   */ 02148000
*   /*                                                               */ 02149000
*   /*****************************************************************/ 02150000
*                                                               01S0576 02151000
*   RFY                                                         01S0576 02152000
*     RLINK RSTD;                                               01S0576 02153000
*   RLINK=SAVE14A;                  /* RESTORE RETURN ADDRESS        */ 02154000
         L     RLINK,SAVE14A                                    01S0577 02155000
*   RFY                                                         01S0578 02156000
*     RLINK UNRSTD;                                             01S0578 02157000
*   RETURN;                         /* RETURN TO CALLER              */ 02158000
@EL00011 DS    0H                                               01S0579 02159000
@EF00011 DS    0H                                               01S0579 02160000
@ER00011 BR    @14                                              01S0579 02161000
*   END SRCHTCAM;                                               01S0580 02162000
         EJECT                                                          02163000
*                                                               01S0581 02164000
*   /*****************************************************************/ 02165000
*   /*                                                               */ 02166000
*   /* SRCHVTAM SEARCH VTAM TSB CHAIN FOR ASID TPUT FROM THE         */ 02167000
*   /* TERMINATING ADDRESS SPACE THEN A VTAM TSB IS FOUND WHICH      */ 02168000
*   /* INDICATES AN ASID TPUT FROM THE TERMINATING ADRESS SPACE, THE */ 02169000
*   /* CSA AREA (TVCS) ASSOCIATED WITH THE TPUT IS EXAMINED. IF THE  */ 02170000
*   /* TARGET HAS RELINQUISED CONTROL, AN SPOST IS ISSUED TO LET     */ 02171000
*   /* OUTSTANDING POSTS COMPLETE, AND THE SRB AND TVCS AREAS ARE    */ 02172000
*   /* FREED IF THE TARGET HAS NOT RELINQUISHED CONTROL, THE TVCS BIT*/ 02173000
*   /* IS SET WHICH INDICATES THE SOURCE RELINQUISHED CONTROL        */ 02174000
*   /* (TVCSRCRC) AND THE TARGET ADDRESS SPACE IS LEFT WITH THE      */ 02175000
*   /* RESPONSIBILITY OF FREEING THE TVCS AND RELATED SRB.           */ 02176000
*   /*                                                               */ 02177000
*   /*****************************************************************/ 02178000
*                                                               01S0581 02179000
*SRCHVTAM:                                                      01S0581 02180000
*   PROCEDURE OPTIONS(NOSAVE,NOSAVEAREA);                       01S0581 02181000
SRCHVTAM DS    0H                                               01S0582 02182000
*   RFY                                                         01S0582 02183000
*     RLINK RSTD;                                               01S0582 02184000
*   SAVE14A=RLINK;                  /* SAVE RETURN ADDRESS           */ 02185000
         ST    RLINK,SAVE14A                                    01S0583 02186000
*   RFY                                                         01S0584 02187000
*     RLINK UNRSTD;                                             01S0584 02188000
*   RFY                                                         01S0585 02189000
*     RWORKV RSTD;                                              01S0585 02190000
*   RWORKV=TCASTSB;                 /* POINT TO FIRST VTAM TSB       */ 02191000
         L     @07,TCASTPTR                                     01S0586 02192000
         L     RWORKV,TCASTSB(,@07)                             01S0586 02193000
*   RFY                                                         01S0587 02194000
*     TSB BASED(RWORKV);                                        01S0587 02195000
*                                                               01S0587 02196000
*   /*****************************************************************/ 02197000
*   /*                                                               */ 02198000
*   /* EACH TSB ON THE TSO/VTAM TSB CHAIN IS EXAMINED FOR ASID TPUT  */ 02199000
*   /* FROM THE TERMINATING ADDRESS SPACE. WHEN THE ADDRESS OF THE   */ 02200000
*   /* NEXT (OR FIRST) TSB IS 0, THE SEARCH IS ENDED.                */ 02201000
*   /*                                                               */ 02202000
*   /*****************************************************************/ 02203000
*                                                               01S0588 02204000
*   DO WHILE(RWORKV^=0);            /* START **LOOP THRU TSBS**      */ 02205000
         B     @DE00588                                         01S0588 02206000
@DL00588 DS    0H                                               01S0589 02207000
*     IF TSBXCSAP^=0&               /* IS THERE A CROSS-MEM TPUT     */ 02208000
*         TSBWTJID=RMPLASID THEN    /* FROM TERMINATING A.S.         */ 02209000
*                                                               01S0589 02210000
         L     @07,TSBEXTNT(,RWORKV)                            01S0589 02211000
         L     @07,TSBXCSAP(,@07)                               01S0589 02212000
         LTR   @07,@07                                          01S0589 02213000
         BZ    @RF00589                                         01S0589 02214000
         LH    @15,RMPLASID(,RRMPL)                             01S0589 02215000
         N     @15,@CF01724                                     01S0589 02216000
         CH    @15,TSBWTJID(,RWORKV)                            01S0589 02217000
         BNE   @RF00589                                         01S0589 02218000
*       /*************************************************************/ 02219000
*       /*                                                           */ 02220000
*       /* WHEN A TSB IS FOUND WHICH INDICATES AN ASID TPUT FROM THE */ 02221000
*       /* TERMINATING ADDRESS SPACE, THE TVCS INDICATORS ARE PICKED */ 02222000
*       /* UP FOR EXAMINATION. A COMPARE AND SWAP LOOP IS SET UP TO  */ 02223000
*       /* DETERMINE IF THE TARGET HAS RELINQUISHED CONTROL, AND IF  */ 02224000
*       /* NOT, TO SET THE SOURCE AS RELINQUISHED CONTROL.           */ 02225000
*       /*                                                           */ 02226000
*       /*************************************************************/ 02227000
*                                                               01S0590 02228000
*       DO;                         /* START **ASID TPUT FOUND**     */ 02229000
*         RFY                                                   01S0591 02230000
*          (RWORKW,                                             01S0591 02231000
*           RWORKX) RSTD;                                       01S0591 02232000
*         RWORKW=TVCSINDS;          /* GET TVCS INDICATORS           */ 02233000
         L     RWORKW,TVCSINDS(,@07)                            01S0592 02234000
*CSLOOP5:                                                       01S0593 02235000
*         WRKINDS=RWORKW;           /* RWORKW IS SET WHEN CS FAILS   */ 02236000
CSLOOP5  ST    RWORKW,WRKINDS                                   01S0593 02237000
*         IF WRKTGRC='1'B THEN      /* IF TARGET GONE - FREE SRB        02238000
*                                      AND TVCS                      */ 02239000
*                                                               01S0594 02240000
         TM    WRKTGRC,B'01000000'                              01S0594 02241000
         BNO   @RF00594                                         01S0594 02242000
*           /*********************************************************/ 02243000
*           /*                                                       */ 02244000
*           /* WHEN THE TARGET HAS RELINQUISHED CONTROL, SPOST IS    */ 02245000
*           /* ISSUED TO ALLOW OUTSTANDING POSTS TO COMPLETE. THE    */ 02246000
*           /* LOCKS HAVE TO BE RELEASED SINCE THERE IS NOT A BRANCH */ 02247000
*           /* ENTRY TO SPOST. FOLLOWING THE SPOST, THE TVCS AND SRB */ 02248000
*           /* ARE FREED.                                            */ 02249000
*           /*                                                       */ 02250000
*           /*********************************************************/ 02251000
*                                                               01S0595 02252000
*           DO;                                                 01S0595 02253000
*             RFY                                               01S0596 02254000
*               REG1 RSTD;                                      01S0596 02255000
*             GEN CODE REFS(CVTPTR,CVTSPOST,CVTMAP,PSALITA,FLC,RSAVE)   02256000
*                 SETS(REG0,REG1,REG14,REG15);                  01S0597 02257000
*                                   /*                       @ZM21005*/ 02258000
         SETLOCK RELEASE,TYPE=CMS,REGS=USE,RELATED=(SPOST)   /*         02259000
*                                                            @ZM21005*/ 02260000
         SETLOCK RELEASE,TYPE=LOCAL,REGS=USE,RELATED=(SPOST) /*         02261000
*                                                            @ZM21005*/ 02262000
         SPOST                                                          02263000
         SETLOCK OBTAIN,TYPE=LOCAL,MODE=UNCOND,REGS=USE,               *02264000
               RELATED=(SPOST)      /*                       @ZM21005*/ 02265000
         SETLOCK OBTAIN,TYPE=CMS,MODE=UNCOND,REGS=USE,RELATED=(SPOST)   02266000
*                                   /*                       @ZM21005*/ 02267000
*             TSBWTJID=0;           /* CLEAR TSBWTJID                */ 02268000
         SLR   @07,@07                                          01S0598 02269000
         STH   @07,TSBWTJID(,RWORKV)                            01S0598 02270000
*             REG1=TVCSSRBA;        /* GET SRB ADDRESS               */ 02271000
         L     @07,TSBEXTNT(,RWORKV)                            01S0599 02272000
         L     @07,TSBXCSAP(,@07)                               01S0599 02273000
         L     REG1,TVCSSRBA-1(,@07)                            01S0599 02274000
         LA    REG1,0(,REG1)                                    01S0599 02275000
*             CALL FREESRB;         /* FREE SRB                      */ 02276000
         BAL   @14,FREESRB                                      01S0600 02277000
*             REG1=RWORKV;          /* GET ADDRESS OF THIS TSB       */ 02278000
         LR    REG1,RWORKV                                      01S0601 02279000
*             CALL FREETVCS;        /* FREE TVCS                     */ 02280000
         BAL   @14,FREETVCS                                     01S0602 02281000
*             RFY                                               01S0603 02282000
*               REG1 UNRSTD;                                    01S0603 02283000
*           END;                                                01S0604 02284000
*         ELSE                      /* TARGET STILL THERE            */ 02285000
*                                                               01S0605 02286000
*           /*********************************************************/ 02287000
*           /*                                                       */ 02288000
*           /* SET THE SOURCE RELINQUISHES CONTROL BIT IN THE TVCS   */ 02289000
*           /* INDICATORS AND PERFORM THE COMPARE AND SWAP TO STORE  */ 02290000
*           /* THE INDICATORS BACK IN THE TVCS.                      */ 02291000
*           /*                                                       */ 02292000
*           /*********************************************************/ 02293000
*                                                               01S0605 02294000
*           DO;                                                 01S0605 02295000
         B     @RC00594                                         01S0605 02296000
@RF00594 DS    0H                                               01S0606 02297000
*             WRKSRCRC='1'B;        /* SET SOURCE RELINQUISHES CNTL  */ 02298000
         OI    WRKSRCRC,B'10000000'                             01S0606 02299000
*             RWORKX=WRKINDS;       /* SET UPDATE REGISTER           */ 02300000
         L     RWORKX,WRKINDS                                   01S0607 02301000
*             CS(RWORKW,RWORKX,TVCSINDS);                       01S0608 02302000
         L     @07,TSBEXTNT(,RWORKV)                            01S0608 02303000
         L     @07,TSBXCSAP(,@07)                               01S0608 02304000
         CS    RWORKW,@06,TVCSINDS(@07)                         01S0608 02305000
*             BC(NE,CSLOOP5);       /* REPEAT IF CS FAILED           */ 02306000
         BC    7,CSLOOP5                                        01S0609 02307000
*           END;                                                01S0610 02308000
*         RFY                                                   01S0611 02309000
*          (RWORKW,                                             01S0611 02310000
*           RWORKX) UNRSTD;                                     01S0611 02311000
@RC00594 DS    0H                                               01S0612 02312000
*       END;                        /* END OF **ASID TPUT FOUND**    */ 02313000
*     ELSE                                                      01S0613 02314000
*       ;                           /* TPUT NOT FOUND IN THIS TSB    */ 02315000
@RF00589 DS    0H                                               01S0614 02316000
*     RWORKV=TSBXFWD;               /* POINT TO NEXT TSB             */ 02317000
         L     @07,TSBEXTNT(,RWORKV)                            01S0614 02318000
         L     @07,TSBXFWD(,@07)                                01S0614 02319000
         LR    RWORKV,@07                                       01S0614 02320000
*   END;                            /* END OF ** LOOP THRU TSBS**    */ 02321000
@DE00588 LTR   RWORKV,RWORKV                                    01S0615 02322000
         BNZ   @DL00588                                         01S0615 02323000
*   RFY                                                         01S0616 02324000
*     TSB BASED(TSBPTR);                                        01S0616 02325000
*   RFY                                                         01S0617 02326000
*     RWORKV UNRSTD;                                            01S0617 02327000
*                                                               01S0617 02328000
*   /*****************************************************************/ 02329000
*   /*                                                               */ 02330000
*   /* RESTORE RETURN ADDRESS AND RETURN TO CALLER                   */ 02331000
*   /*                                                               */ 02332000
*   /*****************************************************************/ 02333000
*                                                               01S0618 02334000
*   RFY                                                         01S0618 02335000
*     RLINK RSTD;                                               01S0618 02336000
*   RLINK=SAVE14A;                  /* RESTORE RETURN ADDRESS        */ 02337000
         L     RLINK,SAVE14A                                    01S0619 02338000
*   RFY                                                         01S0620 02339000
*     RLINK UNRSTD;                                             01S0620 02340000
*   RETURN;                                                     01S0621 02341000
@EL00012 DS    0H                                               01S0621 02342000
@EF00012 DS    0H                                               01S0621 02343000
@ER00012 BR    @14                                              01S0621 02344000
*   END SRCHVTAM;                                               01S0622 02345000
*                                                               01S0622 02346000
@PB00012 DS    0H                                               01S0622 02347000
*   /*****************************************************************/ 02348000
*   /*                                                               */ 02349000
*   /* THE TIOCRPT DOES NOT HAVE A PLS VERSION. THE MACRO IS INVOKED */ 02350000
*   /* WITH A GEN STATEMENT.                                         */ 02351000
*   /*                                                               */ 02352000
*   /*****************************************************************/ 02353000
*                                                               01S0623 02354000
*   GEN(IKJTIOCP LIST=YES)                                      01S0623 02355000
*   DEFS(TIOCNTSB,TIOCSAVE,TIOCTSB,TIOCTSBS,TIOCRPT);           01S0623 02356000
         IKJTIOCP LIST=YES                                              02357000
*   END IKTAY8                                                  01S0624 02358000
*/* THE FOLLOWING INCLUDE STATEMENTS WERE FOUND IN THIS PROGRAM.      * 02359000
*/*%INCLUDE SYSUT5  (PROLOG  )                                        * 02360000
*/*%INCLUDE SYSUT5  (IKTAY8  )                                        * 02361000
*/*%INCLUDE SYSLIB  (IHAPSA  )                                        * 02362000
*/*%INCLUDE SYSLIB  (CVT     )                                        * 02363000
*/*%INCLUDE SYSLIB  (IHAWSAVT)                                        * 02364000
*/*%INCLUDE SYSLIB  (IHASCVT )                                        * 02365000
*/*%INCLUDE SYSLIB  (IKTTCAST)                                        * 02366000
*/*%INCLUDE SYSLIB  (IKJTSB  )                                        * 02367000
*/*%INCLUDE SYSLIB  (IKTTSBX )                                        * 02368000
*/*%INCLUDE SYSLIB  (IKTTVCS )                                        * 02369000
*/*%INCLUDE SYSLIB  (IHARMPL )                                        * 02370000
*/*%INCLUDE SYSLIB  (IHAASCB )                                        * 02371000
*/*%INCLUDE SYSLIB  (IHASRB  )                                        * 02372000
*/*%INCLUDE SYSLIB  (TTCXD   )                                        * 02373000
*/*%INCLUDE SYSUT5  (EPTLINK )                                        * 02374000
*/*%INCLUDE SYSUT5  (EPTLINK )                                        * 02375000
*/*%INCLUDE SYSUT5  (EPTLINK )                                        * 02376000
*/*%INCLUDE SYSUT5  (XITLINK )                                        * 02377000
*/*%INCLUDE SYSUT5  (XITLINK )                                        * 02378000
*;                                                              01S0624 02379000
@DATA    DS    0H                                                       02380000
@DATD    DSECT                                                          02381000
         DS    0F                                                       02382000
@TF00001 DS    F                                                        02383000
IKTAY8   CSECT                                                          02384000
         DS    0F                                                       02385000
@CF00101 DC    F'1'                                                     02386000
@CF01639 DC    XL4'80000000'                                            02387000
@CF01724 DC    XL4'0000FFFF'                                            02388000
@CF01697 DC    XL4'0008'                                                02389000
@DATD    DSECT                                                          02390000
         DS    0D                                                       02391000
SAVE14A  DS    A                                                        02392000
SAVE14B  DS    A                                                        02393000
SAVE04A  DS    A                                                        02394000
TPQBASE  DS    A                                                        02395000
TCASTPTR DS    A                                                        02396000
         DS    CL4                                                      02397000
PURGPARM DS    CL8                                                      02398000
         ORG   PURGPARM                                                 02399000
@NM00001 DS    FL2                                                      02400000
PURGASID DS    CL2                                                      02401000
PURGTCB  DS    AL4                                                      02402000
         ORG   PURGPARM+8                                               02403000
WRKINDS  DS    CL4                                                      02404000
         ORG   WRKINDS                                                  02405000
WRKSRCRC DS    BL1                                                      02406000
WRKTGRC  EQU   WRKINDS+0                                                02407000
@NM00002 EQU   WRKINDS+0                                                02408000
         ORG   WRKINDS+4                                                02409000
AY8REGS  DS    CL32                                                     02410000
         ORG   AY8REGS                                                  02411000
AY8REG7  DS    FL4                                                      02412000
AY8REG8  DS    FL4                                                      02413000
AY8REG9  DS    FL4                                                      02414000
AY8REG10 DS    FL4                                                      02415000
AY8REG11 DS    FL4                                                      02416000
AY8REG12 DS    FL4                                                      02417000
AY8REG13 DS    FL4                                                      02418000
AY8REG14 DS    FL4                                                      02419000
         ORG   AY8REGS+32                                               02420000
SAVEREGS DS    CL72                                                     02421000
IKTAY8   CSECT                                                          02422000
         DS    0F                                                       02423000
@SIZDATD DC    AL1(0)                                                   02424000
         DC    AL3(@ENDDATD-@DATD)                                      02425000
         DS    0D                                                       02426000
TPSTMSK1 DC    XL4'00000400'                                            02427000
TPSTMSK2 DC    XL4'FFFFFFFB'                                            02428000
PATCH    DC    40F'0'                                                   02429000
@DATD    DSECT                                                          02430000
PURGEDQL PURGEDQ MF=L                                                   02431000
@DATD    DSECT                                                          02432000
         ORG   *+1-(*-@DATD)/(*-@DATD) INSURE DSECT DATA                02433000
@ENDDATD EQU   *                                                        02434000
IKTAY8   CSECT                                                          02435000
@00      EQU   00                      EQUATES FOR REGISTERS 0-15       02436000
@01      EQU   01                                                       02437000
@02      EQU   02                                                       02438000
@03      EQU   03                                                       02439000
@04      EQU   04                                                       02440000
@05      EQU   05                                                       02441000
@06      EQU   06                                                       02442000
@07      EQU   07                                                       02443000
@08      EQU   08                                                       02444000
@09      EQU   09                                                       02445000
@10      EQU   10                                                       02446000
@11      EQU   11                                                       02447000
@12      EQU   12                                                       02448000
@13      EQU   13                                                       02449000
@14      EQU   14                                                       02450000
@15      EQU   15                                                       02451000
I        EQU   @07                                                      02452000
RWORKU   EQU   @03                                                      02453000
RWORKV   EQU   @04                                                      02454000
RWORKW   EQU   @05                                                      02455000
RWORKX   EQU   @06                                                      02456000
TSBPTR   EQU   @08                                                      02457000
RWORKY   EQU   @09                                                      02458000
RDATA    EQU   @10                                                      02459000
RRMPL    EQU   @11                                                      02460000
RBASE    EQU   @12                                                      02461000
RSAVE    EQU   @13                                                      02462000
RLINK    EQU   @14                                                      02463000
REG0     EQU   @00                                                      02464000
REG1     EQU   @01                                                      02465000
REG2     EQU   @02                                                      02466000
REG3     EQU   @03                                                      02467000
REG4     EQU   @04                                                      02468000
REG7     EQU   @07                                                      02469000
REG8     EQU   @08                                                      02470000
REG9     EQU   @09                                                      02471000
REG10    EQU   @10                                                      02472000
REG11    EQU   @11                                                      02473000
REG12    EQU   @12                                                      02474000
REG13    EQU   @13                                                      02475000
REG14    EQU   @14                                                      02476000
REG15    EQU   @15                                                      02477000
RCODE    EQU   @15                                                      02478000
REG5     EQU   @05                                                      02479000
REG6     EQU   @06                                                      02480000
PSA      EQU   0                                                        02481000
FLCRNPSW EQU   PSA                                                      02482000
FLCROPSW EQU   PSA+8                                                    02483000
FLCICCW2 EQU   PSA+16                                                   02484000
FLCCVT   EQU   FLCICCW2                                                 02485000
PSAEEPSW EQU   PSA+132                                                  02486000
PSAESPSW EQU   PSA+136                                                  02487000
FLCSVILC EQU   PSAESPSW+1                                               02488000
PSAEPPSW EQU   PSA+140                                                  02489000
FLCPIILC EQU   PSAEPPSW+1                                               02490000
FLCPICOD EQU   PSAEPPSW+2                                               02491000
PSAPICOD EQU   FLCPICOD+1                                               02492000
FLCTEA   EQU   PSAEPPSW+4                                               02493000
FLCPER   EQU   PSA+152                                                  02494000
FLCMCLA  EQU   PSA+168                                                  02495000
FLCIOEL  EQU   FLCMCLA+4                                                02496000
FLCIOA   EQU   FLCMCLA+16                                               02497000
FLCFSA   EQU   FLCMCLA+80                                               02498000
PSATOLD  EQU   PSA+540                                                  02499000
PSAAOLD  EQU   PSA+548                                                  02500000
PSASUPER EQU   PSA+552                                                  02501000
PSASUP1  EQU   PSASUPER                                                 02502000
PSASUP2  EQU   PSASUPER+1                                               02503000
PSASUP3  EQU   PSASUPER+2                                               02504000
PSASUP4  EQU   PSASUPER+3                                               02505000
PSACLHT  EQU   PSA+640                                                  02506000
PSALKSA  EQU   PSA+696                                                  02507000
PSAHLHI  EQU   PSA+760                                                  02508000
PSALITA  EQU   PSA+764                                                  02509000
PSADSSFL EQU   PSA+836                                                  02510000
PSADSSF1 EQU   PSADSSFL                                                 02511000
PSADSSF3 EQU   PSADSSFL+2                                               02512000
PSADSSF4 EQU   PSADSSFL+3                                               02513000
PSARSVT  EQU   PSA+896                                                  02514000
IEDAYTPQ EQU   0                                                        02515000
STATUS   EQU   0                                                        02516000
WESTD    EQU   0                                                        02517000
WECODE1  EQU   WESTD                                                    02518000
WECODEIT EQU   WECODE1                                                  02519000
WECODEIF EQU   WECODE1+1                                                02520000
WECODE2  EQU   WESTD+2                                                  02521000
WENEXT   EQU   WESTD+4                                                  02522000
WELEN    EQU   WESTD+10                                                 02523000
WEASCB   EQU   WESTD+12                                                 02524000
WEECB    EQU   WESTD+16                                                 02525000
WERPL    EQU   WESTD+20                                                 02526000
LOGBUF   EQU   0                                                        02527000
LBUFLEN  EQU   LOGBUF                                                   02528000
TTLIST   EQU   0                                                        02529000
TTLEN    EQU   TTLIST                                                   02530000
SRBPTR   EQU   0                                                        02531000
CVTMAP   EQU   0                                                        02532000
CVTDAR   EQU   CVTMAP+72                                                02533000
CVTFLGS1 EQU   CVTDAR                                                   02534000
CVTBRET  EQU   CVTMAP+82                                                02535000
CVTDCB   EQU   CVTMAP+116                                               02536000
CVTIERLC EQU   CVTMAP+144                                               02537000
CVT0PT01 EQU   CVTMAP+152                                               02538000
CVTOPTA  EQU   CVTMAP+182                                               02539000
CVTOPTB  EQU   CVTMAP+183                                               02540000
CVTABEND EQU   CVTMAP+200                                               02541000
CVTGTF   EQU   CVTMAP+236                                               02542000
CVTGTFST EQU   CVTGTF                                                   02543000
CVTGTFS  EQU   CVTGTFST                                                 02544000
CVTSTATE EQU   CVTGTFST                                                 02545000
CVTTMODE EQU   CVTGTFST                                                 02546000
CVTFORM  EQU   CVTGTFST                                                 02547000
CVTAQAVT EQU   CVTMAP+240                                               02548000
CVTTCMFG EQU   CVTAQAVT                                                 02549000
CVTTCRDY EQU   CVTTCMFG                                                 02550000
CVTVOLM2 EQU   CVTMAP+244                                               02551000
CVTTATA  EQU   CVTVOLM2                                                 02552000
CVTTSKS  EQU   CVTTATA                                                  02553000
CVTVOLF2 EQU   CVTTSKS                                                  02554000
CVTTAT   EQU   CVTTATA+1                                                02555000
CVTATER  EQU   CVTMAP+248                                               02556000
CVTEXT1  EQU   CVTMAP+252                                               02557000
CVTPURG  EQU   CVTMAP+260                                               02558000
CVTQMSG  EQU   CVTMAP+268                                               02559000
CVTDMSR  EQU   CVTMAP+272                                               02560000
CVTRSV37 EQU   CVTDMSR                                                  02561000
CVTDMSRF EQU   CVTRSV37                                                 02562000
CVTERPV  EQU   CVTMAP+316                                               02563000
CVTINTLA EQU   CVTMAP+320                                               02564000
CVTAPF   EQU   CVTMAP+324                                               02565000
CVTEXT2  EQU   CVTMAP+328                                               02566000
CVTHJES  EQU   CVTMAP+332                                               02567000
CVTPGSIA EQU   CVTMAP+348                                               02568000
CVTA1F1  EQU   CVTMAP+356                                               02569000
CVTSYSK  EQU   CVTMAP+357                                               02570000
CVTVOLM1 EQU   CVTMAP+380                                               02571000
CVTVOLF1 EQU   CVTVOLM1                                                 02572000
CVTXTNT1 EQU   0                                                        02573000
CVTXTNT2 EQU   0                                                        02574000
CVTDSSV  EQU   CVTXTNT2                                                 02575000
CVTFLGBT EQU   CVTXTNT2+5                                               02576000
CVTQID   EQU   CVTXTNT2+24                                              02577000
CVTRV400 EQU   CVTXTNT2+52                                              02578000
CVTRV409 EQU   CVTXTNT2+53                                              02579000
CVTATCVT EQU   CVTXTNT2+64                                              02580000
CVTRV429 EQU   CVTXTNT2+84                                              02581000
CVTRV438 EQU   CVTXTNT2+85                                              02582000
CVTRV457 EQU   CVTXTNT2+112                                             02583000
CVTRV466 EQU   CVTXTNT2+113                                             02584000
CVTFIX   EQU   0                                                        02585000
CVTRELNO EQU   CVTFIX+252                                               02586000
WSAG     EQU   0                                                        02587000
SCVTSECT EQU   0                                                        02588000
SCVTSTAT EQU   SCVTSECT+148                                             02589000
TCAST    EQU   0                                                        02590000
TCASUSER EQU   TCAST+4                                                  02591000
TCASUSEC EQU   TCASUSER                                                 02592000
TCASXECB EQU   TCAST+40                                                 02593000
TCASTTL  EQU   TCAST+64                                                 02594000
TCASTSB  EQU   TCAST+68                                                 02595000
TCASFLG1 EQU   TCAST+88                                                 02596000
TCASABND EQU   TCASFLG1                                                 02597000
TCASNACT EQU   TCASFLG1                                                 02598000
TCASASCB EQU   TCAST+92                                                 02599000
TCASTTQH EQU   TCAST+104                                                02600000
TSB      EQU   0                                                        02601000
TSBASCBA EQU   TSB                                                      02602000
TSBSTAT  EQU   TSBASCBA                                                 02603000
TSBINUSE EQU   TSBSTAT                                                  02604000
TSBNOBUF EQU   TSBSTAT                                                  02605000
TSBDISC  EQU   TSBSTAT                                                  02606000
TSBFLG1  EQU   TSB+4                                                    02607000
TSBOWIP  EQU   TSBFLG1                                                  02608000
TSBWOWIP EQU   TSBFLG1                                                  02609000
TSBTJOW  EQU   TSBFLG1                                                  02610000
TSBTJIP  EQU   TSBFLG1                                                  02611000
TSBTJBF  EQU   TSBFLG1                                                  02612000
TSBWTCB  EQU   TSB+5                                                    02613000
TSBFLG2  EQU   TSB+16                                                   02614000
TSBFLG3  EQU   TSB+24                                                   02615000
TSBFLG5  EQU   TSB+25                                                   02616000
TSBTERMC EQU   TSB+26                                                   02617000
TSBTERM1 EQU   TSBTERMC                                                 02618000
TSBTERM2 EQU   TSBTERMC+1                                               02619000
TSBECB   EQU   TSB+28                                                   02620000
TSBWTJID EQU   TSB+32                                                   02621000
TSBSTCC  EQU   TSB+34                                                   02622000
TSBFLG4  EQU   TSB+41                                                   02623000
TSBOCAB  EQU   TSBFLG4                                                  02624000
TSBOWAIT EQU   TSBFLG4                                                  02625000
TSBHUNG  EQU   TSBFLG4                                                  02626000
TSBCANC  EQU   TSBFLG4                                                  02627000
TSBRCB   EQU   TSB+64                                                   02628000
TSBLINKA EQU   TSBRCB+4                                                 02629000
TSBTPOST EQU   TSB+72                                                   02630000
TSBTPFLG EQU   TSBTPOST                                                 02631000
TSBF2M   EQU   TSBTPOST+4                                               02632000
TSBMINL  EQU   TSB+84                                                   02633000
TSBEXTNT EQU   TSB+96                                                   02634000
TSBX     EQU   0                                                        02635000
TSBXFWD  EQU   TSBX                                                     02636000
TSBXBCK  EQU   TSBX+4                                                   02637000
TSBXFLG1 EQU   TSBX+32                                                  02638000
TSBXACTV EQU   TSBXFLG1                                                 02639000
TSBXTIM  EQU   TSBX+40                                                  02640000
TSBXTOM  EQU   TSBX+44                                                  02641000
TSBXSRBI EQU   TSBX+52                                                  02642000
TSBXSRB  EQU   TSBX+56                                                  02643000
TSBXCSAP EQU   TSBX+60                                                  02644000
TSBXLBUF EQU   TSBX+64                                                  02645000
TSBXTERM EQU   TSBX+72                                                  02646000
TSBXRPL  EQU   TSBX+76                                                  02647000
TVCS     EQU   0                                                        02648000
TVCSECB  EQU   TVCS+96                                                  02649000
TVCSGMSZ EQU   TVCS+102                                                 02650000
TVCSOPTN EQU   TVCS+104                                                 02651000
TVCSSRBA EQU   TVCS+105                                                 02652000
TVCSASCB EQU   TVCS+108                                                 02653000
TVCSINDS EQU   TVCS+112                                                 02654000
RMPL     EQU   0                                                        02655000
RMPLFLG1 EQU   RMPL                                                     02656000
RMPLASID EQU   RMPL+2                                                   02657000
ASCB     EQU   0                                                        02658000
ASCBSUPC EQU   ASCB+16                                                  02659000
ASCBASID EQU   ASCB+36                                                  02660000
ASCBTSB  EQU   ASCB+60                                                  02661000
ASCBFW1  EQU   ASCB+100                                                 02662000
ASCBRCTF EQU   ASCBFW1+2                                                02663000
ASCBFLG1 EQU   ASCBFW1+3                                                02664000
ASCBDSP1 EQU   ASCB+114                                                 02665000
ASCBFLG2 EQU   ASCB+115                                                 02666000
ASCBLKGP EQU   ASCB+128                                                 02667000
ASCBSRQ  EQU   ASCB+180                                                 02668000
ASCBSRQ1 EQU   ASCBSRQ                                                  02669000
ASCBSRQ2 EQU   ASCBSRQ+1                                                02670000
ASCBSRQ3 EQU   ASCBSRQ+2                                                02671000
ASCBSRQ4 EQU   ASCBSRQ+3                                                02672000
SRBSECT  EQU   0                                                        02673000
SRBFLC   EQU   SRBSECT+12                                               02674000
SRBPASID EQU   SRBFLC+2                                                 02675000
SRBPTCB  EQU   SRBFLC+4                                                 02676000
SRBRMTR  EQU   SRBSECT+24                                               02677000
IEDQTCXD EQU   0                                                        02678000
TCXATTEN EQU   IEDQTCXD+4                                               02679000
TCXFLAG1 EQU   IEDQTCXD+34                                              02680000
TCXRPT   EQU   IEDQTCXD+36                                              02681000
TCXBUFA  EQU   IEDQTCXD+80                                              02682000
TCXDSAVE EQU   IEDQTCXD+104                                             02683000
WRKUSER  EQU   WRKINDS                                                  02684000
WRKUSEC  EQU   WRKUSER                                                  02685000
CVTPTR   EQU   FLCCVT                                                   02686000
WKTSECB1 EQU   TSBECB                                                   02687000
WKTSBF2M EQU   TSBF2M                                                   02688000
FLC      EQU   PSA                                                      02689000
PSARSVTE EQU   PSARSVT                                                  02690000
CVTS01   EQU   CVTPGSIA                                                 02691000
CVTLPDIA EQU   CVTS01+12                                                02692000
CVTDIRST EQU   CVTLPDIA                                                 02693000
CVTSLIDA EQU   CVTS01+24                                                02694000
CVTCTLFG EQU   CVTS01+50                                                02695000
CVTCRMN  EQU   CVTS01+156                                               02696000
CVTSPSA  EQU   CVTS01+336                                               02697000
CVTSPOST EQU   CVTS01+364                                               02698000
CVTRV210 EQU   CVTS01+424                                               02699000
CVTRV219 EQU   CVTS01+425                                               02700000
CVTRV228 EQU   CVTS01+426                                               02701000
CVTRV237 EQU   CVTS01+427                                               02702000
CVTMFRTR EQU   CVTS01+452                                               02703000
CVTRV262 EQU   CVTS01+468                                               02704000
CVTRV271 EQU   CVTS01+469                                               02705000
CVTRV280 EQU   CVTS01+470                                               02706000
CVTRV289 EQU   CVTS01+471                                               02707000
CVTGSDA  EQU   CVTS01+600                                               02708000
CVTTCASP EQU   CVTS01+664                                               02709000
SRB      EQU   SRBSECT                                                  02710000
         AGO   .@UNREFD                START UNREFERENCED COMPONENTS    02711000
CVTRV628 EQU   CVTS01+728                                               02712000
CVTRV627 EQU   CVTS01+724                                               02713000
CVTRV626 EQU   CVTS01+720                                               02714000
CVTRV625 EQU   CVTS01+716                                               02715000
CVTRV624 EQU   CVTS01+712                                               02716000
CVTRV623 EQU   CVTS01+708                                               02717000
CVTRV622 EQU   CVTS01+704                                               02718000
CVTRV621 EQU   CVTS01+700                                               02719000
CVTIHASU EQU   CVTS01+696                                               02720000
CVTSUSP  EQU   CVTS01+692                                               02721000
CVTT6SVC EQU   CVTS01+688                                               02722000
CVTCDAL  EQU   CVTS01+684                                               02723000
CVTTCTL  EQU   CVTS01+680                                               02724000
CVTRSUME EQU   CVTS01+676                                               02725000
CVTJTERM EQU   CVTS01+672                                               02726000
CVTASMRM EQU   CVTS01+668                                               02727000
CVT0PT03 EQU   CVTS01+660                                               02728000
CVT0PT0E EQU   CVTS01+656                                               02729000
CVTRV609 EQU   CVTS01+652                                               02730000
CVTCGK   EQU   CVTS01+648                                               02731000
CVTRAC   EQU   CVTS01+644                                               02732000
CVTRV606 EQU   CVTS01+640                                               02733000
CVTRV605 EQU   CVTS01+636                                               02734000
CVTRV604 EQU   CVTS01+632                                               02735000
CVTEFF02 EQU   CVTS01+628                                               02736000
CVTCBBR  EQU   CVTS01+624                                               02737000
CVTSSCR  EQU   CVTS01+620                                               02738000
CVTEVENT EQU   CVTS01+616                                               02739000
CVTCRCA  EQU   CVTS01+612                                               02740000
CVTTPIO  EQU   CVTS01+608                                               02741000
CVTADV   EQU   CVTS01+604                                               02742000
CVTGSDAB EQU   CVTGSDA                                                  02743000
CVTQV3   EQU   CVTS01+596                                               02744000
CVTQV2   EQU   CVTS01+592                                               02745000
CVTQV1   EQU   CVTS01+588                                               02746000
CVTRPT   EQU   CVTS01+584                                               02747000
CVTSSRB  EQU   CVTS01+580                                               02748000
CVTCSDRL EQU   CVTS01+576                                               02749000
CVTEXP1  EQU   CVTS01+572                                               02750000
CVTRMPMT EQU   CVTS01+568                                               02751000
CVTRMPTT EQU   CVTS01+564                                               02752000
CVTVPSA  EQU   CVTS01+560                                               02753000
CVTVSTOP EQU   CVTS01+556                                               02754000
CVTGTFR8 EQU   CVTS01+552                                               02755000
CVTQUIT  EQU   CVTS01+548                                               02756000
CVTVACR  EQU   CVTS01+544                                               02757000
CVTWTCB  EQU   CVTS01+540                                               02758000
CVTSTPRS EQU   CVTS01+536                                               02759000
CVT0PT02 EQU   CVTS01+532                                               02760000
CVTDARCM EQU   CVTS01+528                                               02761000
CVTIRECM EQU   CVTS01+524                                               02762000
CVTJRECM EQU   CVTS01+520                                               02763000
CVTVEMS0 EQU   CVTS01+516                                               02764000
CVTSPFRR EQU   CVTS01+512                                               02765000
CVTRLSTG EQU   CVTS01+508                                               02766000
CVT0TC0A EQU   CVTS01+504                                               02767000
CVTGMBR  EQU   CVTS01+500                                               02768000
CVTLFRM  EQU   CVTS01+496                                               02769000
CVTRMBR  EQU   CVTS01+492                                               02770000
CVTVIOP  EQU   CVTS01+488                                               02771000
CVTRV307 EQU   CVTS01+486                                               02772000
CVTRV306 EQU   CVTS01+484                                               02773000
CVTRV305 EQU   CVTS01+482                                               02774000
CVTRV304 EQU   CVTS01+480                                               02775000
CVTRV303 EQU   CVTS01+478                                               02776000
CVTRV302 EQU   CVTS01+476                                               02777000
CVTTRCA  EQU   CVTS01+472                                               02778000
CVTRV297 EQU   CVTRV289                                                 02779000
CVTRV296 EQU   CVTRV289                                                 02780000
CVTRV295 EQU   CVTRV289                                                 02781000
CVTRV294 EQU   CVTRV289                                                 02782000
CVTRV293 EQU   CVTRV289                                                 02783000
CVTRV292 EQU   CVTRV289                                                 02784000
CVTRV291 EQU   CVTRV289                                                 02785000
CVTRV290 EQU   CVTRV289                                                 02786000
CVTRV288 EQU   CVTRV280                                                 02787000
CVTRV287 EQU   CVTRV280                                                 02788000
CVTRV286 EQU   CVTRV280                                                 02789000
CVTRV285 EQU   CVTRV280                                                 02790000
CVTRV284 EQU   CVTRV280                                                 02791000
CVTRV283 EQU   CVTRV280                                                 02792000
CVTRV282 EQU   CVTRV280                                                 02793000
CVTRV281 EQU   CVTRV280                                                 02794000
CVTRV279 EQU   CVTRV271                                                 02795000
CVTRV278 EQU   CVTRV271                                                 02796000
CVTRV277 EQU   CVTRV271                                                 02797000
CVTRV276 EQU   CVTRV271                                                 02798000
CVTRV275 EQU   CVTRV271                                                 02799000
CVTRV274 EQU   CVTRV271                                                 02800000
CVTRV273 EQU   CVTRV271                                                 02801000
CVTRV272 EQU   CVTRV271                                                 02802000
CVTRV270 EQU   CVTRV262                                                 02803000
CVTRV269 EQU   CVTRV262                                                 02804000
CVTRV268 EQU   CVTRV262                                                 02805000
CVTRV267 EQU   CVTRV262                                                 02806000
CVTRV266 EQU   CVTRV262                                                 02807000
CVTRV265 EQU   CVTRV262                                                 02808000
CVTRV264 EQU   CVTRV262                                                 02809000
CVTRV263 EQU   CVTRV262                                                 02810000
CVTVFP   EQU   CVTS01+464                                               02811000
CVTVSI   EQU   CVTS01+460                                               02812000
CVTVPSIB EQU   CVTS01+456                                               02813000
CVTMFACT EQU   CVTMFRTR                                                 02814000
CVTMFCTL EQU   CVTS01+448                                               02815000
CVTPVBP  EQU   CVTS01+444                                               02816000
CVTPWI   EQU   CVTS01+440                                               02817000
CVTRV254 EQU   CVTS01+438                                               02818000
CVTRV253 EQU   CVTS01+436                                               02819000
CVTRV252 EQU   CVTS01+434                                               02820000
CVTRV251 EQU   CVTS01+433                                               02821000
CVTRV250 EQU   CVTS01+432                                               02822000
CVTRV249 EQU   CVTS01+431                                               02823000
CVTRV248 EQU   CVTS01+430                                               02824000
CVTRV247 EQU   CVTS01+429                                               02825000
CVTRV246 EQU   CVTS01+428                                               02826000
CVTRV245 EQU   CVTRV237                                                 02827000
CVTRV244 EQU   CVTRV237                                                 02828000
CVTRV243 EQU   CVTRV237                                                 02829000
CVTRV242 EQU   CVTRV237                                                 02830000
CVTRV241 EQU   CVTRV237                                                 02831000
CVTRV240 EQU   CVTRV237                                                 02832000
CVTRV239 EQU   CVTRV237                                                 02833000
CVTRV238 EQU   CVTRV237                                                 02834000
CVTRV236 EQU   CVTRV228                                                 02835000
CVTRV235 EQU   CVTRV228                                                 02836000
CVTRV234 EQU   CVTRV228                                                 02837000
CVTRV233 EQU   CVTRV228                                                 02838000
CVTRV232 EQU   CVTRV228                                                 02839000
CVTRV231 EQU   CVTRV228                                                 02840000
CVTRV230 EQU   CVTRV228                                                 02841000
CVTRV229 EQU   CVTRV228                                                 02842000
CVTRV227 EQU   CVTRV219                                                 02843000
CVTRV226 EQU   CVTRV219                                                 02844000
CVTRV225 EQU   CVTRV219                                                 02845000
CVTRV224 EQU   CVTRV219                                                 02846000
CVTRV223 EQU   CVTRV219                                                 02847000
CVTRV222 EQU   CVTRV219                                                 02848000
CVTRV221 EQU   CVTRV219                                                 02849000
CVTRV220 EQU   CVTRV219                                                 02850000
CVTRV218 EQU   CVTRV210                                                 02851000
CVTRV217 EQU   CVTRV210                                                 02852000
CVTRV216 EQU   CVTRV210                                                 02853000
CVTRV215 EQU   CVTRV210                                                 02854000
CVTRV214 EQU   CVTRV210                                                 02855000
CVTRV213 EQU   CVTRV210                                                 02856000
CVTRV212 EQU   CVTRV210                                                 02857000
CVTRV211 EQU   CVTRV210                                                 02858000
CVTLCCAT EQU   CVTS01+420                                               02859000
CVTPCCAT EQU   CVTS01+416                                               02860000
CVTIPCRP EQU   CVTS01+412                                               02861000
CVTIPCRI EQU   CVTS01+408                                               02862000
CVTIPCDS EQU   CVTS01+404                                               02863000
CVTAIDVT EQU   CVTS01+400                                               02864000
CVTSSAP  EQU   CVTS01+396                                               02865000
CVTEHCIR EQU   CVTS01+392                                               02866000
CVTEHDEF EQU   CVTS01+388                                               02867000
CVTDAIR  EQU   CVTS01+384                                               02868000
CVTPERFM EQU   CVTS01+380                                               02869000
CVT044R2 EQU   CVTS01+376                                               02870000
CVTFETCH EQU   CVTS01+372                                               02871000
CVTRSTWD EQU   CVTS01+368                                               02872000
CVTIOBP  EQU   CVTS01+360                                               02873000
CVTASMVT EQU   CVTS01+356                                               02874000
CVTRECRQ EQU   CVTS01+352                                               02875000
CVTWSAC  EQU   CVTS01+348                                               02876000
CVTRV149 EQU   CVTS01+344                                               02877000
CVTWSAL  EQU   CVTS01+340                                               02878000
CVTGLMN  EQU   CVTS01+332                                               02879000
CVTVEAC0 EQU   CVTS01+328                                               02880000
CVT062R1 EQU   CVTS01+324                                               02881000
CVTRPOST EQU   CVTS01+320                                               02882000
CVTDQIQE EQU   CVTS01+316                                               02883000
CVTCSD   EQU   CVTS01+312                                               02884000
CVTLKRMA EQU   CVTS01+308                                               02885000
CVTRSPIE EQU   CVTS01+304                                               02886000
CVTRENQ  EQU   CVTS01+300                                               02887000
CVTLQCB  EQU   CVTS01+296                                               02888000
CVTFQCB  EQU   CVTS01+292                                               02889000
CVTQCS01 EQU   CVTS01+288                                               02890000
CVTAPFT  EQU   CVTS01+284                                               02891000
CVTPARRL EQU   CVTS01+280                                               02892000
CVTVWAIT EQU   CVTS01+276                                               02893000
CVTGSPL  EQU   CVTS01+272                                               02894000
CVTLSMQ  EQU   CVTS01+268                                               02895000
CVTGSMQ  EQU   CVTS01+264                                               02896000
CVTEXPRO EQU   CVTS01+260                                               02897000
CVTOPCTP EQU   CVTS01+256                                               02898000
CVTSIC   EQU   CVTS01+252                                               02899000
CVTTPIOS EQU   CVTS01+248                                               02900000
CVTRTMS  EQU   CVTS01+244                                               02901000
CVTSDBF  EQU   CVTS01+240                                               02902000
CVTSCBP  EQU   CVTS01+236                                               02903000
CVTSDMP  EQU   CVTS01+232                                               02904000
CVTSV60  EQU   CVTS01+228                                               02905000
CVTRTMCT EQU   CVTS01+224                                               02906000
CVTASCBL EQU   CVTS01+220                                               02907000
CVTASCBH EQU   CVTS01+216                                               02908000
CVTGDA   EQU   CVTS01+212                                               02909000
CVTASVT  EQU   CVTS01+208                                               02910000
CVTVVMDI EQU   CVTS01+204                                               02911000
CVTAQTOP EQU   CVTS01+200                                               02912000
CVTIOSCS EQU   CVTS01+196                                               02913000
CVTSDRM  EQU   CVTS01+192                                               02914000
CVTOPTE  EQU   CVTS01+188                                               02915000
CVTSTXU  EQU   CVTS01+184                                               02916000
CVTQUIS  EQU   CVTS01+180                                               02917000
CVTPARS  EQU   CVTS01+176                                               02918000
CVTS1EE  EQU   CVTS01+172                                               02919000
CVTFRAS  EQU   CVTS01+168                                               02920000
CVTQSAS  EQU   CVTS01+164                                               02921000
CVTCRAS  EQU   CVTS01+160                                               02922000
CVTDELCP EQU   CVTS01+152                                               02923000
CVTFRECL EQU   CVTS01+148                                               02924000
CVTGETCL EQU   CVTS01+144                                               02925000
CVTBLDCP EQU   CVTS01+140                                               02926000
CVTAUTHL EQU   CVTS01+136                                               02927000
CVTSCAN  EQU   CVTS01+132                                               02928000
CVTRV144 EQU   CVTS01+130                                               02929000
CVTMAXMP EQU   CVTS01+128                                               02930000
CVTSTCK  EQU   CVTS01+124                                               02931000
CVTRV139 EQU   CVTS01+123                                               02932000
CVTDSSAC EQU   CVTS01+122                                               02933000
CVTRV513 EQU   CVTS01+121                                               02934000
CVTIOSPL EQU   CVTS01+120                                               02935000
CVTPTGT  EQU   CVTS01+116                                               02936000
CVTCSPIE EQU   CVTS01+112                                               02937000
CVTSMFEX EQU   CVTS01+108                                               02938000
CVTOLT0A EQU   CVTS01+104                                               02939000
CVTSRBRT EQU   CVTS01+100                                               02940000
CVTPUTL  EQU   CVTS01+96                                                02941000
CVTASCRL EQU   CVTS01+92                                                02942000
CVTASCRF EQU   CVTS01+88                                                02943000
CVTRV326 EQU   CVTS01+84                                                02944000
CVTRV325 EQU   CVTS01+80                                                02945000
CVTRV324 EQU   CVTS01+76                                                02946000
CVT0VL01 EQU   CVTS01+72                                                02947000
CVTSHRVM EQU   CVTS01+68                                                02948000
CVTRV332 EQU   CVTS01+64                                                02949000
CVTTAS   EQU   CVTS01+60                                                02950000
CVTRSCN  EQU   CVTS01+56                                                02951000
CVTTRAC2 EQU   CVTS01+54                                                02952000
CVTTRACE EQU   CVTS01+52                                                02953000
CVTAPG   EQU   CVTS01+51                                                02954000
CVTSDTRC EQU   CVTCTLFG                                                 02955000
CVTGTRCE EQU   CVTCTLFG                                                 02956000
CVTNOMP  EQU   CVTCTLFG                                                 02957000
CVTRSV79 EQU   CVTCTLFG                                                 02958000
CVTDSTAT EQU   CVTCTLFG                                                 02959000
CVTRSV78 EQU   CVTCTLFG                                                 02960000
CVTRV333 EQU   CVTCTLFG                                                 02961000
CVTRV323 EQU   CVTCTLFG                                                 02962000
CVTSPVLK EQU   CVTS01+49                                                02963000
CVTRSV77 EQU   CVTS01+48                                                02964000
CVTRV331 EQU   CVTS01+44                                                02965000
CVTRV330 EQU   CVTS01+40                                                02966000
CVTRV329 EQU   CVTS01+36                                                02967000
CVTRV328 EQU   CVTS01+32                                                02968000
CVTRV322 EQU   CVTS01+28                                                02969000
CVTSLID  EQU   CVTSLIDA+1                                               02970000
CVTSYLK  EQU   CVTSLIDA                                                 02971000
CVTRV321 EQU   CVTS01+20                                                02972000
CVTRV320 EQU   CVTS01+16                                                02973000
CVTLPDIR EQU   CVTLPDIA+1                                               02974000
CVTRSV69 EQU   CVTDIRST                                                 02975000
CVTRSV68 EQU   CVTDIRST                                                 02976000
CVTRSV67 EQU   CVTDIRST                                                 02977000
CVTRSV66 EQU   CVTDIRST                                                 02978000
CVTRSV65 EQU   CVTDIRST                                                 02979000
CVTRSV64 EQU   CVTDIRST                                                 02980000
CVTRSV63 EQU   CVTDIRST                                                 02981000
CVTDICOM EQU   CVTDIRST                                                 02982000
CVTPVTP  EQU   CVTS01+8                                                 02983000
CVTLPDSR EQU   CVTS01+4                                                 02984000
CVTGETL  EQU   CVTS01                                                   02985000
PSARSAV  EQU   PSARSVTE+60                                              02986000
PSARSTK  EQU   PSARSVTE+56                                              02987000
PSAESAV3 EQU   PSARSVTE+52                                              02988000
PSAESTK3 EQU   PSARSVTE+48                                              02989000
PSAESAV2 EQU   PSARSVTE+44                                              02990000
PSAESTK2 EQU   PSARSVTE+40                                              02991000
PSAESAV1 EQU   PSARSVTE+36                                              02992000
PSAESTK1 EQU   PSARSVTE+32                                              02993000
PSAPSAV  EQU   PSARSVTE+28                                              02994000
PSAPSTK  EQU   PSARSVTE+24                                              02995000
PSAMSAV  EQU   PSARSVTE+20                                              02996000
PSAMSTK  EQU   PSARSVTE+16                                              02997000
PSASSAV  EQU   PSARSVTE+12                                              02998000
PSASSTK  EQU   PSARSVTE+8                                               02999000
PSANSTK  EQU   PSARSVTE+4                                               03000000
PSACSTK  EQU   PSARSVTE                                                 03001000
@NM00003 EQU   WRKUSER+2                                                03002000
TCXEND   EQU   IEDQTCXD+208                                             03003000
TCXUNUS1 EQU   IEDQTCXD+204                                             03004000
TCXESAVE EQU   IEDQTCXD+132                                             03005000
TCXERPPM EQU   IEDQTCXD+128                                             03006000
TCXERPSV EQU   IEDQTCXD+116                                             03007000
TCXSATTN EQU   IEDQTCXD+112                                             03008000
@NM00089 EQU   TCXDSAVE+4                                               03009000
@NM00088 EQU   TCXDSAVE                                                 03010000
TCXPLCB  EQU   IEDQTCXD+100                                             03011000
TCXBITS  EQU   IEDQTCXD+98                                              03012000
TCXSCBSZ EQU   IEDQTCXD+97                                              03013000
TCXBIT1  EQU   IEDQTCXD+96                                              03014000
TCXCOMPT EQU   IEDQTCXD+92                                              03015000
TCXAVAIL EQU   IEDQTCXD+88                                              03016000
TCXBUFL  EQU   IEDQTCXD+84                                              03017000
TCXTOTE  EQU   TCXBUFA                                                  03018000
TCXCKPM  EQU   IEDQTCXD+79                                              03019000
TCXNCKPR EQU   IEDQTCXD+78                                              03020000
TCXSZAIB EQU   IEDQTCXD+76                                              03021000
TCXAIBC  EQU   IEDQTCXD+72                                              03022000
TCXPEBC  EQU   IEDQTCXD+68                                              03023000
TCXPEWAC EQU   IEDQTCXD+64                                              03024000
TCXQRQ   EQU   IEDQTCXD+60                                              03025000
TCXOCQ   EQU   IEDQTCXD+56                                              03026000
TCXPNTQ  EQU   IEDQTCXD+52                                              03027000
TCXPUTQ  EQU   IEDQTCXD+48                                              03028000
TCXGETQ  EQU   IEDQTCXD+44                                              03029000
TCXTSI   EQU   IEDQTCXD+40                                              03030000
TCXCC3TS EQU   IEDQTCXD+35                                              03031000
TCXAPPL  EQU   TCXFLAG1                                                 03032000
TCXRTM   EQU   TCXFLAG1                                                 03033000
TCXMCPCD EQU   TCXFLAG1                                                 03034000
TCXAUTH  EQU   TCXFLAG1                                                 03035000
TCXASID  EQU   IEDQTCXD+32                                              03036000
TCXASCB  EQU   IEDQTCXD+28                                              03037000
TCXREADY EQU   IEDQTCXD+24                                              03038000
TCXPASWD EQU   IEDQTCXD+16                                              03039000
TCXDISP  EQU   IEDQTCXD+12                                              03040000
TCXTCB   EQU   IEDQTCXD+8                                               03041000
TCXATTLN EQU   TCXATTEN                                                 03042000
TCXAVT   EQU   IEDQTCXD                                                 03043000
@NM00087 EQU   SRBSECT+40                                               03044000
@NM00086 EQU   SRBSECT+38                                               03045000
SRBPRIOR EQU   SRBSECT+37                                               03046000
SRBPKF   EQU   SRBSECT+36                                               03047000
SRBSAVE  EQU   SRBSECT+32                                               03048000
SRBPARM  EQU   SRBSECT+28                                               03049000
SRBEP    EQU   SRBSECT+20                                               03050000
SRBCPAFF EQU   SRBFLC                                                   03051000
SRBASCB  EQU   SRBSECT+8                                                03052000
SRBFLNK  EQU   SRBSECT+4                                                03053000
SRBID    EQU   SRBSECT                                                  03054000
ASCBEND  EQU   ASCB+208                                                 03055000
ASCBSRBT EQU   ASCB+200                                                 03056000
ASCBSWTL EQU   ASCB+196                                                 03057000
ASCBRS14 EQU   ASCB+195                                                 03058000
ASCBSMCT EQU   ASCB+194                                                 03059000
ASCBRS12 EQU   ASCB+192                                                 03060000
ASCBPCTT EQU   ASCB+188                                                 03061000
ASCBVGTT EQU   ASCB+184                                                 03062000
ASCBRV43 EQU   ASCBSRQ4                                                 03063000
ASCBRV42 EQU   ASCBSRQ4                                                 03064000
ASCBRV41 EQU   ASCBSRQ4                                                 03065000
ASCBRV40 EQU   ASCBSRQ4                                                 03066000
ASCBRV39 EQU   ASCBSRQ4                                                 03067000
ASCBRV38 EQU   ASCBSRQ4                                                 03068000
ASCBRV37 EQU   ASCBSRQ4                                                 03069000
ASCBRV36 EQU   ASCBSRQ4                                                 03070000
ASCBRV35 EQU   ASCBSRQ3                                                 03071000
ASCBRV34 EQU   ASCBSRQ3                                                 03072000
ASCBRV33 EQU   ASCBSRQ3                                                 03073000
ASCBRV32 EQU   ASCBSRQ3                                                 03074000
ASCBRV31 EQU   ASCBSRQ3                                                 03075000
ASCBRV30 EQU   ASCBSRQ3                                                 03076000
ASCBRV29 EQU   ASCBSRQ3                                                 03077000
ASCBRV28 EQU   ASCBSRQ3                                                 03078000
ASCBRV27 EQU   ASCBSRQ2                                                 03079000
ASCBRV26 EQU   ASCBSRQ2                                                 03080000
ASCBRV25 EQU   ASCBSRQ2                                                 03081000
ASCBRV24 EQU   ASCBSRQ2                                                 03082000
ASCBRV23 EQU   ASCBSRQ2                                                 03083000
ASCBRV22 EQU   ASCBSRQ2                                                 03084000
ASCBRV21 EQU   ASCBSRQ2                                                 03085000
ASCBRV20 EQU   ASCBSRQ2                                                 03086000
ASCBRV19 EQU   ASCBSRQ1                                                 03087000
ASCBRV18 EQU   ASCBSRQ1                                                 03088000
ASCBRV17 EQU   ASCBSRQ1                                                 03089000
ASCBRV16 EQU   ASCBSRQ1                                                 03090000
ASCBRV15 EQU   ASCBSRQ1                                                 03091000
ASCBRV14 EQU   ASCBSRQ1                                                 03092000
ASCBRV13 EQU   ASCBSRQ1                                                 03093000
ASCBSTA  EQU   ASCBSRQ1                                                 03094000
ASCBJBNS EQU   ASCB+176                                                 03095000
ASCBJBNI EQU   ASCB+172                                                 03096000
ASCBMCC  EQU   ASCB+168                                                 03097000
ASCBRTWA EQU   ASCB+164                                                 03098000
ASCBIQEA EQU   ASCB+160                                                 03099000
ASCBXMPQ EQU   ASCB+156                                                 03100000
ASCBRS01 EQU   ASCB+154                                                 03101000
ASCBFMCT EQU   ASCB+152                                                 03102000
ASCBOUXB EQU   ASCB+148                                                 03103000
ASCBOUCB EQU   ASCB+144                                                 03104000
ASCBMECB EQU   ASCB+140                                                 03105000
ASCBQECB EQU   ASCB+136                                                 03106000
ASCBLSQH EQU   ASCBLKGP+4                                               03107000
ASCBLOCK EQU   ASCBLKGP                                                 03108000
ASCBTCBS EQU   ASCB+124                                                 03109000
ASCBNVSC EQU   ASCB+122                                                 03110000
ASCBVSC  EQU   ASCB+120                                                 03111000
ASCBSRBS EQU   ASCB+118                                                 03112000
ASCBSSRB EQU   ASCB+116                                                 03113000
ASCBRV06 EQU   ASCBFLG2                                                 03114000
ASCBRV05 EQU   ASCBFLG2                                                 03115000
ASCBRV04 EQU   ASCBFLG2                                                 03116000
ASCBSNQS EQU   ASCBFLG2                                                 03117000
ASCBS2S  EQU   ASCBFLG2                                                 03118000
ASCBCEXT EQU   ASCBFLG2                                                 03119000
ASCBPXMT EQU   ASCBFLG2                                                 03120000
ASCBXMPT EQU   ASCBFLG2                                                 03121000
ASCBRF07 EQU   ASCBDSP1                                                 03122000
ASCBRF06 EQU   ASCBDSP1                                                 03123000
ASCBRF05 EQU   ASCBDSP1                                                 03124000
ASCBRF04 EQU   ASCBDSP1                                                 03125000
ASCBRF03 EQU   ASCBDSP1                                                 03126000
ASCBRF02 EQU   ASCBDSP1                                                 03127000
ASCBFAIL EQU   ASCBDSP1                                                 03128000
ASCBNOQ  EQU   ASCBDSP1                                                 03129000
ASCBSWCT EQU   ASCB+112                                                 03130000
ASCBASXB EQU   ASCB+108                                                 03131000
ASCBTMCH EQU   ASCB+104                                                 03132000
ASCBNSWP EQU   ASCBFLG1                                                 03133000
ASCBTYP1 EQU   ASCBFLG1                                                 03134000
ASCBSTND EQU   ASCBFLG1                                                 03135000
ASCBABNT EQU   ASCBFLG1                                                 03136000
ASCBTERM EQU   ASCBFLG1                                                 03137000
ASCBS3S  EQU   ASCBFLG1                                                 03138000
ASCBCMSH EQU   ASCBFLG1                                                 03139000
ASCBTOFF EQU   ASCBFLG1                                                 03140000
ASCBRF01 EQU   ASCBRCTF                                                 03141000
ASCBTMLW EQU   ASCBRCTF                                                 03142000
ASCBOUT  EQU   ASCBRCTF                                                 03143000
ASCBWAIT EQU   ASCBRCTF                                                 03144000
ASCBRV08 EQU   ASCBRCTF                                                 03145000
ASCBFQU  EQU   ASCBRCTF                                                 03146000
ASCBFRS  EQU   ASCBRCTF                                                 03147000
ASCBTMNO EQU   ASCBRCTF                                                 03148000
ASCBAFFN EQU   ASCBFW1                                                  03149000
ASCBDUMP EQU   ASCB+96                                                  03150000
ASCBQSVC EQU   ASCB+92                                                  03151000
ASCBUBET EQU   ASCB+88                                                  03152000
ASCBECB  EQU   ASCB+84                                                  03153000
ASCBJSTL EQU   ASCB+80                                                  03154000
ASCBEWST EQU   ASCB+72                                                  03155000
ASCBEJST EQU   ASCB+64                                                  03156000
ASCBCSCB EQU   ASCB+56                                                  03157000
ASCBRSM  EQU   ASCB+52                                                  03158000
ASCBLDA  EQU   ASCB+48                                                  03159000
ASCBSTOR EQU   ASCB+44                                                  03160000
ASCBDP   EQU   ASCB+43                                                  03161000
ASCBRV07 EQU   ASCB+42                                                  03162000
ASCBIOSM EQU   ASCB+40                                                  03163000
ASCBSEQN EQU   ASCB+38                                                  03164000
ASCBCPUS EQU   ASCB+32                                                  03165000
ASCBSPL  EQU   ASCB+28                                                  03166000
ASCBIOSP EQU   ASCB+24                                                  03167000
ASCBSYNC EQU   ASCBSUPC+4                                               03168000
ASCBSVRB EQU   ASCBSUPC                                                 03169000
ASCBCMSF EQU   ASCB+12                                                  03170000
ASCBBWDP EQU   ASCB+8                                                   03171000
ASCBFWDP EQU   ASCB+4                                                   03172000
ASCBASCB EQU   ASCB                                                     03173000
ASCBEGIN EQU   ASCB                                                     03174000
RMPLDCBL EQU   RMPL+20                                                  03175000
RMPLRMWA EQU   RMPL+16                                                  03176000
RMPLRBPA EQU   RMPL+12                                                  03177000
RMPLTCBA EQU   RMPL+8                                                   03178000
RMPLASCB EQU   RMPL+4                                                   03179000
RMPLFLG2 EQU   RMPL+1                                                   03180000
@NM00085 EQU   RMPLFLG1                                                 03181000
RMPLWT1M EQU   RMPLFLG1                                                 03182000
RMPLJST  EQU   RMPLFLG1                                                 03183000
RMPLRCOV EQU   RMPLFLG1                                                 03184000
RMPLIPUF EQU   RMPLFLG1                                                 03185000
RMPLRBPP EQU   RMPLFLG1                                                 03186000
RMPLTERM EQU   RMPLFLG1                                                 03187000
RMPLTYPE EQU   RMPLFLG1                                                 03188000
TVCSDATA EQU   TVCS+116                                                 03189000
@NM00084 EQU   TVCSINDS                                                 03190000
TVCSTGRC EQU   TVCSINDS                                                 03191000
TVCSRCRC EQU   TVCSINDS                                                 03192000
TVCSEDIT EQU   TVCSOPTN                                                 03193000
TVCSBRK  EQU   TVCSOPTN                                                 03194000
TVCSHOLD EQU   TVCSOPTN                                                 03195000
TVCSNOWT EQU   TVCSOPTN                                                 03196000
TVCSPRIO EQU   TVCSOPTN                                                 03197000
@NM00083 EQU   TVCSOPTN                                                 03198000
TVCSPTGT EQU   TVCSOPTN                                                 03199000
TVCSDASZ EQU   TVCS+100                                                 03200000
TVCSCODE EQU   TVCSECB+1                                                03201000
@NM00082 EQU   TVCSECB                                                  03202000
TVCSPOST EQU   TVCSECB                                                  03203000
TVCSWAIT EQU   TVCSECB                                                  03204000
TVCSOPRM EQU   TVCS+76                                                  03205000
TVCSPARM EQU   TVCS+72                                                  03206000
TVCSAVEA EQU   TVCS                                                     03207000
TSBXEND  EQU   TSBX+128                                                 03208000
@NM00081 EQU   TSBX+124                                                 03209000
TSBXDMMO EQU   TSBX+120                                                 03210000
TSBXDMMI EQU   TSBX+116                                                 03211000
TSBXBIND EQU   TSBX+80                                                  03212000
TSBXTMBF EQU   TSBXTERM+2                                               03213000
TSBXSUBT EQU   TSBXTERM+1                                               03214000
TSBXTMTP EQU   TSBXTERM                                                 03215000
TSBXAIND EQU   TSBX+70                                                  03216000
TSBXRSZO EQU   TSBX+69                                                  03217000
TSBXRSZI EQU   TSBX+68                                                  03218000
@NM00080 EQU   TSBX+48                                                  03219000
TSBXDPMO EQU   TSBXTOM                                                  03220000
TSBXDPMI EQU   TSBXTIM                                                  03221000
TSBXTVWA EQU   TSBX+36                                                  03222000
TSBXFLG4 EQU   TSBX+35                                                  03223000
TSBXFLG3 EQU   TSBX+34                                                  03224000
TSBXFLG2 EQU   TSBX+33                                                  03225000
@NM00079 EQU   TSBXFLG1                                                 03226000
TSBXTGTF EQU   TSBXFLG1                                                 03227000
TSBXNOSW EQU   TSBXFLG1                                                 03228000
TSBXWREC EQU   TSBXFLG1                                                 03229000
TSBXLOGF EQU   TSBXFLG1                                                 03230000
TSBXASCI EQU   TSBXFLG1                                                 03231000
TSBXUID  EQU   TSBX+24                                                  03232000
TSBXLMOD EQU   TSBX+16                                                  03233000
TSBXNIB  EQU   TSBX+12                                                  03234000
TSBXECB  EQU   TSBX+8                                                   03235000
TSBEND   EQU   TSB+120                                                  03236000
TSBSF1   EQU   TSB+112                                                  03237000
TSBTRMID EQU   TSB+104                                                  03238000
TSBALTC  EQU   TSB+103                                                  03239000
TSBALTR  EQU   TSB+102                                                  03240000
TSBPRMC  EQU   TSB+101                                                  03241000
TSBPRMR  EQU   TSB+100                                                  03242000
TSBPSWD  EQU   TSB+88                                                   03243000
TSBLECB  EQU   TSBMINL                                                  03244000
TSBLINE  EQU   TSB+82                                                   03245000
TSBSTAX  EQU   TSB+81                                                   03246000
TSBATTNC EQU   TSB+80                                                   03247000
TSBF1V   EQU   TSBTPOST+7                                               03248000
TSBF1M   EQU   TSBTPOST+6                                               03249000
TSBF2V   EQU   TSBTPOST+5                                               03250000
TSBFLAGV EQU   TSBTPOST+3                                               03251000
TSBFLAGM EQU   TSBTPOST+2                                               03252000
@NM00078 EQU   TSBTPOST+1                                               03253000
@NM00077 EQU   TSBTPFLG                                                 03254000
@NM00076 EQU   TSBTPFLG                                                 03255000
@NM00075 EQU   TSBTPFLG                                                 03256000
@NM00074 EQU   TSBTPFLG                                                 03257000
TSBNEWID EQU   TSBTPFLG                                                 03258000
TSBTPAYI EQU   TSBTPFLG                                                 03259000
TSBTPQCB EQU   TSBTPFLG                                                 03260000
TSBPOSTO EQU   TSBTPFLG                                                 03261000
TSBLINKB EQU   TSBLINKA+1                                               03262000
TSBPRI   EQU   TSBLINKA                                                 03263000
TSBRQCB  EQU   TSBRCB                                                   03264000
TSBCTCB  EQU   TSB+60                                                   03265000
TSBERSDS EQU   TSB+56                                                   03266000
TSBAUTOI EQU   TSB+52                                                   03267000
TSBAUTOS EQU   TSB+48                                                   03268000
TSBATNCC EQU   TSB+44                                                   03269000
TSBASRCE EQU   TSB+42                                                   03270000
TSBHLDL  EQU   TSBFLG4                                                  03271000
TSBGETBF EQU   TSBFLG4                                                  03272000
TSBHOLD  EQU   TSBFLG4                                                  03273000
TSBIWAIT EQU   TSBFLG4                                                  03274000
TSBLNNO  EQU   TSB+40                                                   03275000
TSBATNTC EQU   TSB+38                                                   03276000
TSBATNLC EQU   TSB+36                                                   03277000
TSBCHDCC EQU   TSBSTCC+1                                                03278000
TSBLNDCC EQU   TSBSTCC                                                  03279000
TSBC1050 EQU   TSBTERM2                                                 03280000
@NM00073 EQU   TSBTERM2                                                 03281000
@NM00072 EQU   TSBTERM2                                                 03282000
@NM00071 EQU   TSBTERM2                                                 03283000
@NM00070 EQU   TSBTERM2                                                 03284000
TSBCTWX  EQU   TSBTERM2                                                 03285000
@NM00069 EQU   TSBTERM2                                                 03286000
@NM00068 EQU   TSBTERM2                                                 03287000
@NM00067 EQU   TSBTERM1                                                 03288000
@NM00066 EQU   TSBTERM1                                                 03289000
@NM00065 EQU   TSBTERM1                                                 03290000
TSBC2741 EQU   TSBTERM1                                                 03291000
TSBC5041 EQU   TSBTERM1                                                 03292000
TSBCATTN EQU   TSBTERM1                                                 03293000
TSBCBRK  EQU   TSBTERM1                                                 03294000
TSBCIHBN EQU   TSBTERM1                                                 03295000
TSBVTAM  EQU   TSBFLG5                                                  03296000
TSBKEYS  EQU   TSBFLG5                                                  03297000
TSBNEDIT EQU   TSBFLG5                                                  03298000
TSBQRY   EQU   TSBFLG5                                                  03299000
@NM00064 EQU   TSBFLG5                                                  03300000
TSBSPF   EQU   TSBFLG5                                                  03301000
TSBATMP  EQU   TSBFLG5                                                  03302000
TSBNFLOP EQU   TSBFLG3                                                  03303000
TSBNOBRK EQU   TSBFLG3                                                  03304000
TSBTPUT  EQU   TSBFLG3                                                  03305000
TSBAWOIP EQU   TSBFLG3                                                  03306000
TSBNBKSP EQU   TSBFLG3                                                  03307000
TSBSPIT  EQU   TSBFLG3                                                  03308000
TSBTJMSG EQU   TSBFLG3                                                  03309000
TSBATTN  EQU   TSBFLG3                                                  03310000
TSBIBFP  EQU   TSB+21                                                   03311000
TSBNIBF  EQU   TSB+20                                                   03312000
TSBITBFP EQU   TSB+17                                                   03313000
TSBSATN2 EQU   TSBFLG2                                                  03314000
TSBSATN1 EQU   TSBFLG2                                                  03315000
TSBSTAUT EQU   TSBFLG2                                                  03316000
TSBAUTOC EQU   TSBFLG2                                                  03317000
TSBAULST EQU   TSBFLG2                                                  03318000
TSBBRKIN EQU   TSBFLG2                                                  03319000
TSBAUTON EQU   TSBFLG2                                                  03320000
TSBBIPI  EQU   TSBFLG2                                                  03321000
TSBOBFP  EQU   TSB+13                                                   03322000
TSBNOBF  EQU   TSB+12                                                   03323000
TSBOTBFP EQU   TSB+9                                                    03324000
TSBLNSZ  EQU   TSB+8                                                    03325000
TSBIFLSH EQU   TSBFLG1                                                  03326000
TSBOFLSH EQU   TSBFLG1                                                  03327000
TSBANSR  EQU   TSBFLG1                                                  03328000
TSBASCB  EQU   TSBASCBA+1                                               03329000
TSBATNLD EQU   TSBSTAT                                                  03330000
TSB3270  EQU   TSBSTAT                                                  03331000
TSBITOFF EQU   TSBSTAT                                                  03332000
TSBDSPLY EQU   TSBSTAT                                                  03333000
TSBLWAIT EQU   TSBSTAT                                                  03334000
TCASTEND EQU   TCAST+148                                                03335000
TCASTTYO EQU   TCAST+144                                                03336000
TCAS767O EQU   TCAST+140                                                03337000
TCAS767I EQU   TCAST+136                                                03338000
TCASDUMP EQU   TCAST+132                                                03339000
TCASSCHD EQU   TCAST+128                                                03340000
TCASTPND EQU   TCAST+124                                                03341000
TCASOMJR EQU   TCAST+120                                                03342000
@NM00063 EQU   TCAST+118                                                03343000
TCASBR14 EQU   TCAST+116                                                03344000
TCASATTN EQU   TCAST+112                                                03345000
TCASASCI EQU   TCAST+108                                                03346000
@NM00062 EQU   TCAST+102                                                03347000
@NM00061 EQU   TCAST+100                                                03348000
TCASTGTF EQU   TCAST+96                                                 03349000
TCASFLG4 EQU   TCAST+91                                                 03350000
TCASFLG3 EQU   TCAST+90                                                 03351000
TCASFLG2 EQU   TCAST+89                                                 03352000
TCASCONF EQU   TCASFLG1                                                 03353000
@NM00060 EQU   TCASFLG1                                                 03354000
TCASHAST EQU   TCASFLG1                                                 03355000
TCASVSD  EQU   TCASFLG1                                                 03356000
TCASMDSW EQU   TCASFLG1                                                 03357000
TCASBKMD EQU   TCASFLG1                                                 03358000
TCASLTE  EQU   TCAST+84                                                 03359000
TCASEXIT EQU   TCAST+80                                                 03360000
TCASOQM  EQU   TCAST+76                                                 03361000
TCASIQM  EQU   TCAST+72                                                 03362000
TCASWA   EQU   TCAST+60                                                 03363000
TCASFRR  EQU   TCAST+56                                                 03364000
TCASMSGS EQU   TCAST+52                                                 03365000
TCASDATO EQU   TCAST+48                                                 03366000
TCASDATI EQU   TCAST+44                                                 03367000
TCASTID  EQU   TCAST+32                                                 03368000
@NM00059 EQU   TCAST+31                                                 03369000
TCASCHNL EQU   TCAST+30                                                 03370000
TCASCRSZ EQU   TCAST+28                                                 03371000
TCASLBUF EQU   TCAST+24                                                 03372000
TCASHBUF EQU   TCAST+20                                                 03373000
TCASCLSZ EQU   TCAST+18                                                 03374000
TCASRCON EQU   TCAST+16                                                 03375000
TCASACBP EQU   TCAST+8                                                  03376000
TCASUMAX EQU   TCASUSER+2                                               03377000
TCASID   EQU   TCAST                                                    03378000
@NM00058 EQU   SCVTSECT+180                                             03379000
@NM00057 EQU   SCVTSECT+176                                             03380000
SCVTPIQE EQU   SCVTSECT+172                                             03381000
@NM00056 EQU   SCVTSECT+168                                             03382000
SCVTPTRM EQU   SCVTSECT+164                                             03383000
@NM00055 EQU   SCVTSECT+160                                             03384000
@NM00054 EQU   SCVTSECT+156                                             03385000
SCVTQCBR EQU   SCVTSECT+152                                             03386000
@NM00053 EQU   SCVTSECT+144                                             03387000
SCVTTQE  EQU   SCVTSECT+140                                             03388000
@NM00052 EQU   SCVTSECT+136                                             03389000
SCVTSVCT EQU   SCVTSECT+132                                             03390000
@NM00051 EQU   SCVTSECT+128                                             03391000
@NM00050 EQU   SCVTSECT+124                                             03392000
SCVTRXLQ EQU   SCVTSECT+120                                             03393000
@NM00049 EQU   SCVTSECT+116                                             03394000
SCVTCTCB EQU   SCVTSECT+112                                             03395000
@NM00048 EQU   SCVTSECT+108                                             03396000
@NM00047 EQU   SCVTSECT+104                                             03397000
@NM00046 EQU   SCVTSECT+100                                             03398000
@NM00045 EQU   SCVTSECT+96                                              03399000
SCVTCOMM EQU   SCVTSECT+92                                              03400000
@NM00044 EQU   SCVTSECT+88                                              03401000
@NM00043 EQU   SCVTSECT+84                                              03402000
@NM00042 EQU   SCVTSECT+80                                              03403000
@NM00041 EQU   SCVTSECT+76                                              03404000
@NM00040 EQU   SCVTSECT+72                                              03405000
SCVTGMBR EQU   SCVTSECT+68                                              03406000
SCVTRPTR EQU   SCVTSECT+64                                              03407000
SCVTHSKP EQU   SCVTSECT+60                                              03408000
@NM00039 EQU   SCVTSECT+56                                              03409000
@NM00038 EQU   SCVTSECT+52                                              03410000
SCVTLFRM EQU   SCVTSECT+48                                              03411000
SCVTCDCL EQU   SCVTSECT+44                                              03412000
@NM00037 EQU   SCVTSECT+40                                              03413000
SCVTRACE EQU   SCVTSECT+36                                              03414000
@NM00036 EQU   SCVTSECT+32                                              03415000
SCVTRMBR EQU   SCVTSECT+28                                              03416000
@NM00035 EQU   SCVTSECT+24                                              03417000
@NM00034 EQU   SCVTSECT+20                                              03418000
@NM00033 EQU   SCVTSECT+16                                              03419000
@NM00032 EQU   SCVTSECT+14                                              03420000
SCVTBR14 EQU   SCVTSECT+12                                              03421000
SCVTSPET EQU   SCVTSECT+8                                               03422000
SCVTPGWR EQU   SCVTSECT+4                                               03423000
SCVTPGTM EQU   SCVTSECT                                                 03424000
WSAGSCHE EQU   WSAG+40                                                  03425000
WSAGREST EQU   WSAG+36                                                  03426000
WSAGNQDQ EQU   WSAG+32                                                  03427000
WSAGMEMT EQU   WSAG+28                                                  03428000
WSAGOPTM EQU   WSAG+24                                                  03429000
WSAGSTAT EQU   WSAG+20                                                  03430000
WSAGEMS0 EQU   WSAG+16                                                  03431000
WSAGSSRS EQU   WSAG+12                                                  03432000
WSAGRSM  EQU   WSAG+8                                                   03433000
WSAGGMFM EQU   WSAG+4                                                   03434000
WSAGPGIO EQU   WSAG                                                     03435000
CVTLEVL  EQU   CVTRELNO+2                                               03436000
CVTNUMB  EQU   CVTRELNO                                                 03437000
CVTMDL   EQU   CVTFIX+250                                               03438000
@NM00031 EQU   CVTFIX+248                                               03439000
@NM00030 EQU   CVTFIX                                                   03440000
CVTRV482 EQU   CVTXTNT2+128                                             03441000
CVTRV481 EQU   CVTXTNT2+124                                             03442000
CVTRV480 EQU   CVTXTNT2+120                                             03443000
CVTRV479 EQU   CVTXTNT2+118                                             03444000
CVTRV478 EQU   CVTXTNT2+117                                             03445000
CVTRV477 EQU   CVTXTNT2+116                                             03446000
CVTRV476 EQU   CVTXTNT2+115                                             03447000
CVTRV475 EQU   CVTXTNT2+114                                             03448000
CVTRV474 EQU   CVTRV466                                                 03449000
CVTRV473 EQU   CVTRV466                                                 03450000
CVTRV472 EQU   CVTRV466                                                 03451000
CVTRV471 EQU   CVTRV466                                                 03452000
CVTRV470 EQU   CVTRV466                                                 03453000
CVTRV469 EQU   CVTRV466                                                 03454000
CVTRV468 EQU   CVTRV466                                                 03455000
CVTRV467 EQU   CVTRV466                                                 03456000
CVTRV465 EQU   CVTRV457                                                 03457000
CVTRV464 EQU   CVTRV457                                                 03458000
CVTRV463 EQU   CVTRV457                                                 03459000
CVTRV462 EQU   CVTRV457                                                 03460000
CVTRV461 EQU   CVTRV457                                                 03461000
CVTRV460 EQU   CVTRV457                                                 03462000
CVTRV459 EQU   CVTRV457                                                 03463000
CVTRV458 EQU   CVTRV457                                                 03464000
CVTRV456 EQU   CVTXTNT2+108                                             03465000
CVTRV455 EQU   CVTXTNT2+104                                             03466000
CVTRV454 EQU   CVTXTNT2+100                                             03467000
CVTRV453 EQU   CVTXTNT2+96                                              03468000
CVTRV452 EQU   CVTXTNT2+94                                              03469000
CVTRV451 EQU   CVTXTNT2+92                                              03470000
CVTRV450 EQU   CVTXTNT2+90                                              03471000
CVTRV449 EQU   CVTXTNT2+88                                              03472000
CVTRV448 EQU   CVTXTNT2+87                                              03473000
CVTRV447 EQU   CVTXTNT2+86                                              03474000
CVTRV446 EQU   CVTRV438                                                 03475000
CVTRV445 EQU   CVTRV438                                                 03476000
CVTRV444 EQU   CVTRV438                                                 03477000
CVTRV443 EQU   CVTRV438                                                 03478000
CVTRV442 EQU   CVTRV438                                                 03479000
CVTRV441 EQU   CVTRV438                                                 03480000
CVTRV440 EQU   CVTRV438                                                 03481000
CVTRV439 EQU   CVTRV438                                                 03482000
CVTRV437 EQU   CVTRV429                                                 03483000
CVTRV436 EQU   CVTRV429                                                 03484000
CVTRV435 EQU   CVTRV429                                                 03485000
CVTRV434 EQU   CVTRV429                                                 03486000
CVTRV433 EQU   CVTRV429                                                 03487000
CVTRV432 EQU   CVTRV429                                                 03488000
CVTRV431 EQU   CVTRV429                                                 03489000
CVTRV430 EQU   CVTRV429                                                 03490000
CVTRV428 EQU   CVTXTNT2+80                                              03491000
CVTRV427 EQU   CVTXTNT2+76                                              03492000
CVTRV426 EQU   CVTXTNT2+72                                              03493000
CVTRV425 EQU   CVTXTNT2+68                                              03494000
CVTATACT EQU   CVTATCVT                                                 03495000
CVTRV423 EQU   CVTXTNT2+62                                              03496000
CVTRV422 EQU   CVTXTNT2+60                                              03497000
CVTRV421 EQU   CVTXTNT2+58                                              03498000
CVTRV420 EQU   CVTXTNT2+56                                              03499000
CVTRV419 EQU   CVTXTNT2+55                                              03500000
CVTRV418 EQU   CVTXTNT2+54                                              03501000
CVTRV417 EQU   CVTRV409                                                 03502000
CVTRV416 EQU   CVTRV409                                                 03503000
CVTRV415 EQU   CVTRV409                                                 03504000
CVTRV414 EQU   CVTRV409                                                 03505000
CVTRV413 EQU   CVTRV409                                                 03506000
CVTRV412 EQU   CVTRV409                                                 03507000
CVTRV411 EQU   CVTRV409                                                 03508000
CVTRV410 EQU   CVTRV409                                                 03509000
CVTRV408 EQU   CVTRV400                                                 03510000
CVTRV407 EQU   CVTRV400                                                 03511000
CVTRV406 EQU   CVTRV400                                                 03512000
CVTRV405 EQU   CVTRV400                                                 03513000
CVTRV404 EQU   CVTRV400                                                 03514000
CVTRV403 EQU   CVTRV400                                                 03515000
CVTRV402 EQU   CVTRV400                                                 03516000
CVTRV401 EQU   CVTRV400                                                 03517000
CVTICB   EQU   CVTXTNT2+48                                              03518000
CVTSKTA  EQU   CVTXTNT2+44                                              03519000
CVTCCVT  EQU   CVTXTNT2+40                                              03520000
CVTRSV98 EQU   CVTXTNT2+36                                              03521000
CVTRSV97 EQU   CVTXTNT2+34                                              03522000
CVTRSV96 EQU   CVTXTNT2+32                                              03523000
CVTOLTEP EQU   CVTXTNT2+28                                              03524000
CVTQIDA  EQU   CVTQID+1                                                 03525000
CVTRSV95 EQU   CVTQID                                                   03526000
CVTRSV94 EQU   CVTXTNT2+20                                              03527000
CVTRSV93 EQU   CVTXTNT2+16                                              03528000
CVTRSV92 EQU   CVTXTNT2+12                                              03529000
CVTDEBVR EQU   CVTXTNT2+8                                               03530000
CVTRSV91 EQU   CVTXTNT2+6                                               03531000
CVTRSV9H EQU   CVTFLGBT                                                 03532000
CVTRSV9G EQU   CVTFLGBT                                                 03533000
CVTRSV9F EQU   CVTFLGBT                                                 03534000
CVTRSV9E EQU   CVTFLGBT                                                 03535000
CVTRSV9D EQU   CVTFLGBT                                                 03536000
CVTBAH   EQU   CVTFLGBT                                                 03537000
CVTVME   EQU   CVTFLGBT                                                 03538000
CVTNPE   EQU   CVTFLGBT                                                 03539000
CVTNUCLS EQU   CVTXTNT2+4                                               03540000
CVTDSSVA EQU   CVTDSSV+1                                                03541000
CVTRSV89 EQU   CVTDSSV                                                  03542000
CVTRSV88 EQU   CVTXTNT1+8                                               03543000
CVTRSV87 EQU   CVTXTNT1+4                                               03544000
CVTFACHN EQU   CVTXTNT1                                                 03545000
CVTRV488 EQU   CVTMAP+412                                               03546000
CVTRV487 EQU   CVTMAP+408                                               03547000
CVTRV486 EQU   CVTMAP+404                                               03548000
CVTRV485 EQU   CVTMAP+400                                               03549000
CVTACTAP EQU   CVTMAP+396                                               03550000
CVTAUTH  EQU   CVTMAP+392                                               03551000
CVTRV490 EQU   CVTMAP+388                                               03552000
CVTSU    EQU   CVTMAP+384                                               03553000
CVTVOLT1 EQU   CVTVOLM1+1                                               03554000
CVTVOLI1 EQU   CVTVOLF1                                                 03555000
CVTSTOA  EQU   CVTMAP+376                                               03556000
CVTRSV58 EQU   CVTMAP+374                                               03557000
CVTRSV57 EQU   CVTMAP+372                                               03558000
CVTDDCE  EQU   CVTMAP+368                                               03559000
CVTPNWFR EQU   CVTMAP+364                                               03560000
CVTSMF   EQU   CVTMAP+360                                               03561000
CVTSULK  EQU   CVTMAP+358                                               03562000
CVTSLKO  EQU   CVTSYSK                                                  03563000
CVTSLKP  EQU   CVTSYSK                                                  03564000
CVTSLKQ  EQU   CVTSYSK                                                  03565000
CVTSLKR  EQU   CVTSYSK                                                  03566000
CVTRSV56 EQU   CVTSYSK                                                  03567000
CVTRSV55 EQU   CVTSYSK                                                  03568000
CVTRSV54 EQU   CVTSYSK                                                  03569000
CVTRSV53 EQU   CVTSYSK                                                  03570000
CVTRSV52 EQU   CVTA1F1                                                  03571000
CVTRSV51 EQU   CVTA1F1                                                  03572000
CVTRSV50 EQU   CVTA1F1                                                  03573000
CVTRSV49 EQU   CVTA1F1                                                  03574000
CVTRSV48 EQU   CVTA1F1                                                  03575000
CVTRSV47 EQU   CVTA1F1                                                  03576000
CVTSRSW  EQU   CVTA1F1                                                  03577000
CVTPFSW  EQU   CVTA1F1                                                  03578000
CVTPCVT  EQU   CVTMAP+352                                               03579000
CVTRSV46 EQU   CVTMAP+344                                               03580000
CVTRSV45 EQU   CVTMAP+340                                               03581000
CVTRSV44 EQU   CVTMAP+338                                               03582000
CVTRSV43 EQU   CVTMAP+336                                               03583000
CVTHJESA EQU   CVTHJES+1                                                03584000
CVTRSV42 EQU   CVTHJES                                                  03585000
CVTEXT2A EQU   CVTEXT2+1                                                03586000
CVTRSV41 EQU   CVTEXT2                                                  03587000
CVTAPFA  EQU   CVTAPF+1                                                 03588000
CVTRSV40 EQU   CVTAPF                                                   03589000
CVTRV518 EQU   CVTINTLA                                                 03590000
CVTRV517 EQU   CVTERPV                                                  03591000
CVTEORM  EQU   CVTMAP+312                                               03592000
CVTMCHPR EQU   CVTMAP+308                                               03593000
CVTTZ    EQU   CVTMAP+304                                               03594000
CVTJEPS  EQU   CVTMAP+300                                               03595000
CVTJESCT EQU   CVTMAP+296                                               03596000
CVTMODE  EQU   CVTMAP+292                                               03597000
CVTPTRV  EQU   CVTMAP+288                                               03598000
CVTREAL  EQU   CVTMAP+284                                               03599000
CVTRSV39 EQU   CVTMAP+280                                               03600000
CVTRSV38 EQU   CVTMAP+276                                               03601000
CVTDMSRA EQU   CVTDMSR+1                                                03602000
CVTRV634 EQU   CVTDMSRF                                                 03603000
CVTRV633 EQU   CVTDMSRF                                                 03604000
CVTRV632 EQU   CVTDMSRF                                                 03605000
CVTRV631 EQU   CVTDMSRF                                                 03606000
CVTRV630 EQU   CVTDMSRF                                                 03607000
CVTRV629 EQU   CVTDMSRF                                                 03608000
CVTUDUMP EQU   CVTDMSRF                                                 03609000
CVTSDUMP EQU   CVTDMSRF                                                 03610000
CVTQMSGA EQU   CVTQMSG+1                                                03611000
CVTRSV36 EQU   CVTQMSG                                                  03612000
CVTAMFF  EQU   CVTMAP+264                                               03613000
CVTPURGA EQU   CVTPURG+1                                                03614000
CVTRSV35 EQU   CVTPURG                                                  03615000
CVTCBSP  EQU   CVTMAP+256                                               03616000
CVTATERA EQU   CVTATER+1                                                03617000
CVTSYST  EQU   CVTATER                                                  03618000
CVTVOLT2 EQU   CVTTAT                                                   03619000
CVTVOLI2 EQU   CVTVOLF2                                                 03620000
CVTAQAVB EQU   CVTAQAVT+1                                               03621000
CVTRSV34 EQU   CVTTCMFG                                                 03622000
CVTRSV33 EQU   CVTTCMFG                                                 03623000
CVTRSV32 EQU   CVTTCMFG                                                 03624000
CVTRSV31 EQU   CVTTCMFG                                                 03625000
CVTRSV30 EQU   CVTTCMFG                                                 03626000
CVTRSV29 EQU   CVTTCMFG                                                 03627000
CVTLDEV  EQU   CVTTCMFG                                                 03628000
CVTGTFA  EQU   CVTGTF+1                                                 03629000
CVTRSV27 EQU   CVTGTFST                                                 03630000
CVTRNIO  EQU   CVTGTFST                                                 03631000
CVTUSR   EQU   CVTGTFST                                                 03632000
CVTRV318 EQU   CVTFORM                                                  03633000
CVTRV317 EQU   CVTTMODE                                                 03634000
CVTRV316 EQU   CVTSTATE                                                 03635000
CVTRV315 EQU   CVTGTFS                                                  03636000
CVTGTFAV EQU   CVTGTFS                                                  03637000
CVT0SCR1 EQU   CVTMAP+232                                               03638000
CVTRV515 EQU   CVTMAP+228                                               03639000
CVTRMS   EQU   CVTMAP+224                                               03640000
CVTPATCH EQU   CVTMAP+220                                               03641000
CVTTSCE  EQU   CVTMAP+216                                               03642000
CVTLNKSC EQU   CVTMAP+214                                               03643000
CVTQABST EQU   CVTMAP+212                                               03644000
CVTMDLDS EQU   CVTMAP+208                                               03645000
CVTUSER  EQU   CVTMAP+204                                               03646000
CVTSMCA  EQU   CVTMAP+196                                               03647000
CVTRSV18 EQU   CVTMAP+192                                               03648000
CVTQLPAQ EQU   CVTMAP+188                                               03649000
CVTQCDSR EQU   CVTMAP+184                                               03650000
CVTVS1B  EQU   CVTOPTB                                                  03651000
CVTVS1A  EQU   CVTOPTB                                                  03652000
CVTFP    EQU   CVTOPTB                                                  03653000
CVTAPTHR EQU   CVTOPTB                                                  03654000
CVTNLOG  EQU   CVTOPTB                                                  03655000
CVTTOD   EQU   CVTOPTB                                                  03656000
CVTCTIMS EQU   CVTOPTB                                                  03657000
CVTPROT  EQU   CVTOPTB                                                  03658000
CVTXPFP  EQU   CVTOPTA                                                  03659000
CVTASCII EQU   CVTOPTA                                                  03660000
CVTRSV13 EQU   CVTOPTA                                                  03661000
CVTRSV12 EQU   CVTOPTA                                                  03662000
CVTNIP   EQU   CVTOPTA                                                  03663000
CVTDDR   EQU   CVTOPTA                                                  03664000
CVTAPR   EQU   CVTOPTA                                                  03665000
CVTCCH   EQU   CVTOPTA                                                  03666000
CVTSNCTR EQU   CVTMAP+180                                               03667000
CVTQMWR  EQU   CVTMAP+176                                               03668000
CVTQOCR  EQU   CVTMAP+172                                               03669000
CVT1EF00 EQU   CVTMAP+168                                               03670000
CVTMZ00  EQU   CVTMAP+164                                               03671000
CVTHEAD  EQU   CVTMAP+160                                               03672000
CVTRSV11 EQU   CVTMAP+156                                               03673000
CVTMSER  EQU   CVTMAP+148                                               03674000
CVTRV516 EQU   CVTIERLC                                                 03675000
CVTILCH  EQU   CVTMAP+140                                               03676000
CVT0DS   EQU   CVTMAP+136                                               03677000
CVTFBOSV EQU   CVTMAP+132                                               03678000
CVTNUCB  EQU   CVTMAP+128                                               03679000
CVTIXAVL EQU   CVTMAP+124                                               03680000
CVTIOQET EQU   CVTMAP+120                                               03681000
CVTDCBA  EQU   CVTMAP+117                                               03682000
CVTMVS2  EQU   CVTDCB                                                   03683000
CVT6DAT  EQU   CVTDCB                                                   03684000
CVT4MPS  EQU   CVTDCB                                                   03685000
CVTRSV09 EQU   CVTDCB                                                   03686000
CVT4MS1  EQU   CVTDCB                                                   03687000
CVT2SPS  EQU   CVTDCB                                                   03688000
CVT1SSS  EQU   CVTDCB                                                   03689000
CVTRSV08 EQU   CVTDCB                                                   03690000
CVTSTB   EQU   CVTMAP+112                                               03691000
CVTQTD00 EQU   CVTMAP+108                                               03692000
CVTQTE00 EQU   CVTMAP+104                                               03693000
CVTCUCB  EQU   CVTMAP+100                                               03694000
CVTSJQ   EQU   CVTMAP+96                                                03695000
CVTPBLDL EQU   CVTMAP+92                                                03696000
CVTTPC   EQU   CVTMAP+88                                                03697000
CVTSVDCB EQU   CVTMAP+84                                                03698000
CVTEXIT  EQU   CVTMAP+80                                                03699000
CVT0FN00 EQU   CVTMAP+76                                                03700000
CVTDARA  EQU   CVTDAR+1                                                 03701000
CVTRSV07 EQU   CVTFLGS1                                                 03702000
CVTRSV06 EQU   CVTFLGS1                                                 03703000
CVTRSV05 EQU   CVTFLGS1                                                 03704000
CVTRSV04 EQU   CVTFLGS1                                                 03705000
CVTRSV03 EQU   CVTFLGS1                                                 03706000
CVTRSV02 EQU   CVTFLGS1                                                 03707000
CVTRSV01 EQU   CVTFLGS1                                                 03708000
CVTDMPLK EQU   CVTFLGS1                                                 03709000
CVTXITP  EQU   CVTMAP+68                                                03710000
CVTZDTAB EQU   CVTMAP+64                                                03711000
CVTMSLT  EQU   CVTMAP+60                                                03712000
CVTDATE  EQU   CVTMAP+56                                                03713000
CVTBTERM EQU   CVTMAP+52                                                03714000
CVTSYSAD EQU   CVTMAP+48                                                03715000
CVTXTLER EQU   CVTMAP+44                                                03716000
CVTILK2  EQU   CVTMAP+40                                                03717000
CVTILK1  EQU   CVTMAP+36                                                03718000
CVTPRLTV EQU   CVTMAP+32                                                03719000
CVTPCNVT EQU   CVTMAP+28                                                03720000
CVT0VL00 EQU   CVTMAP+24                                                03721000
CVTXAPG  EQU   CVTMAP+20                                                03722000
CVTBUF   EQU   CVTMAP+16                                                03723000
CVTJOB   EQU   CVTMAP+12                                                03724000
CVTLINK  EQU   CVTMAP+8                                                 03725000
CVT0EF00 EQU   CVTMAP+4                                                 03726000
CVTTCBP  EQU   CVTMAP                                                   03727000
CVT      EQU   CVTMAP                                                   03728000
@NM00005 EQU   TTLIST+4                                                 03729000
@NM00004 EQU   LOGBUF+4                                                 03730000
LBUFOFF  EQU   LOGBUF+2                                                 03731000
WERC     EQU   WESTD+8                                                  03732000
@NM00029 EQU   PSA+3668                                                 03733000
PSASTAK  EQU   PSA+3072                                                 03734000
@NM00028 EQU   PSA+1048                                                 03735000
PSAUSEND EQU   PSA+1048                                                 03736000
PSARV062 EQU   PSA+1044                                                 03737000
PSACDAL  EQU   PSA+1040                                                 03738000
PSAWTCOD EQU   PSA+1036                                                 03739000
PSAATCVT EQU   PSA+1032                                                 03740000
PSAPCPSW EQU   PSA+1024                                                 03741000
PSAPIR2  EQU   PSA+1020                                                 03742000
PSARV059 EQU   PSA+1018                                                 03743000
PSASVC13 EQU   PSA+1016                                                 03744000
PSALSFCC EQU   PSA+1012                                                 03745000
PSASFACC EQU   PSA+1008                                                 03746000
PSASTOP  EQU   PSA+992                                                  03747000
PSASTART EQU   PSA+976                                                  03748000
PSARSPSW EQU   PSA+968                                                  03749000
PSASRPSW EQU   PSA+960                                                  03750000
PSARV045 EQU   PSA+892                                                  03751000
PSARV044 EQU   PSA+888                                                  03752000
PSARV043 EQU   PSA+884                                                  03753000
PSARV042 EQU   PSA+880                                                  03754000
PSARV041 EQU   PSA+876                                                  03755000
PSARV040 EQU   PSA+872                                                  03756000
PSARV025 EQU   PSA+868                                                  03757000
PSADSSED EQU   PSA+868                                                  03758000
PSADSSPR EQU   PSA+864                                                  03759000
PSADSSFW EQU   PSA+860                                                  03760000
PSADSS14 EQU   PSA+856                                                  03761000
PSADSSPP EQU   PSA+848                                                  03762000
PSADSSRP EQU   PSA+840                                                  03763000
PSADSS05 EQU   PSADSSF4                                                 03764000
PSADSS10 EQU   PSADSSF4                                                 03765000
PSADSSVE EQU   PSADSSF4                                                 03766000
PSADSSDE EQU   PSADSSF4                                                 03767000
PSADSSC0 EQU   PSADSSF4                                                 03768000
PSADSSIE EQU   PSADSSF4                                                 03769000
PSADSS12 EQU   PSADSSF4                                                 03770000
PSADSSRC EQU   PSADSSF4                                                 03771000
PSARV057 EQU   PSADSSF3                                                 03772000
PSARV056 EQU   PSADSSF3                                                 03773000
PSARV055 EQU   PSADSSF3                                                 03774000
PSADSSMC EQU   PSADSSF3                                                 03775000
PSADSSRW EQU   PSADSSF3                                                 03776000
PSADSSNM EQU   PSADSSF3                                                 03777000
PSADSSES EQU   PSADSSF3                                                 03778000
PSADSSGP EQU   PSADSSF3                                                 03779000
PSADSSF2 EQU   PSADSSFL+1                                               03780000
PSADSSPI EQU   PSADSSF1                                                 03781000
PSADSSOI EQU   PSADSSF1                                                 03782000
PSADSSSP EQU   PSADSSF1                                                 03783000
PSADSSTP EQU   PSADSSF1                                                 03784000
PSADSSDW EQU   PSADSSF1                                                 03785000
PSADSSDD EQU   PSADSSF1                                                 03786000
PSADSSDM EQU   PSADSSF1                                                 03787000
PSADSSMV EQU   PSADSSF1                                                 03788000
PSADSSTS EQU   PSA+816                                                  03789000
PSADSSWK EQU   PSA+812                                                  03790000
PSADSSR3 EQU   PSA+808                                                  03791000
PSADSSR2 EQU   PSA+804                                                  03792000
PSADSSRS EQU   PSA+800                                                  03793000
PSASTOR  EQU   PSA+796                                                  03794000
PSACPUSA EQU   PSA+794                                                  03795000
PSAVSTAP EQU   PSA+792                                                  03796000
PSAWKVAP EQU   PSA+788                                                  03797000
PSAWKRAP EQU   PSA+784                                                  03798000
PSAMCHIC EQU   PSA+783                                                  03799000
PSARV061 EQU   PSA+782                                                  03800000
PSASYMSK EQU   PSA+781                                                  03801000
PSAMCHFL EQU   PSA+780                                                  03802000
PSACR0   EQU   PSA+776                                                  03803000
PSAPSWSV EQU   PSA+768                                                  03804000
PSACLHS  EQU   PSAHLHI                                                  03805000
PSALKR15 EQU   PSALKSA+60                                               03806000
PSALKR14 EQU   PSALKSA+56                                               03807000
PSALKR13 EQU   PSALKSA+52                                               03808000
PSALKR12 EQU   PSALKSA+48                                               03809000
PSALKR11 EQU   PSALKSA+44                                               03810000
PSALKR10 EQU   PSALKSA+40                                               03811000
PSALKR9  EQU   PSALKSA+36                                               03812000
PSALKR8  EQU   PSALKSA+32                                               03813000
PSALKR7  EQU   PSALKSA+28                                               03814000
PSALKR6  EQU   PSALKSA+24                                               03815000
PSALKR5  EQU   PSALKSA+20                                               03816000
PSALKR4  EQU   PSALKSA+16                                               03817000
PSALKR3  EQU   PSALKSA+12                                               03818000
PSALKR2  EQU   PSALKSA+8                                                03819000
PSALKR1  EQU   PSALKSA+4                                                03820000
PSALKR0  EQU   PSALKSA                                                  03821000
PSARV023 EQU   PSACLHT+52                                               03822000
PSALOCAL EQU   PSACLHT+48                                               03823000
PSACMSL  EQU   PSACLHT+44                                               03824000
PSAOPTL  EQU   PSACLHT+40                                               03825000
PSATPACL EQU   PSACLHT+36                                               03826000
PSATPDNL EQU   PSACLHT+32                                               03827000
PSATPNCL EQU   PSACLHT+28                                               03828000
PSAIOSLL EQU   PSACLHT+24                                               03829000
PSAIOSUL EQU   PSACLHT+20                                               03830000
PSAIOSCL EQU   PSACLHT+16                                               03831000
PSAIOSSL EQU   PSACLHT+12                                               03832000
PSASALCL EQU   PSACLHT+8                                                03833000
PSAASML  EQU   PSACLHT+4                                                03834000
PSADISPL EQU   PSACLHT                                                  03835000
PSASRSA  EQU   PSA+636                                                  03836000
PSARV050 EQU   PSA+634                                                  03837000
PSADSSGO EQU   PSA+633                                                  03838000
PSARECUR EQU   PSA+632                                                  03839000
PSAHLHIS EQU   PSA+628                                                  03840000
PSAIPCSA EQU   PSA+624                                                  03841000
@NM00027 EQU   PSA+621                                                  03842000
PSAIPCDM EQU   PSA+620                                                  03843000
PSAIPCD  EQU   PSA+616                                                  03844000
@NM00026 EQU   PSA+613                                                  03845000
PSAIPCRM EQU   PSA+612                                                  03846000
PSAIPCR  EQU   PSA+608                                                  03847000
PSAMCHEX EQU   PSA+600                                                  03848000
PSAMPSW  EQU   PSA+592                                                  03849000
PSAEXPS2 EQU   PSA+584                                                  03850000
PSAEXPS1 EQU   PSA+576                                                  03851000
PSAPIREG EQU   PSA+572                                                  03852000
PSARSREG EQU   PSA+568                                                  03853000
PSAGPREG EQU   PSA+556                                                  03854000
PSARV022 EQU   PSASUP4                                                  03855000
PSARV021 EQU   PSASUP4                                                  03856000
PSARV020 EQU   PSASUP4                                                  03857000
PSARV019 EQU   PSASUP4                                                  03858000
PSARV018 EQU   PSASUP4                                                  03859000
PSARV017 EQU   PSASUP4                                                  03860000
PSARV016 EQU   PSASUP4                                                  03861000
PSARV015 EQU   PSASUP4                                                  03862000
PSARV014 EQU   PSASUP3                                                  03863000
PSARV013 EQU   PSASUP3                                                  03864000
PSARV012 EQU   PSASUP3                                                  03865000
PSARV011 EQU   PSASUP3                                                  03866000
PSASPR   EQU   PSASUP3                                                  03867000
PSAPSREG EQU   PSASUP3                                                  03868000
PSAPI2   EQU   PSASUP3                                                  03869000
PSAIOSUP EQU   PSASUP3                                                  03870000
PSALCR   EQU   PSASUP2                                                  03871000
PSARTM   EQU   PSASUP2                                                  03872000
PSAACR   EQU   PSASUP2                                                  03873000
PSAIPCE2 EQU   PSASUP2                                                  03874000
PSAIPCES EQU   PSASUP2                                                  03875000
PSAIPCEC EQU   PSASUP2                                                  03876000
PSAGTF   EQU   PSASUP2                                                  03877000
PSAIPCRI EQU   PSASUP2                                                  03878000
PSARV063 EQU   PSASUP1                                                  03879000
PSATCTL  EQU   PSASUP1                                                  03880000
PSADISP  EQU   PSASUP1                                                  03881000
PSALOCK  EQU   PSASUP1                                                  03882000
PSAPI    EQU   PSASUP1                                                  03883000
PSAEXT   EQU   PSASUP1                                                  03884000
PSASVC   EQU   PSASUP1                                                  03885000
PSAIO    EQU   PSASUP1                                                  03886000
PSAANEW  EQU   PSA+544                                                  03887000
PSATNEW  EQU   PSA+536                                                  03888000
PSALCCAR EQU   PSA+532                                                  03889000
PSALCCAV EQU   PSA+528                                                  03890000
PSAPCCAR EQU   PSA+524                                                  03891000
PSAPCCAV EQU   PSA+520                                                  03892000
PSACPULA EQU   PSA+518                                                  03893000
PSACPUPA EQU   PSA+516                                                  03894000
PSAPSA   EQU   PSA+512                                                  03895000
FLCHDEND EQU   PSA+512                                                  03896000
FLCCRSAV EQU   FLCMCLA+280                                              03897000
FLCGRSAV EQU   FLCMCLA+216                                              03898000
FLCFPSAV EQU   FLCMCLA+184                                              03899000
FLCFLA   EQU   FLCMCLA+88                                               03900000
FLCRGNCD EQU   FLCMCLA+84                                               03901000
FLCFSAA  EQU   FLCFSA+1                                                 03902000
@NM00025 EQU   FLCFSA                                                   03903000
@NM00024 EQU   FLCMCLA+72                                               03904000
FLCMCIC  EQU   FLCMCLA+64                                               03905000
@NM00023 EQU   FLCMCLA+20                                               03906000
FLCIOAA  EQU   FLCIOA+1                                                 03907000
@NM00022 EQU   FLCIOA                                                   03908000
@NM00021 EQU   FLCMCLA+15                                               03909000
@NM00020 EQU   FLCMCLA+14                                               03910000
@NM00019 EQU   FLCMCLA+12                                               03911000
FLCLCL   EQU   FLCMCLA+8                                                03912000
FLCIOELA EQU   FLCIOEL+1                                                03913000
@NM00018 EQU   FLCIOEL                                                  03914000
FLCCHNID EQU   FLCMCLA                                                  03915000
@NM00017 EQU   PSA+160                                                  03916000
FLCMTRCD EQU   PSA+157                                                  03917000
@NM00016 EQU   PSA+156                                                  03918000
FLCPERA  EQU   FLCPER+1                                                 03919000
@NM00015 EQU   FLCPER                                                   03920000
@NM00014 EQU   PSA+151                                                  03921000
FLCPERCD EQU   PSA+150                                                  03922000
FLCMCNUM EQU   PSA+149                                                  03923000
@NM00013 EQU   PSA+148                                                  03924000
FLCTEAA  EQU   FLCTEA+1                                                 03925000
@NM00012 EQU   FLCTEA                                                   03926000
PSAPIPC  EQU   PSAPICOD                                                 03927000
PSAPIMC  EQU   PSAPICOD                                                 03928000
PSAPIPER EQU   PSAPICOD                                                 03929000
PSARV049 EQU   FLCPICOD                                                 03930000
FLCPILCB EQU   FLCPIILC                                                 03931000
@NM00011 EQU   FLCPIILC                                                 03932000
@NM00010 EQU   PSAEPPSW                                                 03933000
FLCSVCN  EQU   PSAESPSW+2                                               03934000
FLCSILCB EQU   FLCSVILC                                                 03935000
@NM00009 EQU   FLCSVILC                                                 03936000
@NM00008 EQU   PSAESPSW                                                 03937000
FLCEICOD EQU   PSAEEPSW+2                                               03938000
PSASPAD  EQU   PSAEEPSW                                                 03939000
@NM00007 EQU   PSA+128                                                  03940000
FLCINPSW EQU   PSA+120                                                  03941000
FLCMNPSW EQU   PSA+112                                                  03942000
FLCPNPSW EQU   PSA+104                                                  03943000
FLCSNPSW EQU   PSA+96                                                   03944000
FLCENPSW EQU   PSA+88                                                   03945000
FLCTRACE EQU   PSA+84                                                   03946000
FLCTIMER EQU   PSA+80                                                   03947000
FLCCVT2  EQU   PSA+76                                                   03948000
FLCCAW   EQU   PSA+72                                                   03949000
FLCCSW   EQU   PSA+64                                                   03950000
FLCIOPSW EQU   PSA+56                                                   03951000
FLCMOPSW EQU   PSA+48                                                   03952000
FLCPOPSW EQU   PSA+40                                                   03953000
FLCSOPSW EQU   PSA+32                                                   03954000
FLCEOPSW EQU   PSA+24                                                   03955000
@NM00006 EQU   FLCICCW2+4                                               03956000
FLCICCW1 EQU   FLCROPSW                                                 03957000
FLCIPPSW EQU   FLCRNPSW                                                 03958000
.@UNREFD ANOP                          END UNREFERENCED COMPONENTS      03959000
@RC00156 EQU   @RC00155                                                 03960000
@RC00176 EQU   @RC00171                                                 03961000
@PB00011 EQU   @PB00012                                                 03962000
@PB00010 EQU   @PB00011                                                 03963000
@PB00009 EQU   @PB00010                                                 03964000
@PB00008 EQU   @PB00009                                                 03965000
@PB00007 EQU   @PB00008                                                 03966000
@PB00006 EQU   @PB00007                                                 03967000
@PB00005 EQU   @PB00006                                                 03968000
@PB00004 EQU   @PB00005                                                 03969000
@PB00003 EQU   @PB00004                                                 03970000
@PB00002 EQU   @PB00003                                                 03971000
@ENDDATA EQU   *                                                        03972000
         END   IKTAY8,(C'PLS1910',0702,80232)                           03973000
